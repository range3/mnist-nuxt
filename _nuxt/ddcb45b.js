(window.webpackJsonp=window.webpackJsonp||[]).push([[9,3,5],{366:function(t,n,e){var content=e(382);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(20).default)("4b6d10fe",content,!0,{sourceMap:!1})},381:function(t,n,e){"use strict";e(366)},382:function(t,n,e){var r=e(19)(!1);r.push([t.i,".horizontal-bar-graph-item[data-v-fa2e4d6e]{width:202px;height:22px;margin:0 0 3px;padding:0;border:1px solid #000;background-color:#fff}.horizontal-bar-graph-item-inner[data-v-fa2e4d6e]{height:20px;margin:0;padding:0;border:none;background-color:#888}",""]),t.exports=r},383:function(t,n,e){var content=e(396);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(20).default)("54d85dda",content,!0,{sourceMap:!1})},386:function(t,n,e){"use strict";e.r(n);e(26);var r={props:{value:{type:Number,default:0}},computed:{innerStyle:function(){return{width:"".concat(100*this.value,"%")}}}},o=(e(381),e(91)),component=Object(o.a)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"horizontal-bar-graph-item"},[e("div",{staticClass:"horizontal-bar-graph-item-inner",style:t.innerStyle})])}),[],!1,null,"fa2e4d6e",null);n.default=component.exports},395:function(t,n,e){"use strict";e(383)},396:function(t,n,e){var r=e(19)(!1);r.push([t.i,".drawing-canvas-wrap[data-v-f9c603a2]{width:320px}.drawing-canvas[data-v-f9c603a2]{border:1px solid #000;background-color:#fff}",""]),t.exports=r},403:function(t,n,e){var content=e(452);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(20).default)("1d6f1fc4",content,!0,{sourceMap:!1})},407:function(t,n,e){"use strict";e.r(n);e(251);var r={props:{value:{type:Array,default:function(){return Array(10).fill(0)}}}},o=e(91),c=e(122),l=e.n(c),d=e(397),component=Object(o.a)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-card",{staticClass:"horizontal-bar-graph d-flex flex-column",attrs:{tile:""}},t._l(t.value,(function(n,r){return e("v-card",{key:r,staticClass:"d-flex",attrs:{tile:""}},[e("div",[t._v(t._s(r))]),t._v(" "),e("horizontal-bar-graph-item",{attrs:{value:n}})],1)})),1)}),[],!1,null,null,null);n.default=component.exports;l()(component,{HorizontalBarGraphItem:e(386).default}),l()(component,{VCard:d.a})},408:function(t,n,e){"use strict";e.r(n);var r={data:function(){return{isDrag:!1}},mounted:function(){this.canvas=this.$refs.canvas,this.context=this.canvas.getContext("2d"),this.context.lineCap="round",this.context.lineJoin="round",this.context.lineWidth=20,this.context.strokeStyle="#000000"},methods:{draw:function(t){var n=t.layerX,e=t.layerY;this.isDrag&&(this.context.lineTo(n,e),this.context.stroke(),this.$emit("onChange",this.canvas))},dragStart:function(t){var n=t.layerX,e=t.layerY;this.context.beginPath(),this.context.lineTo(n,e),this.context.stroke(),this.isDrag=!0,this.$emit("onChange",this.canvas)},dragEnd:function(t){this.context.closePath(),this.isDrag=!1},clear:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.$emit("onChange",this.canvas)}}},o=(e(395),e(91)),component=Object(o.a)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"drawing-canvas-wrap"},[e("canvas",{ref:"canvas",staticClass:"drawing-canvas",attrs:{width:"320px",height:"320px"},on:{mousedown:t.dragStart,mouseup:t.dragEnd,mouseout:t.dragEnd,mousemove:t.draw}})])}),[],!1,null,"f9c603a2",null);n.default=component.exports},451:function(t,n,e){"use strict";e(403)},452:function(t,n,e){var r=e(19)(!1);r.push([t.i,".canvas-resized[data-v-692b2299]{background-color:#fff}",""]),t.exports=r},457:function(t,n,e){"use strict";e.r(n);var r=e(28),o=(e(108),e(251),e(64),e(63),e(53),e(411),e(5),e(413),e(419),e(421),e(422),e(423),e(426),e(427),e(428),e(429),e(430),e(431),e(432),e(433),e(435),e(436),e(437),e(438),e(439),e(440),e(441),e(442),e(443),e(444),e(445),e(406)),c=e(446);o.env.wasm.wasmPaths="/mnist-nuxt/";var l={data:function(){return{session:null,input:null,output:Array(10).fill(0)}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.InferenceSession.create("".concat("/mnist-nuxt","/mnist_cnn_13.onnx"));case 2:t.session=n.sent;case 3:case"end":return n.stop()}}),n)})))()},methods:{clearCanvas:function(){this.$refs.canvas.clear()},onCanvasChange:function(canvas){var t=this,n=this.preprocess(canvas);this.session.run({input:n}).then((function(n){t.output=Array.from(n.output.data).map((function(t){return Math.exp(t)}))}))},preprocess:function(canvas){for(var data=this.resizeImgData(canvas).data,input=new Float32Array(784),i=0,t=data.length;i<t;i+=4)input[i/4]=data[i+3]/255;return new c.Tensor("float32",input,[1,1,28,28])},resizeImgData:function(canvas){var t=this.$refs.canvasResized.getContext("2d");return t.clearRect(0,0,28,28),t.drawImage(canvas,0,0,canvas.width,canvas.height,0,0,28,28),t.getImageData(0,0,28,28)},normalize:function(input){for(var t=[[.1307],[.3081]],i=0,n=input.length;i<n;i+=1)input[i]=(input[i]-t[0][0])/t[1][0];return input}}},d=(e(451),e(91)),f=e(122),h=e.n(f),v=e(246),x=e(397),m=e(385),w=e(409),C=e(410),component=Object(d.a)(l,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-row",{attrs:{justify:"center",align:"center"}},[e("v-col",[e("v-card",{staticClass:"d-flex justify-center"},[e("horizontal-bar-graph",{staticClass:"d-flex justify-start",attrs:{value:t.output}}),t._v(" "),e("v-card",[e("drawing-canvas",{ref:"canvas",on:{onChange:t.onCanvasChange}}),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{text:"",elevation:"2"},on:{click:function(n){return t.clearCanvas(n)}}},[t._v("\n            Clear\n          ")])],1)],1)],1),t._v(" "),e("canvas",{ref:"canvasResized",staticClass:"canvas-resized",attrs:{width:"28",height:"28"}})],1)],1)}),[],!1,null,"692b2299",null);n.default=component.exports;h()(component,{HorizontalBarGraph:e(407).default,DrawingCanvas:e(408).default}),h()(component,{VBtn:v.a,VCard:x.a,VCardActions:m.a,VCol:w.a,VRow:C.a})}}]);