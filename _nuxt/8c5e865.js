/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{385:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(397),o=n(1),l=Object(o.h)("v-card__actions"),c=Object(o.h)("v-card__subtitle"),f=Object(o.h)("v-card__text"),d=Object(o.h)("v-card__title");r.a},391:function(t,e,n){var content=n(392);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(20).default)("e23b7040",content,!0,{sourceMap:!1})},392:function(t,e,n){var r=n(19)(!1);r.push([t.i,'.theme--light.v-card{background-color:#fff;color:rgba(0,0,0,.87)}.theme--light.v-card>.v-card__subtitle,.theme--light.v-card>.v-card__text{color:rgba(0,0,0,.6)}.theme--dark.v-card{background-color:#1e1e1e;color:#fff}.theme--dark.v-card>.v-card__subtitle,.theme--dark.v-card>.v-card__text{color:hsla(0,0%,100%,.7)}.v-sheet.v-card{border-radius:4px}.v-sheet.v-card:not(.v-sheet--outlined){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.v-sheet.v-card.v-sheet--shaped{border-radius:24px 4px}.v-card{border-width:thin;display:block;max-width:100%;outline:none;text-decoration:none;transition-property:box-shadow,opacity;word-wrap:break-word;position:relative;white-space:normal}.v-card>.v-card__progress+:not(.v-btn):not(.v-chip):not(.v-avatar),.v-card>:first-child:not(.v-btn):not(.v-chip):not(.v-avatar){border-top-left-radius:inherit;border-top-right-radius:inherit}.v-card>:last-child:not(.v-btn):not(.v-chip):not(.v-avatar){border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.v-card__progress{top:0;left:0;right:0;overflow:hidden}.v-card__subtitle+.v-card__text{padding-top:0}.v-card__subtitle,.v-card__text{font-size:.875rem;font-weight:400;line-height:1.375rem;letter-spacing:.0071428571em}.v-card__subtitle,.v-card__text,.v-card__title{padding:16px}.v-card__title{align-items:center;display:flex;flex-wrap:wrap;font-size:1.25rem;font-weight:500;letter-spacing:.0125em;line-height:2rem;word-break:break-all}.v-card__title+.v-card__subtitle,.v-card__title+.v-card__text{padding-top:0}.v-card__title+.v-card__subtitle{margin-top:-16px}.v-card__text{width:100%}.v-card__actions{align-items:center;display:flex;padding:8px}.v-card__actions>.v-btn.v-btn{padding:0 8px}.v-application--is-ltr .v-card__actions>.v-btn.v-btn+.v-btn{margin-left:8px}.v-application--is-ltr .v-card__actions>.v-btn.v-btn .v-icon--left{margin-left:4px}.v-application--is-ltr .v-card__actions>.v-btn.v-btn .v-icon--right{margin-right:4px}.v-application--is-rtl .v-card__actions>.v-btn.v-btn+.v-btn{margin-right:8px}.v-application--is-rtl .v-card__actions>.v-btn.v-btn .v-icon--left{margin-right:4px}.v-application--is-rtl .v-card__actions>.v-btn.v-btn .v-icon--right{margin-left:4px}.v-card--flat{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)!important}.v-sheet.v-card--hover{cursor:pointer;transition:box-shadow .4s cubic-bezier(.25,.8,.25,1)}.v-sheet.v-card--hover:focus,.v-sheet.v-card--hover:hover{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.v-card--link,.v-card--link .v-chip{cursor:pointer}.v-card--link:focus:before{opacity:.08}.v-card--link:before{background:currentColor;bottom:0;content:"";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .2s}.v-card--disabled{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.v-card--disabled>:not(.v-card__progress){opacity:.6;transition:inherit}.v-card--loading{overflow:hidden}.v-card--raised{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}',""]),t.exports=r},393:function(t,e,n){var content=n(394);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(20).default)("cf87dc84",content,!0,{sourceMap:!1})},394:function(t,e,n){var r=n(19)(!1);r.push([t.i,".theme--light.v-progress-linear{color:rgba(0,0,0,.87)}.theme--dark.v-progress-linear{color:#fff}.v-progress-linear{background:transparent;overflow:hidden;position:relative;transition:.2s cubic-bezier(.4,0,.6,1);width:100%}.v-progress-linear__buffer{height:inherit;left:0;position:absolute;top:0;transition:inherit;width:100%}.v-progress-linear--reverse .v-progress-linear__buffer{left:auto;right:0}.v-progress-linear__background{bottom:0;left:0;position:absolute;top:0;transition:inherit}.v-progress-linear--reverse .v-progress-linear__background{left:auto;right:0}.v-progress-linear__content{align-items:center;display:flex;height:100%;left:0;justify-content:center;position:absolute;top:0;width:100%}.v-progress-linear--reverse .v-progress-linear__content{left:auto;right:0}.v-progress-linear__determinate{height:inherit;left:0;position:absolute;transition:inherit}.v-progress-linear--reverse .v-progress-linear__determinate{left:auto;right:0}.v-progress-linear .v-progress-linear__indeterminate .long,.v-progress-linear .v-progress-linear__indeterminate .short{-webkit-animation-play-state:paused;animation-play-state:paused;background-color:inherit;bottom:0;height:inherit;left:0;position:absolute;right:auto;top:0;width:auto;will-change:left,right}.v-progress-linear .v-progress-linear__indeterminate--active .long{-webkit-animation-name:indeterminate-ltr;animation-name:indeterminate-ltr;-webkit-animation-duration:2.2s;animation-duration:2.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.v-progress-linear .v-progress-linear__indeterminate--active .short{-webkit-animation-name:indeterminate-short-ltr;animation-name:indeterminate-short-ltr;-webkit-animation-duration:2.2s;animation-duration:2.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.v-progress-linear--reverse .v-progress-linear__indeterminate .long,.v-progress-linear--reverse .v-progress-linear__indeterminate .short{left:auto;right:0}.v-progress-linear--reverse .v-progress-linear__indeterminate--active .long{-webkit-animation-name:indeterminate-rtl;animation-name:indeterminate-rtl}.v-progress-linear--reverse .v-progress-linear__indeterminate--active .short{-webkit-animation-name:indeterminate-short-rtl;animation-name:indeterminate-short-rtl}.v-progress-linear__stream{-webkit-animation:stream-ltr .25s linear infinite;animation:stream-ltr .25s linear infinite;-webkit-animation-play-state:paused;animation-play-state:paused;border-color:currentColor;border-top:4px dotted;bottom:0;left:auto;right:-8px;opacity:.3;pointer-events:none;position:absolute;top:calc(50% - 2px);transition:inherit}.v-progress-linear--reverse .v-progress-linear__stream{-webkit-animation:stream-rtl .25s linear infinite;animation:stream-rtl .25s linear infinite;left:-8px;right:auto}.v-progress-linear__wrapper{overflow:hidden;position:relative;transition:inherit}.v-progress-linear--absolute,.v-progress-linear--fixed{left:0;z-index:1}.v-progress-linear--absolute{position:absolute}.v-progress-linear--fixed{position:fixed}.v-progress-linear--reactive .v-progress-linear__content{pointer-events:none}.v-progress-linear--rounded{border-radius:4px}.v-progress-linear--striped .v-progress-linear__determinate{background-image:linear-gradient(135deg,hsla(0,0%,100%,.25) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.25) 0,hsla(0,0%,100%,.25) 75%,transparent 0,transparent);background-size:40px 40px;background-repeat:repeat}.v-progress-linear--query .v-progress-linear__indeterminate--active .long{-webkit-animation-name:query-ltr;animation-name:query-ltr;-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.v-progress-linear--query .v-progress-linear__indeterminate--active .short{-webkit-animation-name:query-short-ltr;animation-name:query-short-ltr;-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.v-progress-linear--query.v-progress-linear--reverse .v-progress-linear__indeterminate--active .long{-webkit-animation-name:query-rtl;animation-name:query-rtl}.v-progress-linear--query.v-progress-linear--reverse .v-progress-linear__indeterminate--active .short{-webkit-animation-name:query-short-rtl;animation-name:query-short-rtl}.v-progress-linear--visible .v-progress-linear__indeterminate--active .long,.v-progress-linear--visible .v-progress-linear__indeterminate--active .short,.v-progress-linear--visible .v-progress-linear__stream{-webkit-animation-play-state:running;animation-play-state:running}@-webkit-keyframes indeterminate-ltr{0%{left:-90%;right:100%}60%{left:-90%;right:100%}to{left:100%;right:-35%}}@keyframes indeterminate-ltr{0%{left:-90%;right:100%}60%{left:-90%;right:100%}to{left:100%;right:-35%}}@-webkit-keyframes indeterminate-rtl{0%{left:100%;right:-90%}60%{left:100%;right:-90%}to{left:-35%;right:100%}}@keyframes indeterminate-rtl{0%{left:100%;right:-90%}60%{left:100%;right:-90%}to{left:-35%;right:100%}}@-webkit-keyframes indeterminate-short-ltr{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes indeterminate-short-ltr{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@-webkit-keyframes indeterminate-short-rtl{0%{left:100%;right:-200%}60%{left:-8%;right:107%}to{left:-8%;right:107%}}@keyframes indeterminate-short-rtl{0%{left:100%;right:-200%}60%{left:-8%;right:107%}to{left:-8%;right:107%}}@-webkit-keyframes query-ltr{0%{right:-90%;left:100%}60%{right:-90%;left:100%}to{right:100%;left:-35%}}@keyframes query-ltr{0%{right:-90%;left:100%}60%{right:-90%;left:100%}to{right:100%;left:-35%}}@-webkit-keyframes query-rtl{0%{right:100%;left:-90%}60%{right:100%;left:-90%}to{right:-35%;left:100%}}@keyframes query-rtl{0%{right:100%;left:-90%}60%{right:100%;left:-90%}to{right:-35%;left:100%}}@-webkit-keyframes query-short-ltr{0%{right:-200%;left:100%}60%{right:107%;left:-8%}to{right:107%;left:-8%}}@keyframes query-short-ltr{0%{right:-200%;left:100%}60%{right:107%;left:-8%}to{right:107%;left:-8%}}@-webkit-keyframes query-short-rtl{0%{right:100%;left:-200%}60%{right:-8%;left:107%}to{right:-8%;left:107%}}@keyframes query-short-rtl{0%{right:100%;left:-200%}60%{right:-8%;left:107%}to{right:-8%;left:107%}}@-webkit-keyframes stream-ltr{to{transform:translateX(-8px)}}@keyframes stream-ltr{to{transform:translateX(-8px)}}@-webkit-keyframes stream-rtl{to{transform:translateX(8px)}}@keyframes stream-rtl{to{transform:translateX(8px)}}",""]),t.exports=r},397:function(t,e,n){"use strict";n(14),n(11),n(13),n(5),n(15),n(12),n(16);var r=n(2),o=(n(26),n(191),n(192),n(391),n(196)),l=n(0),c=(n(123),n(393),n(198)),f=n(144),d=n(35),h=n(145),y=n(197),m=n(37),v=n(1),_=n(10);function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var x=Object(_.a)(d.a,Object(h.b)(["absolute","fixed","top","bottom"]),y.a,m.a).extend({name:"v-progress-linear",directives:{intersect:f.a},props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data:function(){return{internalLazyValue:this.value||0,isVisible:!0}},computed:{__cachedBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar:function(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType:function(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer:function(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(v.g)(this.normalizedValue,"%")}}))},__cachedIndeterminate:function(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream:function(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(v.g)(100-this.normalizedBuffer,"%")}})):null},backgroundStyle:function(){var t;return t={opacity:null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity)},Object(r.a)(t,this.isReversed?"right":"left",Object(v.g)(this.normalizedValue,"%")),Object(r.a)(t,"width",Object(v.g)(Math.max(0,this.normalizedBuffer-this.normalizedValue),"%")),t},classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped,"v-progress-linear--visible":this.isVisible},this.themeClasses)},computedTransition:function(){return this.indeterminate?c.b:c.c},isReversed:function(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer:function(){return this.normalize(this.bufferValue)},normalizedValue:function(){return this.normalize(this.internalLazyValue)},reactive:function(){return Boolean(this.$listeners.change)},styles:function(){var t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(t.width=Object(v.g)(this.normalizedBuffer,"%")),t}},methods:{genContent:function(){var slot=Object(v.l)(this,"default",{value:this.internalLazyValue});return slot?this.$createElement("div",{staticClass:"v-progress-linear__content"},slot):null},genListeners:function(){var t=this.$listeners;return this.reactive&&(t.click=this.onClick),t},genProgressBar:function(t){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:Object(r.a)({},t,!0)}))},onClick:function(t){if(this.reactive){var e=this.$el.getBoundingClientRect().width;this.internalValue=t.offsetX/e*100}},onObserve:function(t,e,n){this.isVisible=n},normalize:function(t){return t<0?0:t>100?100:parseFloat(t)}},render:function(t){return t("div",{staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:{bottom:this.bottom?0:void 0,height:this.active?Object(v.g)(this.height):0,top:this.top?0:void 0},on:this.genListeners()},[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),T=x,S=l.a.extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(T,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}}),O=n(90);function A(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function E(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?A(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):A(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(_.a)(S,O.a,o.a).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return E(E({"v-card":!0},O.a.options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},o.a.options.computed.classes.call(this))},styles:function(){var style=E({},o.a.options.computed.styles.call(this));return this.img&&(style.background='url("'.concat(this.img,'") center center / cover no-repeat')),style}},methods:{genProgress:function(){var t=S.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render:function(t){var e=this.generateRouteLink(),n=e.tag,data=e.data;return data.style=this.styles,this.isClickable&&(data.attrs=data.attrs||{},data.attrs.tabindex=0),t(n,this.setBackgroundColor(this.color,data),[this.genProgress(),this.$slots.default])}})},406:function(t,e,n){"use strict";n.r(e),n.d(e,"registerBackend",(function(){return l})),n.d(e,"env",(function(){return c})),n.d(e,"InferenceSession",(function(){return w})),n.d(e,"Tensor",(function(){return v}));const r={},o=[],l=(t,e,n)=>{if(!e||"function"!=typeof e.init||"function"!=typeof e.createSessionHandler)throw new TypeError("not a valid backend");{const l=r[t];if(void 0!==l){if(l.backend===e)return;throw new Error(`backend "${t}" is already registered`)}r[t]={backend:e,priority:n};for(let i=0;i<o.length;i++)if(r[o[i]].priority<=n)return void o.splice(i,0,t);o.push(t)}};const c=new class{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(t){if(void 0!==t){if("string"!=typeof t||-1===["verbose","info","warning","error","fatal"].indexOf(t))throw new Error(`Unsupported logging level: ${t}`);this.logLevelInternal=t}}get logLevel(){return this.logLevelInternal}},f="undefined"!=typeof BigInt64Array&&"function"==typeof BigInt64Array.from,d="undefined"!=typeof BigUint64Array&&"function"==typeof BigUint64Array.from,h=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),y=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);f&&(h.set("int64",BigInt64Array),y.set(BigInt64Array,"int64")),d&&(h.set("uint64",BigUint64Array),y.set(BigUint64Array,"uint64"));class m{constructor(t,e,n){let r,data,o;if("string"==typeof t)if(r=t,o=n,"string"===t){if(!Array.isArray(e))throw new TypeError("A string tensor's data must be a string array.");data=e}else{const n=h.get(t);if(void 0===n)throw new TypeError(`Unsupported tensor type: ${t}.`);if(Array.isArray(e))data=n.from(e);else{if(!(e instanceof n))throw new TypeError(`A ${r} tensor's data must be type of ${n}`);data=e}}else if(o=e,Array.isArray(t)){if(0===t.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const e=typeof t[0];if("string"===e)r="string",data=t;else{if("boolean"!==e)throw new TypeError(`Invalid element type of data array: ${e}.`);r="bool",data=Uint8Array.from(t)}}else{const e=y.get(t.constructor);if(void 0===e)throw new TypeError(`Unsupported type for tensor data: ${t.constructor}.`);r=e,data=t}if(void 0===o)o=[data.length];else if(!Array.isArray(o))throw new TypeError("A tensor's dims must be a number array");const l=(t=>{let e=1;for(let i=0;i<t.length;i++){const n=t[i];if("number"!=typeof n||!Number.isSafeInteger(n))throw new TypeError(`dims[${i}] must be an integer, got: ${n}`);if(n<0)throw new RangeError(`dims[${i}] must be a non-negative integer, got: ${n}`);e*=n}return e})(o);if(l!==data.length)throw new Error(`Tensor's size(${l}) does not match data length(${data.length}).`);this.dims=o,this.type=r,this.data=data,this.size=l}reshape(t){return new m(this.type,this.data,t)}}const v=m;class _{constructor(t){this.handler=t}async run(t,e,n){const r={};let o={};if("object"!=typeof t||null===t||t instanceof v||Array.isArray(t))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let l=!0;if("object"==typeof e){if(null===e)throw new TypeError("Unexpected argument[1]: cannot be null.");if(e instanceof v)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(e)){if(0===e.length)throw new TypeError("'fetches' cannot be an empty array.");l=!1;for(const t of e){if("string"!=typeof t)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(t))throw new RangeError(`'fetches' contains invalid output name: ${t}.`);r[t]=null}if("object"==typeof n&&null!==n)o=n;else if(void 0!==n)throw new TypeError("'options' must be an object.")}else{let t=!1;const c=Object.getOwnPropertyNames(e);for(const n of this.outputNames)if(-1!==c.indexOf(n)){const o=e[n];(null===o||o instanceof v)&&(t=!0,l=!1,r[n]=o)}if(t){if("object"==typeof n&&null!==n)o=n;else if(void 0!==n)throw new TypeError("'options' must be an object.")}else o=e}}else if(void 0!==e)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const e of this.inputNames)if(void 0===t[e])throw new Error(`input '${e}' is missing in 'feeds'.`);if(l)for(const t of this.outputNames)r[t]=null;const c=await this.handler.run(t,r,o),f={};for(const t in c)Object.hasOwnProperty.call(c,t)&&(f[t]=new v(c[t].type,c[t].data,c[t].dims));return f}static async create(t,e,n,l){let c,f={};if("string"==typeof t){if(c=t,"object"==typeof e&&null!==e)f=e;else if(void 0!==e)throw new TypeError("'options' must be an object.")}else if(t instanceof Uint8Array){if(c=t,"object"==typeof e&&null!==e)f=e;else if(void 0!==e)throw new TypeError("'options' must be an object.")}else{if(!(t instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&t instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const r=t;let o=0,d=t.byteLength;if("object"==typeof e&&null!==e)f=e;else if("number"==typeof e){if(o=e,!Number.isSafeInteger(o))throw new RangeError("'byteOffset' must be an integer.");if(o<0||o>=r.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${r.byteLength}).`);if(d=t.byteLength-o,"number"==typeof n){if(d=n,!Number.isSafeInteger(d))throw new RangeError("'byteLength' must be an integer.");if(d<=0||o+d>r.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${r.byteLength-o}].`);if("object"==typeof l&&null!==l)f=l;else if(void 0!==l)throw new TypeError("'options' must be an object.")}else if(void 0!==n)throw new TypeError("'byteLength' must be a number.")}else if(void 0!==e)throw new TypeError("'options' must be an object.");c=new Uint8Array(r,o,d)}}const d=(f.executionProviders||[]).map((i=>"string"==typeof i?i:i.name)),h=await(async t=>{const e=0===t.length?o:t,n=[];for(const t of e){const e=r[t];if(e){if(e.initialized)return e.backend;if(e.initializing)throw new Error(`backend "${t}" is being initialized; cannot initialize multiple times.`);if(e.aborted)continue;try{return e.initializing=!0,await e.backend.init(),e.initialized=!0,e.backend}catch(r){n.push({name:t,err:r}),e.aborted=!0}finally{e.initializing=!1}}}throw new Error(`no available backend found. ERR: ${n.map((t=>`[${t.name}] ${t.err}`)).join(", ")}`)})(d),y=await h.createSessionHandler(c,f);return new _(y)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const w=_},409:function(t,e,n){"use strict";n(11),n(13),n(15),n(16);var r=n(2),o=(n(5),n(26),n(14),n(24),n(60),n(367),n(53),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(54),n(48),n(12),n(61),n(250),n(0)),l=n(88),c=n(1);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=["sm","md","lg","xl"],y=h.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{}),m=h.reduce((function(t,e){return t["offset"+Object(c.s)(e)]={type:[String,Number],default:null},t}),{}),v=h.reduce((function(t,e){return t["order"+Object(c.s)(e)]={type:[String,Number],default:null},t}),{}),_={col:Object.keys(y),offset:Object.keys(m),order:Object.keys(v)};function w(t,e,n){var r=t;if(null!=n&&!1!==n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return"col"!==t||""!==n&&!0!==n?(r+="-".concat(n)).toLowerCase():r.toLowerCase()}}var x=new Map;e.a=o.a.extend({name:"v-col",functional:!0,props:d(d(d(d({cols:{type:[Boolean,String,Number],default:!1}},y),{},{offset:{type:[String,Number],default:null}},m),{},{order:{type:[String,Number],default:null}},v),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var n=e.props,data=e.data,o=e.children,c=(e.parent,"");for(var f in n)c+=String(n[f]);var d=x.get(c);return d||function(){var t,e;for(e in d=[],_)_[e].forEach((function(t){var r=n[t],o=w(e,t,r);o&&d.push(o)}));var o=d.some((function(t){return t.startsWith("col-")}));d.push((t={col:!o||!n.cols},Object(r.a)(t,"col-".concat(n.cols),n.cols),Object(r.a)(t,"offset-".concat(n.offset),n.offset),Object(r.a)(t,"order-".concat(n.order),n.order),Object(r.a)(t,"align-self-".concat(n.alignSelf),n.alignSelf),t)),x.set(c,d)}(),t(n.tag,Object(l.a)(data,{class:d}),o)}})},410:function(t,e,n){"use strict";n(11),n(13),n(15),n(16);var r=n(2),o=(n(5),n(48),n(56),n(33),n(14),n(24),n(60),n(367),n(53),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(54),n(12),n(250),n(0)),l=n(88),c=n(1);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=["sm","md","lg","xl"],y=["start","end","center"];function m(t,e){return h.reduce((function(n,r){return n[t+Object(c.s)(r)]=e(),n}),{})}var v=function(t){return[].concat(y,["baseline","stretch"]).includes(t)},_=m("align",(function(){return{type:String,default:null,validator:v}})),w=function(t){return[].concat(y,["space-between","space-around"]).includes(t)},x=m("justify",(function(){return{type:String,default:null,validator:w}})),T=function(t){return[].concat(y,["space-between","space-around","stretch"]).includes(t)},S=m("alignContent",(function(){return{type:String,default:null,validator:T}})),O={align:Object.keys(_),justify:Object.keys(x),alignContent:Object.keys(S)},A={align:"align",justify:"justify",alignContent:"align-content"};function E(t,e,n){var r=A[t];if(null!=n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return(r+="-".concat(n)).toLowerCase()}}var P=new Map;e.a=o.a.extend({name:"v-row",functional:!0,props:d(d(d({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:v}},_),{},{justify:{type:String,default:null,validator:w}},x),{},{alignContent:{type:String,default:null,validator:T}},S),render:function(t,e){var n=e.props,data=e.data,o=e.children,c="";for(var f in n)c+=String(n[f]);var d=P.get(c);return d||function(){var t,e;for(e in d=[],O)O[e].forEach((function(t){var r=n[t],o=E(e,t,r);o&&d.push(o)}));d.push((t={"no-gutters":n.noGutters,"row--dense":n.dense},Object(r.a)(t,"align-".concat(n.align),n.align),Object(r.a)(t,"justify-".concat(n.justify),n.justify),Object(r.a)(t,"align-content-".concat(n.alignContent),n.alignContent),t)),P.set(c,d)}(),t(n.tag,Object(l.a)(data,{staticClass:"row",class:d}),o)}})},446:function(module,exports,__webpack_require__){(function(process,Buffer){var t;self,t=function(__WEBPACK_EXTERNAL_MODULE__2174__){return function(){var __webpack_modules__={3474:function(t,e,n){var r,o=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return R.buffer!=j&&J(R.buffer),B}function o(){return R.buffer!=j&&J(R.buffer),U}function l(){return R.buffer!=j&&J(R.buffer),V}function i(){return R.buffer!=j&&J(R.buffer),z}function a(){return R.buffer!=j&&J(R.buffer),G}var s,u,c;t=t||{},s||(s=void 0!==t?t:{}),s.ready=new Promise((function(t,e){u=t,c=e}));var f,d={};for(f in s)s.hasOwnProperty(f)&&(d[f]=s[f]);var p="./this.program";function h(t,e){throw e}var y,g,b,m,v,_="object"==typeof window,w="function"==typeof importScripts,x="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,T=s.ENVIRONMENT_IS_PTHREAD||!1,S="";function O(t){return s.locateFile?s.locateFile(t,S):S+t}if(x){var A;S=w?n(908).dirname(S)+"/":"//",y=function(t,e){return m||(m=n(1384)),v||(v=n(908)),t=v.normalize(t),m.readFileSync(t,e?null:"utf8")},b=function(t){return(t=y(t,!0)).buffer||(t=new Uint8Array(t)),L(t.buffer),t},g=function(t,e,r){m||(m=n(1384)),v||(v=n(908)),t=v.normalize(t),m.readFile(t,(function(t,n){t?r(t):e(n.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof He))throw t})),process.on("unhandledRejection",pt),h=function(t,e){if(at())throw process.exitCode=t,e;process.exit(t)},s.inspect=function(){return"[Emscripten Module object]"};try{A=n(9925)}catch(t){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),t}n.g.Worker=A.Worker}else(_||w)&&(w?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),r&&(S=r),S=0!==S.indexOf("blob:")?S.substr(0,S.lastIndexOf("/")+1):"",x?(y=function(t,e){return m||(m=n(1384)),v||(v=n(908)),t=v.normalize(t),m.readFileSync(t,e?null:"utf8")},b=function(t){return(t=y(t,!0)).buffer||(t=new Uint8Array(t)),L(t.buffer),t},g=function(t,e,r){m||(m=n(1384)),v||(v=n(908)),t=v.normalize(t),m.readFile(t,(function(t,n){t?r(t):e(n.buffer)}))}):(y=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(b=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),g=function(t,e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));x&&"undefined"==typeof performance&&(n.g.performance=n(6953).performance);var E,P,I=s.print||console.log.bind(console),D=s.printErr||console.warn.bind(console);for(f in d)d.hasOwnProperty(f)&&(s[f]=d[f]);d=null,s.thisProgram&&(p=s.thisProgram),s.quit&&(h=s.quit),s.wasmBinary&&(P=s.wasmBinary);var k=s.noExitRuntime||!1;"object"!=typeof WebAssembly&&pt("no native wasm support detected");var R,C,N,F=!1;function L(t,e){t||pt("Assertion failed: "+e)}function M(t){var e=new TextDecoder(t);this.decode=function(t){return t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),e.decode.call(e,t)}}var j,B,U,V,z,G,H="undefined"!=typeof TextDecoder?new M("utf8"):void 0;function W(t,e,n){var r=e+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.subarray&&H)return H.decode(t.subarray(e,n));for(r="";e<n;){var o=t[e++];if(128&o){var i=63&t[e++];if(192==(224&o))r+=String.fromCharCode((31&o)<<6|i);else{var a=63&t[e++];65536>(o=224==(240&o)?(15&o)<<12|i<<6|a:(7&o)<<18|i<<12|a<<6|63&t[e++])?r+=String.fromCharCode(o):(o-=65536,r+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else r+=String.fromCharCode(o)}return r}function Y(t,e){return t?W(o(),t,e):""}function q(t,e,n,r){if(!(0<r))return 0;var o=n;r=n+r-1;for(var i=0;i<t.length;++i){var a=t.charCodeAt(i);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++i)),127>=a){if(n>=r)break;e[n++]=a}else{if(2047>=a){if(n+1>=r)break;e[n++]=192|a>>6}else{if(65535>=a){if(n+2>=r)break;e[n++]=224|a>>12}else{if(n+3>=r)break;e[n++]=240|a>>18,e[n++]=128|a>>12&63}e[n++]=128|a>>6&63}e[n++]=128|63&a}}return e[n]=0,n-o}function X(t,e,n){return q(t,o(),e,n)}function K(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++n)),127>=r?++e:e=2047>=r?e+2:65535>=r?e+3:e+4}return e}function Z(t){var n=K(t)+1,r=me(n);return r&&q(t,e(),r,n),r}function J(t){j=t,s.HEAP8=B=new Int8Array(t),s.HEAP16=new Int16Array(t),s.HEAP32=V=new Int32Array(t),s.HEAPU8=U=new Uint8Array(t),s.HEAPU16=new Uint16Array(t),s.HEAPU32=z=new Uint32Array(t),s.HEAPF32=new Float32Array(t),s.HEAPF64=G=new Float64Array(t)}"undefined"!=typeof TextDecoder&&new M("utf-16le"),T&&(j=s.buffer);var $=s.INITIAL_MEMORY||16777216;if(T)R=s.wasmMemory,j=s.buffer;else if(s.wasmMemory)R=s.wasmMemory;else if(!((R=new WebAssembly.Memory({initial:$/65536,maximum:32768,shared:!0})).buffer instanceof SharedArrayBuffer))throw D("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),x&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");R&&(j=R.buffer),$=j.byteLength,J(j);var Q,tt=[],et=[],nt=[],ot=[],it=0;function at(){return k||0<it}function st(){var t=s.preRun.shift();tt.unshift(t)}var ut,lt=0,ct=null,ft=null;function pt(t){throw s.onAbort&&s.onAbort(t),L(!T),D(t),F=!0,N=1,t=new WebAssembly.RuntimeError("abort("+t+"). Build with -s ASSERTIONS=1 for more info."),c(t),t}function ht(){return ut.startsWith("data:application/octet-stream;base64,")}function gt(){var t=ut;try{if(t==ut&&P)return new Uint8Array(P);if(b)return b(t);throw"both async and sync fetching of the wasm failed"}catch(t){pt(t)}}s.preloadedImages={},s.preloadedAudios={},ut="ort-wasm-threaded.wasm",ht()||(ut=O(ut));var bt={973748:function(){throw"Canceled!"}};function yt(t){for(;0<t.length;){var e=t.shift();if("function"==typeof e)e(s);else{var n=e.Nb;"number"==typeof n?void 0===e.ib?Q.get(n)():Q.get(n)(e.ib):n(void 0===e.ib?null:e.ib)}}}function mt(t,n){if(0>=t||t>e().length||1&t||0>n)return-28;if(0==n)return 0;2147483647<=n&&(n=1/0);var r=Atomics.load(l(),Ge>>2),i=0;if(r==t&&Atomics.compareExchange(l(),Ge>>2,r,0)==r&&(i=1,0>=--n))return 1;if(0<=(t=Atomics.notify(l(),t>>2,n)))return t+i;throw"Atomics.notify returned an unexpected value "+t}function vt(t){if(T)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!t)throw"Internal Error! Null pthread_ptr in cleanupThread!";var e=wt.cb[t];e&&(l()[t+12>>2]=0,wt.sb(e.worker))}s._emscripten_futex_wake=mt;var _t,wt={gb:[],fb:[],zb:[],xc:function(){},Rb:function(){for(var t=me(228),e=0;57>e;++e)i()[t/4+e]=0;l()[t+12>>2]=t,e=t+152,l()[e>>2]=e;var n=me(512);for(e=0;128>e;++e)i()[n/4+e]=0;Atomics.store(i(),t+100>>2,n),Atomics.store(i(),t+40>>2,t),ke(t,!w,1),Te(t)},Sb:function(){wt.receiveObjectTransfer=wt.Xb,wt.threadInit=wt.hc,wt.threadCancel=wt.fc,wt.threadExit=wt.Hb,wt.setExitStatus=wt.Zb},cb:{},yb:[],Eb:function(){for(;0<wt.yb.length;)wt.yb.pop()();Ce()},Fb:function(t,e){Atomics.store(i(),t+56>>2,1),Atomics.store(i(),t+60>>2,0),wt.Eb(),Atomics.store(i(),t+4>>2,e),Atomics.store(i(),t+0>>2,1),mt(t+0,2147483647),ke(0,0,0)},Zb:function(t){N=t},Hb:function(t){var e=we();e&&(wt.Fb(e,t),T&&postMessage({cmd:"exit"}))},fc:function(){wt.Fb(we(),-1),postMessage({cmd:"cancelDone"})},Gb:function(){for(var t in wt.cb){var e=wt.cb[t];e&&e.worker&&wt.sb(e.worker)}for(wt.cb={},t=0;t<wt.gb.length;++t){var n=wt.gb[t];n.terminate()}for(wt.gb=[],t=0;t<wt.fb.length;++t)e=(n=wt.fb[t]).bb,wt.xb(e),n.terminate();wt.fb=[]},xb:function(t){if(t){if(t.eb){var e=l()[t.eb+100>>2];l()[t.eb+100>>2]=0,_e(e),_e(t.eb)}t.eb=0,t.wb&&t.hb&&_e(t.hb),t.hb=0,t.worker&&(t.worker.bb=null)}},sb:function(t){wt.Yb((function(){delete wt.cb[t.bb.eb],wt.gb.push(t),wt.fb.splice(wt.fb.indexOf(t),1),wt.xb(t.bb),t.bb=void 0}))},Yb:function(t){l()[ze>>2]=0;try{t()}finally{l()[ze>>2]=1}},Xb:function(){},hc:function(){for(var t in wt.zb)wt.zb[t]()},Ub:function(t,e){t.onmessage=function(n){var r=n.data,a=r.cmd;if(t.bb&&(wt.Lb=t.bb.eb),r.targetThread&&r.targetThread!=we()){var s=wt.cb[r.Dc];s?s.worker.postMessage(n.data,r.transferList):D('Internal error! Worker sent a message "'+a+'" to target pthread '+r.targetThread+", but that thread no longer exists!")}else if("processQueuedMainThreadWork"===a)Ae();else if("spawnThread"===a)Ot(n.data);else if("cleanupThread"===a)vt(r.thread);else if("killThread"===a){if(n=r.thread,T)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!n)throw"Internal Error! Null pthread_ptr in killThread!";l()[n+12>>2]=0,r=wt.cb[n],delete wt.cb[n],r.worker.terminate(),wt.xb(r),wt.fb.splice(wt.fb.indexOf(r.worker),1),r.worker.bb=void 0}else if("cancelThread"===a){if(n=r.thread,T)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!n)throw"Internal Error! Null pthread_ptr in cancelThread!";wt.cb[n].worker.postMessage({cmd:"cancel"})}else if("loaded"===a)t.loaded=!0,e&&e(t),t.mb&&(t.mb(),delete t.mb);else if("print"===a)I("Thread "+r.threadId+": "+r.text);else if("printErr"===a)D("Thread "+r.threadId+": "+r.text);else if("alert"===a)alert("Thread "+r.threadId+": "+r.text);else if("exit"===a)t.bb&&Atomics.load(i(),t.bb.eb+64>>2)&&wt.sb(t);else if("exitProcess"===a)try{We(r.returnCode)}catch(t){if(t instanceof He)return;throw t}else"cancelDone"===a?wt.sb(t):"objectTransfer"!==a&&("setimmediate"===n.data.target?t.postMessage(n.data):D("worker sent an unknown command "+a));wt.Lb=void 0},t.onerror=function(t){D("pthread sent an error! "+t.filename+":"+t.lineno+": "+t.message)},x&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("exit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:s.mainScriptUrlOrBlob||r,wasmMemory:R,wasmModule:C})},Ib:function(){var t=O("ort-wasm-threaded.worker.js");wt.gb.push(new Worker(t))},Ob:function(){return 0==wt.gb.length&&(wt.Ib(),wt.Ub(wt.gb[0])),wt.gb.pop()},nc:function(t){for(t=performance.now()+t;performance.now()<t;);}};function xt(t,e){if(0===t)t=Date.now();else{if(1!==t&&4!==t)return l()[ve()>>2]=28,-1;t=_t()}return l()[e>>2]=t/1e3|0,l()[e+4>>2]=t%1e3*1e6|0,0}function Tt(t,e){if(T)return Xt(1,1,t,e);nt.unshift({Nb:t,ib:e})}function St(t){this.lb=t-16,this.dc=function(t){l()[this.lb+4>>2]=t},this.ac=function(t){l()[this.lb+8>>2]=t},this.bc=function(){l()[this.lb>>2]=0},this.$b=function(){e()[this.lb+12>>0]=0},this.cc=function(){e()[this.lb+13>>0]=0},this.Pb=function(t,e){this.dc(t),this.ac(e),this.bc(),this.$b(),this.cc()}}function Ot(t){if(T)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var e=wt.Ob();if(!e)return 6;if(void 0!==e.bb)throw"Internal error!";if(!t.rb)throw"Internal error, no pthread ptr!";wt.fb.push(e);for(var n=me(512),r=0;128>r;++r)l()[n+4*r>>2]=0;var a=t.hb+t.jb,s=(r=wt.cb[t.rb]={worker:e,hb:t.hb,jb:t.jb,wb:t.wb,eb:t.rb}).eb>>2;Atomics.store(i(),s+16,t.detached),Atomics.store(i(),s+25,n),Atomics.store(i(),s+10,r.eb),Atomics.store(i(),s+20,t.jb),Atomics.store(i(),s+19,a),Atomics.store(i(),s+26,t.jb),Atomics.store(i(),s+28,a),Atomics.store(i(),s+29,t.detached),n=Re()+40,Atomics.store(i(),s+43,n),e.bb=r;var u={cmd:"run",start_routine:t.ec,arg:t.ib,threadInfoStruct:t.rb,stackBase:t.hb,stackSize:t.jb};return e.mb=function(){u.time=performance.now(),e.postMessage(u,t.mc)},e.loaded&&(e.mb(),delete e.mb),0}function At(t,n,r){if(0>=t||t>e().length||1&t)return-28;if(_){if(Atomics.load(l(),t>>2)!=n)return-6;var i=performance.now();for(r=i+r,Atomics.exchange(l(),Ge>>2,t);;){if((i=performance.now())>r)return Atomics.exchange(l(),Ge>>2,0),-73;if(0==(i=Atomics.exchange(l(),Ge>>2,0)))break;if(Ae(),Atomics.load(l(),t>>2)!=n)return-6;Atomics.exchange(l(),Ge>>2,t)}return 0}if("timed-out"===(t=Atomics.wait(l(),t>>2,n,r)))return-73;if("not-equal"===t)return-6;if("ok"===t)return 0;throw"Atomics.wait returned an unexpected value "+t}function Et(){x||w||(E||(E={}),E["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]||(E["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]=1,D("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")))}s.establishStackSpace=function(t,e){Ue(t,e),je(t)},s.invokeEntryPoint=function(t,e){return Q.get(t)(e)},_t=x?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:T?function(){return performance.now()-s.__performance_now_clock_drift}:function(){return performance.now()};var Pt={},It=[null,[],[]];function Dt(t,e){var n=It[t];0===e||10===e?((1===t?I:D)(W(n,0)),n.length=0):n.push(e)}var kt={};function Rt(t,e){return T?Xt(2,1,t,e):(t=Y(t),kt.rc(t,e))}function Ct(t,e,n){return T?Xt(3,1,t,e,n):0}function Nt(t,e){if(T)return Xt(4,1,t,e)}function Ft(t,e,n){if(T)return Xt(5,1,t,e,n)}function Lt(t,e,n){return T?Xt(6,1,t,e,n):0}function Mt(t,e){if(T)return Xt(7,1,t,e)}function jt(t,e){return T?Xt(8,1,t,e):(t=Y(t),kt.sc(t,e))}function Bt(t,e,n,r,i,a){if(T)e=Xt(9,1,t,e,n,r,i,a);else if(a<<=12,0!=(16&r)&&0!=t%65536)e=-28;else if(0!=(32&r)){var s=65536*Math.ceil(e/65536);(t=Ve(65536,s))?o().fill(0,t,t+s):t=0,t?(Pt[t]={Wb:t,Tb:e,Jb:!0,fd:i,Ac:n,flags:r,offset:a},e=t):e=-48}else e=-52;return e}function Ut(t,e){if(T)t=Xt(10,1,t,e);else{var n=Pt[t];0!==e&&n?(e===n.Tb&&(Pt[t]=null,n.Jb&&_e(n.Wb)),t=0):t=-28}return t}function Vt(t,e,n){if(T)return Xt(11,1,t,e,n)}function zt(t,e,n){return T?Xt(12,1,t,e,n):(t=Y(t),kt.tc(t,e,n))}function Gt(t){if(T)return Xt(13,1,t)}function Ht(t,e){if(T)return Xt(14,1,t,e)}function qt(t){if(T)return Xt(15,1,t)}function Wt(){if(T)return Xt(16,1);pt()}var Yt=[];function Xt(t,e){for(var n=arguments.length-2,r=Me(),o=Be(8*n),i=o>>3,s=0;s<n;s++){var u=arguments[2+s];a()[i+s]=u}return n=Ee(t,n,o,e),je(r),n}var Kt=[],Zt=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function Jt(t){return t=2<t?Y(t):t,Zt[t]||("undefined"!=typeof document?document.querySelector(t):void 0)}function $t(t,e,n){var r=Jt(t);if(!r)return-4;if(r.qb&&(l()[r.qb>>2]=e,l()[r.qb+4>>2]=n),!r.Db&&r.pc){if(r.qb){r=l()[r.qb+8>>2],t=t?Y(t):"";var i=Me(),a=Be(12),s=0;if(t){s=K(t)+1;var u=me(s);X(t,u,s),s=u}return l()[a>>2]=s,l()[a+4>>2]=e,l()[a+8>>2]=n,Pe(0,r,657457152,0,s,a),je(i),1}return-4}return r.Db&&(r=r.Db),t=!1,r.pb&&r.pb.ob&&(t=0===(t=r.pb.ob.getParameter(2978))[0]&&0===t[1]&&t[2]===r.width&&t[3]===r.height),r.width=e,r.height=n,t&&r.pb.ob.viewport(0,0,e,n),0}function Qt(t,e,n){return T?Xt(17,1,t,e,n):$t(t,e,n)}var te,ee=["default","low-power","high-performance"],ne={};function re(){if(!te){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ne)void 0===ne[t]?delete e[t]:e[t]=ne[t];var n=[];for(t in e)n.push(t+"="+e[t]);te=n}return te}function oe(t,n){if(T)return Xt(18,1,t,n);var r=0;return re().forEach((function(i,a){var s=n+r;for(a=l()[t+4*a>>2]=s,s=0;s<i.length;++s)e()[a++>>0]=i.charCodeAt(s);e()[a>>0]=0,r+=i.length+1})),0}function ie(t,e){if(T)return Xt(19,1,t,e);var n=re();l()[t>>2]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),l()[e>>2]=r,0}function rt(t){return T?Xt(20,1,t):0}function ae(t,n){return T?Xt(21,1,t,n):(t=1==t||2==t?2:pt(),e()[n>>0]=t,0)}function se(t,e,n,r){return T?Xt(22,1,t,e,n,r):(t=kt.vc(t),e=kt.uc(t,e,n),l()[r>>2]=e,0)}function ue(t,e,n,r,o){if(T)return Xt(23,1,t,e,n,r,o)}function le(t,e,n,i){if(T)return Xt(24,1,t,e,n,i);for(var a=0,s=0;s<n;s++){for(var u=l()[e+8*s>>2],r=l()[e+(8*s+4)>>2],c=0;c<r;c++)Dt(t,o()[u+c]);a+=r}return l()[i>>2]=a,0}function ce(){function t(t){return(t=t.toTimeString().match(/\(([A-Za-z ]+)\)$/))?t[1]:"GMT"}if(T)return Xt(25,1);if(!ce.Kb){ce.Kb=!0;var e=(new Date).getFullYear(),n=new Date(e,0,1),r=new Date(e,6,1);e=n.getTimezoneOffset();var i=r.getTimezoneOffset(),a=Math.max(e,i);l()[Le()>>2]=60*a,l()[Fe()>>2]=Number(e!=i),n=t(n),r=t(r),n=Z(n),r=Z(r),i<e?(l()[Ne()>>2]=n,l()[Ne()+4>>2]=r):(l()[Ne()>>2]=r,l()[Ne()+4>>2]=n)}}function fe(t){return 0==t%4&&(0!=t%100||0==t%400)}function pe(t,e){for(var n=0,r=0;r<=e;n+=t[r++]);return n}var de=[31,29,31,30,31,30,31,31,30,31,30,31],he=[31,28,31,30,31,30,31,31,30,31,30,31];function dt(t,e){for(t=new Date(t.getTime());0<e;){var n=t.getMonth(),r=(fe(t.getFullYear())?de:he)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return t}function ge(t,n,r,i){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function s(t,e){return a(t,e,"0")}function u(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function o(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){t=dt(new Date(t.ab+1900,0,1),t.vb);var e=new Date(t.getFullYear()+1,0,4),n=o(new Date(t.getFullYear(),0,4));return e=o(e),0>=u(n,t)?0>=u(e,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=l()[i+40>>2];for(var p in i={kc:l()[i>>2],jc:l()[i+4>>2],tb:l()[i+8>>2],nb:l()[i+12>>2],kb:l()[i+16>>2],ab:l()[i+20>>2],ub:l()[i+24>>2],vb:l()[i+28>>2],Ec:l()[i+32>>2],ic:l()[i+36>>2],lc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return d[t.ub].substring(0,3)},"%A":function(t){return d[t.ub]},"%b":function(t){return h[t.kb].substring(0,3)},"%B":function(t){return h[t.kb]},"%C":function(t){return s((t.ab+1900)/100|0,2)},"%d":function(t){return s(t.nb,2)},"%e":function(t){return a(t.nb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return s(t.tb,2)},"%I":function(t){return 0==(t=t.tb)?t=12:12<t&&(t-=12),s(t,2)},"%j":function(t){return s(t.nb+pe(fe(t.ab+1900)?de:he,t.kb-1),3)},"%m":function(t){return s(t.kb+1,2)},"%M":function(t){return s(t.jc,2)},"%n":function(){return"\n"},"%p":function(t){return 0<=t.tb&&12>t.tb?"AM":"PM"},"%S":function(t){return s(t.kc,2)},"%t":function(){return"\t"},"%u":function(t){return t.ub||7},"%U":function(t){var e=new Date(t.ab+1900,0,1),n=0===e.getDay()?e:dt(e,7-e.getDay());return 0>u(n,t=new Date(t.ab+1900,t.kb,t.nb))?s(Math.ceil((31-n.getDate()+(pe(fe(t.getFullYear())?de:he,t.getMonth()-1)-31)+t.getDate())/7),2):0===u(n,e)?"01":"00"},"%V":function(t){var e=new Date(t.ab+1901,0,4),n=o(new Date(t.ab+1900,0,4));e=o(e);var r=dt(new Date(t.ab+1900,0,1),t.vb);return 0>u(r,n)?"53":0>=u(e,r)?"01":s(Math.ceil((n.getFullYear()<t.ab+1900?t.vb+32-n.getDate():t.vb+1-n.getDate())/7),2)},"%w":function(t){return t.ub},"%W":function(t){var e=new Date(t.ab,0,1),n=1===e.getDay()?e:dt(e,0===e.getDay()?1:7-e.getDay()+1);return 0>u(n,t=new Date(t.ab+1900,t.kb,t.nb))?s(Math.ceil((31-n.getDate()+(pe(fe(t.getFullYear())?de:he,t.getMonth()-1)-31)+t.getDate())/7),2):0===u(n,e)?"01":"00"},"%y":function(t){return(t.ab+1900).toString().substring(2)},"%Y":function(t){return t.ab+1900},"%z":function(t){var e=0<=(t=t.ic);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.lc},"%%":function(){return"%"}})r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return(p=function(t){var e=Array(K(t)+1);return q(t,e,0,e.length),e}(r)).length>n?0:(function(t,n){e().set(t,n)}(p,t),p.length-1)}var be=[null,Tt,Rt,Ct,Nt,Ft,Lt,Mt,jt,Bt,Ut,Vt,zt,Gt,Ht,qt,Wt,Qt,oe,ie,rt,ae,se,ue,le,ce],ye={h:function(t,e,n,r){pt("Assertion failed: "+Y(t)+", at: "+[e?Y(e):"unknown filename",n,r?Y(r):"unknown function"])},M:function(t,e){return xt(t,e)},b:function(t){return me(t+16)+16},d:function(t,e){return Tt(t,e)},e:function(t,e){wt.yb.push((function(){Q.get(t)(e)}))},c:function(t,e,n){throw new St(t).Pb(e,n),t},Z:function(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return D("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!t)return D("pthread_create called with a null thread pointer!"),28;var a=[];if(T&&0===a.length)return Oe(687865856,t,e,n,r);var s=0,u=0;if(e&&-1!=e){var o=l()[e>>2];o+=81920,s=l()[e+8>>2],u=0!==l()[e+12>>2]}else o=2097152;(e=0==s)?s=Ve(16,o):L(0<(s-=o));for(var c=me(228),f=0;57>f;++f)i()[(c>>2)+f]=0;return l()[t>>2]=c,l()[c+12>>2]=c,t=c+152,l()[t>>2]=t,n={hb:s,jb:o,wb:e,detached:u,ec:n,rb:c,ib:r,mc:a},T?(n.oc="spawnThread",postMessage(n,a),0):Ot(n)},X:function(t){throw T?wt.Hb(t):(wt.Eb(),We(t)),"unwind"},Y:function(t,e){return function(t,e){if(!t)return D("pthread_join attempted on a null thread pointer!"),71;if(T&&we()==t)return D("PThread "+t+" is attempting to join to itself!"),16;if(!T&&Se()==t)return D("Main thread "+t+" is attempting to join to itself!"),16;if(l()[t+12>>2]!==t)return D("pthread_join attempted on thread "+t+", which does not point to a valid thread, or does not exist anymore!"),71;if(Atomics.load(i(),t+64>>2))return D("Attempted to join thread "+t+", which was already detached!"),28;for(Et();;){var n=Atomics.load(i(),t+0>>2);if(1==n)return n=Atomics.load(i(),t+4>>2),e&&(l()[e>>2]=n),Atomics.store(i(),t+64>>2,1),T?postMessage({cmd:"cleanupThread",thread:t}):vt(t),0;Ie(),T||Ae(),At(t+0,n,T?100:1)}}(t,e)},L:Rt,s:Ct,S:Nt,V:Ft,u:function(){return 42},F:Lt,Q:Mt,P:jt,U:Bt,T:Ut,q:Vt,K:zt,N:Gt,v:Ht,O:qt,da:function(t,e){if(t==e)postMessage({cmd:"processQueuedMainThreadWork"});else if(T)postMessage({targetThread:t,cmd:"processThreadQueue"});else{if(!(t=(t=wt.cb[t])&&t.worker))return;t.postMessage({cmd:"processThreadQueue"})}return 1},f:Wt,w:xt,ga:function(t,e){return t-e},A:function(){pt("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){pt("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},C:function(){pt("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},z:function(){pt("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},ea:function(t,e,n){var i;for(Yt.length=0,n>>=2;i=o()[e++];)(i=105>i)&&1&n&&n++,Yt.push(i?a()[n++>>1]:l()[n]),++n;return bt[t].apply(null,Yt)},G:Et,n:function(){},k:At,j:mt,W:function(){return 2147483648},i:_t,D:function(t,e,n){o().copyWithin(t,e,e+n)},o:function(){return x?n(3993).cpus().length:navigator.hardwareConcurrency},aa:function(t,e,n){Kt.length=e,n>>=3;for(var r=0;r<e;r++)Kt[r]=a()[n+r];return(0>t?bt[-t-1]:be[t]).apply(null,Kt)},E:function(t){var e=o().length;if((t>>>=0)<=e||2147483648<t)return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296),0<(r=Math.max(t,r))%65536&&(r+=65536-r%65536);t:{try{R.grow(Math.min(2147483648,r)-j.byteLength+65535>>>16),J(R.buffer);var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},ba:function(t,e,n){return Jt(t)?$t(t,e,n):Qt(t,e,n)},x:function(){},$:function(t,e,n){return it+=1,setTimeout((function(){--it,function(t){if(!F){try{t()}catch(t){if(t instanceof He)return;if("unwind"!==t)throw t&&"object"==typeof t&&t.stack&&D("exception thrown: "+[t,t.stack]),t}if(!at())try{T?De(N):We(N)}catch(t){if(!(t instanceof He))throw t}}}((function(){Q.get(t)(n)}))}),e)},ca:function(t,e){e>>=2;var n=l()[e+6];return e={alpha:!!l()[e],depth:!!l()[e+1],stencil:!!l()[e+2],antialias:!!l()[e+3],premultipliedAlpha:!!l()[e+4],preserveDrawingBuffer:!!l()[e+5],powerPreference:ee[n],failIfMajorPerformanceCaveat:!!l()[e+7],Vb:l()[e+8],yc:l()[e+9],Bb:l()[e+10],Mb:l()[e+11],Bc:l()[e+12],Cc:l()[e+13]},!(t=Jt(t))||e.Mb?0:function(t,e){t.Cb||(t.Cb=t.getContext,t.getContext=function(e,n){return"webgl"==e==(n=t.Cb(e,n))instanceof WebGLRenderingContext?n:null});var n=t.getContext("webgl",e);return n?function(t,e){var n=me(8);l()[n+4>>2]=we();var r={wc:n,attributes:e,version:e.Vb,ob:t};return t.canvas&&(t.canvas.pb=r),(void 0===e.Bb||e.Bb)&&function(t){if(t||(t=void 0),!t.Qb){t.Qb=!0;var e=t.ob;!function(t){var e=t.getExtension("ANGLE_instanced_arrays");e&&(t.vertexAttribDivisor=function(t,n){e.vertexAttribDivisorANGLE(t,n)},t.drawArraysInstanced=function(t,n,r,o){e.drawArraysInstancedANGLE(t,n,r,o)},t.drawElementsInstanced=function(t,n,r,o,i){e.drawElementsInstancedANGLE(t,n,r,o,i)})}(e),function(t){var e=t.getExtension("OES_vertex_array_object");e&&(t.createVertexArray=function(){return e.createVertexArrayOES()},t.deleteVertexArray=function(t){e.deleteVertexArrayOES(t)},t.bindVertexArray=function(t){e.bindVertexArrayOES(t)},t.isVertexArray=function(t){return e.isVertexArrayOES(t)})}(e),function(t){var e=t.getExtension("WEBGL_draw_buffers");e&&(t.drawBuffers=function(t,n){e.drawBuffersWEBGL(t,n)})}(e),e.qc=e.getExtension("EXT_disjoint_timer_query"),e.zc=e.getExtension("WEBGL_multi_draw"),(e.getSupportedExtensions()||[]).forEach((function(t){t.includes("lose_context")||t.includes("debug")||e.getExtension(t)}))}}(r),n}(n,e):0}(t,e)},I:oe,J:ie,m:rt,H:ae,t:se,B:ue,p:le,R:function(t){var e=Date.now();return l()[t>>2]=e/1e3|0,l()[t+4>>2]=e%1e3*1e3|0,0},ha:function t(e,n){return e=new Date(1e3*l()[e>>2]),l()[n>>2]=e.getUTCSeconds(),l()[n+4>>2]=e.getUTCMinutes(),l()[n+8>>2]=e.getUTCHours(),l()[n+12>>2]=e.getUTCDate(),l()[n+16>>2]=e.getUTCMonth(),l()[n+20>>2]=e.getUTCFullYear()-1900,l()[n+24>>2]=e.getUTCDay(),l()[n+36>>2]=0,l()[n+32>>2]=0,e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,l()[n+28>>2]=e,t.Ab||(t.Ab=Z("GMT")),l()[n+40>>2]=t.Ab,n},_:function(){wt.Rb()},r:function(t,e){ce(),t=new Date(1e3*l()[t>>2]),l()[e>>2]=t.getSeconds(),l()[e+4>>2]=t.getMinutes(),l()[e+8>>2]=t.getHours(),l()[e+12>>2]=t.getDate(),l()[e+16>>2]=t.getMonth(),l()[e+20>>2]=t.getFullYear()-1900,l()[e+24>>2]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;return l()[e+28>>2]=r,l()[e+36>>2]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),l()[e+32>>2]=t,t=l()[Ne()+(t?4:0)>>2],l()[e+40>>2]=t,e},a:R||s.wasmMemory,y:function(t){ce();var e=new Date(l()[t+20>>2]+1900,l()[t+16>>2],l()[t+12>>2],l()[t+8>>2],l()[t+4>>2],l()[t>>2],0),n=l()[t+32>>2],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),a=new Date(e.getFullYear(),6,1).getTimezoneOffset(),s=i.getTimezoneOffset(),u=Math.min(s,a);return 0>n?l()[t+32>>2]=Number(a!=s&&u==r):0<n!=(u==r)&&(a=Math.max(s,a),e.setTime(e.getTime()+6e4*((0<n?u:a)-r))),l()[t+24>>2]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,l()[t+28>>2]=n,l()[t>>2]=e.getSeconds(),l()[t+4>>2]=e.getMinutes(),l()[t+8>>2]=e.getHours(),l()[t+12>>2]=e.getDate(),l()[t+16>>2]=e.getMonth(),e.getTime()/1e3|0},fa:ge,g:function(t,e,n,r){return ge(t,e,n,r)}};!function(){function t(t,e){s.asm=t.exports,Q=s.asm.Ca,et.unshift(s.asm.ia),wt.zb.push(s.asm.Ha),C=e,T||(lt--,s.monitorRunDependencies&&s.monitorRunDependencies(lt),0==lt&&(null!==ct&&(clearInterval(ct),ct=null),ft&&(t=ft,ft=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!P&&(_||w)){if("function"==typeof fetch&&!ut.startsWith("file://"))return fetch(ut,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+ut+"'";return t.arrayBuffer()})).catch((function(){return gt()}));if(g)return new Promise((function(t,e){g(ut,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return gt()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then(t,(function(t){D("failed to asynchronously prepare wasm: "+t),pt(t)}))}var r={a:ye};if(T||(lt++,s.monitorRunDependencies&&s.monitorRunDependencies(lt)),s.instantiateWasm)try{return s.instantiateWasm(r,t)}catch(t){return D("Module.instantiateWasm callback failed with error: "+t),!1}(P||"function"!=typeof WebAssembly.instantiateStreaming||ht()||ut.startsWith("file://")||"function"!=typeof fetch?n(e):fetch(ut,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return D("wasm streaming compile failed: "+t),D("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(c)}(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm.ia).apply(null,arguments)},s._OrtInit=function(){return(s._OrtInit=s.asm.ja).apply(null,arguments)},s._OrtCreateSessionOptions=function(){return(s._OrtCreateSessionOptions=s.asm.ka).apply(null,arguments)},s._OrtAddSessionConfigEntry=function(){return(s._OrtAddSessionConfigEntry=s.asm.la).apply(null,arguments)},s._OrtReleaseSessionOptions=function(){return(s._OrtReleaseSessionOptions=s.asm.ma).apply(null,arguments)},s._OrtCreateSession=function(){return(s._OrtCreateSession=s.asm.na).apply(null,arguments)},s._OrtReleaseSession=function(){return(s._OrtReleaseSession=s.asm.oa).apply(null,arguments)},s._OrtGetInputCount=function(){return(s._OrtGetInputCount=s.asm.pa).apply(null,arguments)},s._OrtGetOutputCount=function(){return(s._OrtGetOutputCount=s.asm.qa).apply(null,arguments)},s._OrtGetInputName=function(){return(s._OrtGetInputName=s.asm.ra).apply(null,arguments)},s._OrtGetOutputName=function(){return(s._OrtGetOutputName=s.asm.sa).apply(null,arguments)},s._OrtFree=function(){return(s._OrtFree=s.asm.ta).apply(null,arguments)},s._OrtCreateTensor=function(){return(s._OrtCreateTensor=s.asm.ua).apply(null,arguments)},s._OrtGetTensorData=function(){return(s._OrtGetTensorData=s.asm.va).apply(null,arguments)},s._OrtReleaseTensor=function(){return(s._OrtReleaseTensor=s.asm.wa).apply(null,arguments)},s._OrtCreateRunOptions=function(){return(s._OrtCreateRunOptions=s.asm.xa).apply(null,arguments)},s._OrtAddRunConfigEntry=function(){return(s._OrtAddRunConfigEntry=s.asm.ya).apply(null,arguments)},s._OrtReleaseRunOptions=function(){return(s._OrtReleaseRunOptions=s.asm.za).apply(null,arguments)},s._OrtRun=function(){return(s._OrtRun=s.asm.Aa).apply(null,arguments)},s._OrtEndProfiling=function(){return(s._OrtEndProfiling=s.asm.Ba).apply(null,arguments)};var me=s._malloc=function(){return(me=s._malloc=s.asm.Da).apply(null,arguments)},ve=s.___errno_location=function(){return(ve=s.___errno_location=s.asm.Ea).apply(null,arguments)},_e=s._free=function(){return(_e=s._free=s.asm.Fa).apply(null,arguments)},we=s._pthread_self=function(){return(we=s._pthread_self=s.asm.Ga).apply(null,arguments)};s._emscripten_tls_init=function(){return(s._emscripten_tls_init=s.asm.Ha).apply(null,arguments)},s._emscripten_current_thread_process_queued_calls=function(){return(s._emscripten_current_thread_process_queued_calls=s.asm.Ia).apply(null,arguments)};var xe,Te=s._emscripten_register_main_browser_thread_id=function(){return(Te=s._emscripten_register_main_browser_thread_id=s.asm.Ja).apply(null,arguments)},Se=s._emscripten_main_browser_thread_id=function(){return(Se=s._emscripten_main_browser_thread_id=s.asm.Ka).apply(null,arguments)},Oe=s._emscripten_sync_run_in_main_thread_4=function(){return(Oe=s._emscripten_sync_run_in_main_thread_4=s.asm.La).apply(null,arguments)},Ae=s._emscripten_main_thread_process_queued_calls=function(){return(Ae=s._emscripten_main_thread_process_queued_calls=s.asm.Ma).apply(null,arguments)},Ee=s._emscripten_run_in_main_runtime_thread_js=function(){return(Ee=s._emscripten_run_in_main_runtime_thread_js=s.asm.Na).apply(null,arguments)},Pe=s.__emscripten_call_on_thread=function(){return(Pe=s.__emscripten_call_on_thread=s.asm.Oa).apply(null,arguments)},Ie=s._pthread_testcancel=function(){return(Ie=s._pthread_testcancel=s.asm.Pa).apply(null,arguments)},De=s._pthread_exit=function(){return(De=s._pthread_exit=s.asm.Qa).apply(null,arguments)},ke=s.__emscripten_thread_init=function(){return(ke=s.__emscripten_thread_init=s.asm.Ra).apply(null,arguments)},Re=s._emscripten_get_global_libc=function(){return(Re=s._emscripten_get_global_libc=s.asm.Sa).apply(null,arguments)},Ce=s.___pthread_tsd_run_dtors=function(){return(Ce=s.___pthread_tsd_run_dtors=s.asm.Ta).apply(null,arguments)},Ne=s.__get_tzname=function(){return(Ne=s.__get_tzname=s.asm.Ua).apply(null,arguments)},Fe=s.__get_daylight=function(){return(Fe=s.__get_daylight=s.asm.Va).apply(null,arguments)},Le=s.__get_timezone=function(){return(Le=s.__get_timezone=s.asm.Wa).apply(null,arguments)},Me=s.stackSave=function(){return(Me=s.stackSave=s.asm.Xa).apply(null,arguments)},je=s.stackRestore=function(){return(je=s.stackRestore=s.asm.Ya).apply(null,arguments)},Be=s.stackAlloc=function(){return(Be=s.stackAlloc=s.asm.Za).apply(null,arguments)},Ue=s._emscripten_stack_set_limits=function(){return(Ue=s._emscripten_stack_set_limits=s.asm._a).apply(null,arguments)},Ve=s._memalign=function(){return(Ve=s._memalign=s.asm.$a).apply(null,arguments)},ze=s.__emscripten_allow_main_runtime_queued_calls=973296,Ge=s.__emscripten_main_thread_futex=977204;function He(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function qe(){function t(){if(!xe&&(xe=!0,s.calledRun=!0,!F)&&(T||yt(et),u(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),!T)){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;){var t=s.postRun.shift();ot.unshift(t)}yt(ot)}}if(!(0<lt))if(T)u(s),T||yt(et),postMessage({cmd:"loaded"});else{if(!T){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)st();yt(tt)}0<lt||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),t()}),1)):t())}}function We(t){if(N=t,T)throw postMessage({cmd:"exitProcess",returnCode:t}),new He(t);at()||(wt.Gb(),T||(yt(nt),"undefined"!=typeof _fflush&&_fflush(0),It[1].length&&Dt(1,10),It[2].length&&Dt(2,10))),N=t,at()||(wt.Gb(),s.onExit&&s.onExit(t),F=!0),h(t,new He(t))}if(s.UTF8ToString=Y,s.stringToUTF8=X,s.lengthBytesUTF8=K,s.keepRuntimeAlive=at,s.PThread=wt,s.stackSave=Me,s.stackRestore=je,s.stackAlloc=Be,s.PThread=wt,s.wasmMemory=R,s.ExitStatus=He,ft=function t(){xe||qe(),xe||(ft=t)},s.run=qe,s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();return T&&(k=!1,wt.Sb()),qe(),t.ready});t.exports=o},5118:function(t){"use strict";t.exports='"use strict";var e={};if("object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node){var a=require("worker_threads"),t=a.parentPort;t.on("message",(function(e){onmessage({data:e})}));var r=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:a.Worker,importScripts:function(e){(0,eval)(r.readFileSync(e,"utf8"))},postMessage:function(e){t.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=function(){var e=Array.prototype.slice.call(arguments).join(" ");console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=function(a,t){var r=new WebAssembly.Instance(e.wasmModule,a);return t(r),e.wasmModule=null,r.exports},self.onmessage=function(a){try{if("load"===a.data.cmd){if(e.wasmModule=a.data.wasmModule,e.wasmMemory=a.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof a.data.urlOrBlob)importScripts(a.data.urlOrBlob);else{var t=URL.createObjectURL(a.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e).then((function(a){e=a}))}else if("objectTransfer"===a.data.cmd)e.PThread.receiveObjectTransfer(a.data);else if("run"===a.data.cmd){e.__performance_now_clock_drift=performance.now()-a.data.time,e.__emscripten_thread_init(a.data.threadInfoStruct,0,0);var r=a.data.stackBase,o=a.data.stackBase+a.data.stackSize;e.establishStackSpace(o,r),e.PThread.receiveObjectTransfer(a.data),e.PThread.threadInit();try{var n=e.invokeEntryPoint(a.data.start_routine,a.data.arg);e.keepRuntimeAlive()?e.PThread.setExitStatus(n):e.PThread.threadExit(n)}catch(a){if("Canceled!"===a)e.PThread.threadCancel();else if("unwind"!=a){if(!(a instanceof e.ExitStatus))throw e.PThread.threadExit(-2),a;e.keepRuntimeAlive()||e.PThread.threadExit(a.status)}}}else"cancel"===a.data.cmd?e._pthread_self()&&e.PThread.threadCancel():"setimmediate"===a.data.target||("processThreadQueue"===a.data.cmd?e._pthread_self()&&e._emscripten_current_thread_process_queued_calls():(s("worker.js received unknown command "+a.data.cmd),s(a.data)))}catch(e){throw s("worker.js onmessage() captured an uncaught exception: "+e),e&&e.stack&&s(e.stack),e}};\n'},932:function(t,e,n){var r,o=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,o,l;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){o=t,l=e}));var i,a={};for(i in e)e.hasOwnProperty(i)&&(a[i]=e[i]);var s,u,c,f,d,p="./this.program",h="object"==typeof window,y="function"==typeof importScripts,g="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b="";g?(b=y?n(908).dirname(b)+"/":"//",s=function(t,e){return f||(f=n(1384)),d||(d=n(908)),t=d.normalize(t),f.readFileSync(t,e?null:"utf8")},c=function(t){return(t=s(t,!0)).buffer||(t=new Uint8Array(t)),t.buffer||H("Assertion failed: undefined"),t},u=function(t,e,r){f||(f=n(1384)),d||(d=n(908)),t=d.normalize(t),f.readFile(t,(function(t,n){t?r(t):e(n.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){throw t})),process.on("unhandledRejection",H),e.inspect=function(){return"[Emscripten Module object]"}):(h||y)&&(y?b=self.location.href:"undefined"!=typeof document&&document.currentScript&&(b=document.currentScript.src),r&&(b=r),b=0!==b.indexOf("blob:")?b.substr(0,b.lastIndexOf("/")+1):"",s=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(c=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),u=function(t,e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var m,v=e.print||console.log.bind(console),_=e.printErr||console.warn.bind(console);for(i in a)a.hasOwnProperty(i)&&(e[i]=a[i]);a=null,e.thisProgram&&(p=e.thisProgram),e.wasmBinary&&(m=e.wasmBinary),e.noExitRuntime,"object"!=typeof WebAssembly&&H("no native wasm support detected");var w,x,T,S,O,A=!1,E="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function P(t,e,n){var r=e+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.subarray&&E)return E.decode(t.subarray(e,n));for(r="";e<n;){var o=t[e++];if(128&o){var i=63&t[e++];if(192==(224&o))r+=String.fromCharCode((31&o)<<6|i);else{var a=63&t[e++];65536>(o=224==(240&o)?(15&o)<<12|i<<6|a:(7&o)<<18|i<<12|a<<6|63&t[e++])?r+=String.fromCharCode(o):(o-=65536,r+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else r+=String.fromCharCode(o)}return r}function I(t,e){return t?P(S,t,e):""}function D(t,e,n,r){if(!(0<r))return 0;var o=n;r=n+r-1;for(var i=0;i<t.length;++i){var a=t.charCodeAt(i);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++i)),127>=a){if(n>=r)break;e[n++]=a}else{if(2047>=a){if(n+1>=r)break;e[n++]=192|a>>6}else{if(65535>=a){if(n+2>=r)break;e[n++]=224|a>>12}else{if(n+3>=r)break;e[n++]=240|a>>18,e[n++]=128|a>>12&63}e[n++]=128|a>>6&63}e[n++]=128|63&a}}return e[n]=0,n-o}function k(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++n)),127>=r?++e:e=2047>=r?e+2:65535>=r?e+3:e+4}return e}function R(t){var e=k(t)+1,n=gt(e);return n&&D(t,T,n,e),n}function C(){var t=w.buffer;x=t,e.HEAP8=T=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=O=new Int32Array(t),e.HEAPU8=S=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var N,F=[],L=[],M=[],j=[];function B(){var t=e.preRun.shift();F.unshift(t)}var U,V=0,z=null,G=null;function H(t){throw e.onAbort&&e.onAbort(t),_(t),A=!0,t=new WebAssembly.RuntimeError("abort("+t+"). Build with -s ASSERTIONS=1 for more info."),l(t),t}function W(){return U.startsWith("data:application/octet-stream;base64,")}if(e.preloadedImages={},e.preloadedAudios={},U="ort-wasm.wasm",!W()){var Y=U;U=e.locateFile?e.locateFile(Y,b):b+Y}function q(){var t=U;try{if(t==U&&m)return new Uint8Array(m);if(c)return c(t);throw"both async and sync fetching of the wasm failed"}catch(t){H(t)}}function X(t){for(;0<t.length;){var n=t.shift();if("function"==typeof n)n(e);else{var r=n.Ea;"number"==typeof r?void 0===n.xa?N.get(r)():N.get(r)(n.xa):r(void 0===n.xa?null:n.xa)}}}function K(t){this.ya=t-16,this.Na=function(t){O[this.ya+4>>2]=t},this.Ka=function(t){O[this.ya+8>>2]=t},this.La=function(){O[this.ya>>2]=0},this.Ja=function(){T[this.ya+12>>0]=0},this.Ma=function(){T[this.ya+13>>0]=0},this.Ga=function(t,e){this.Na(t),this.Ka(e),this.La(),this.Ja(),this.Ma()}}var Z,J={},$=[null,[],[]],Q={};Z=g?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:function(){return performance.now()};var tt,et,nt={};function ot(){if(!tt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in nt)void 0===nt[t]?delete e[t]:e[t]=nt[t];var n=[];for(t in e)n.push(t+"="+e[t]);tt=n}return tt}function it(){function t(t){return(t=t.toTimeString().match(/\(([A-Za-z ]+)\)$/))?t[1]:"GMT"}if(!et){et=!0;var e=(new Date).getFullYear(),n=new Date(e,0,1),r=new Date(e,6,1);e=n.getTimezoneOffset();var o=r.getTimezoneOffset(),i=Math.max(e,o);O[_t()>>2]=60*i,O[vt()>>2]=Number(e!=o),n=t(n),r=t(r),n=R(n),r=R(r),o<e?(O[mt()>>2]=n,O[mt()+4>>2]=r):(O[mt()>>2]=r,O[mt()+4>>2]=n)}}function at(t){return 0==t%4&&(0!=t%100||0==t%400)}function st(t,e){for(var n=0,r=0;r<=e;n+=t[r++]);return n}var ut=[31,29,31,30,31,30,31,31,30,31,30,31],lt=[31,28,31,30,31,30,31,31,30,31,30,31];function ct(t,e){for(t=new Date(t.getTime());0<e;){var n=t.getMonth(),r=(at(t.getFullYear())?ut:lt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return t}function ft(t,e,n,r){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return o(t,e,"0")}function a(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function u(t){t=ct(new Date(t.va+1900,0,1),t.Ca);var e=new Date(t.getFullYear()+1,0,4),n=s(new Date(t.getFullYear(),0,4));return e=s(e),0>=a(n,t)?0>=a(e,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var l=O[r+40>>2];for(var c in r={Qa:O[r>>2],Pa:O[r+4>>2],Aa:O[r+8>>2],za:O[r+12>>2],wa:O[r+16>>2],va:O[r+20>>2],Ba:O[r+24>>2],Ca:O[r+28>>2],Ya:O[r+32>>2],Oa:O[r+36>>2],Ra:l?I(l):""},n=I(n),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(c,"g"),l[c]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(c in l={"%a":function(t){return f[t.Ba].substring(0,3)},"%A":function(t){return f[t.Ba]},"%b":function(t){return p[t.wa].substring(0,3)},"%B":function(t){return p[t.wa]},"%C":function(t){return i((t.va+1900)/100|0,2)},"%d":function(t){return i(t.za,2)},"%e":function(t){return o(t.za,2," ")},"%g":function(t){return u(t).toString().substring(2)},"%G":function(t){return u(t)},"%H":function(t){return i(t.Aa,2)},"%I":function(t){return 0==(t=t.Aa)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){return i(t.za+st(at(t.va+1900)?ut:lt,t.wa-1),3)},"%m":function(t){return i(t.wa+1,2)},"%M":function(t){return i(t.Pa,2)},"%n":function(){return"\n"},"%p":function(t){return 0<=t.Aa&&12>t.Aa?"AM":"PM"},"%S":function(t){return i(t.Qa,2)},"%t":function(){return"\t"},"%u":function(t){return t.Ba||7},"%U":function(t){var e=new Date(t.va+1900,0,1),n=0===e.getDay()?e:ct(e,7-e.getDay());return 0>a(n,t=new Date(t.va+1900,t.wa,t.za))?i(Math.ceil((31-n.getDate()+(st(at(t.getFullYear())?ut:lt,t.getMonth()-1)-31)+t.getDate())/7),2):0===a(n,e)?"01":"00"},"%V":function(t){var e=new Date(t.va+1901,0,4),n=s(new Date(t.va+1900,0,4));e=s(e);var r=ct(new Date(t.va+1900,0,1),t.Ca);return 0>a(r,n)?"53":0>=a(e,r)?"01":i(Math.ceil((n.getFullYear()<t.va+1900?t.Ca+32-n.getDate():t.Ca+1-n.getDate())/7),2)},"%w":function(t){return t.Ba},"%W":function(t){var e=new Date(t.va,0,1),n=1===e.getDay()?e:ct(e,0===e.getDay()?1:7-e.getDay()+1);return 0>a(n,t=new Date(t.va+1900,t.wa,t.za))?i(Math.ceil((31-n.getDate()+(st(at(t.getFullYear())?ut:lt,t.getMonth()-1)-31)+t.getDate())/7),2):0===a(n,e)?"01":"00"},"%y":function(t){return(t.va+1900).toString().substring(2)},"%Y":function(t){return t.va+1900},"%z":function(t){var e=0<=(t=t.Oa);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Ra},"%%":function(){return"%"}})n.includes(c)&&(n=n.replace(new RegExp(c,"g"),l[c](r)));return(c=function(t){var e=Array(k(t)+1);return D(t,e,0,e.length),e}(n)).length>e?0:(T.set(c,t),c.length-1)}var pt={a:function(t){return gt(t+16)+16},c:function(t,e){M.unshift({Ea:t,xa:e})},d:function(t,e){M.unshift({Ea:t,xa:e})},b:function(t,e,n){throw new K(t).Ga(e,n),t},D:function(t,e){return t=I(t),Q.Sa(t,e)},m:function(){return 0},I:function(){},L:function(){},o:function(){return 42},x:function(){return 0},H:function(){},G:function(t,e){return t=I(t),Q.Ta(t,e)},K:function(t,e,n,r,o,i){if(i<<=12,0!=(16&r)&&0!=t%65536)e=-28;else if(0!=(32&r)){t=65536*Math.ceil(e/65536);var a=St(65536,t);a?(S.fill(0,a,a+t),t=a):t=0,t?(J[t]={Ia:t,Ha:e,Fa:!0,fd:o,Xa:n,flags:r,offset:i},e=t):e=-48}else e=-52;return e},J:function(t,e){var n=J[t];return 0!==e&&n?(e===n.Ha&&(J[t]=null,n.Fa&&yt(n.Ia)),t=0):t=-28,t},j:function(){},C:function(t,e,n){return t=I(t),Q.Ua(t,e,n)},E:function(){},r:function(){},F:function(){},h:function(){H()},p:function(t,e){if(0===t)t=Date.now();else{if(1!==t&&4!==t)return O[bt()>>2]=28,-1;t=Z()}return O[e>>2]=t/1e3|0,O[e+4>>2]=t%1e3*1e6|0,0},s:function(t,e){return t-e},P:function(){H("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},g:function(){H("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Q:function(){H("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},O:function(){H("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},M:function(){return 2147483648},v:function(t,e,n){S.copyWithin(t,e,e+n)},i:function(t){var e=S.length;if(2147483648<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296),0<(r=Math.max(t,r))%65536&&(r+=65536-r%65536);t:{try{w.grow(Math.min(2147483648,r)-x.byteLength+65535>>>16),C();var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},B:function(t){for(var e=Z();Z()-e<t;);},z:function(t,e){var n=0;return ot().forEach((function(r,o){var i=e+n;for(o=O[t+4*o>>2]=i,i=0;i<r.length;++i)T[o++>>0]=r.charCodeAt(i);T[o>>0]=0,n+=r.length+1})),0},A:function(t,e){var n=ot();O[t>>2]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),O[e>>2]=r,0},f:function(){return 0},y:function(t,e){return t=1==t||2==t?2:H(),T[e>>0]=t,0},n:function(t,e,n,r){return t=Q.Wa(t),e=Q.Va(t,e,n),O[r>>2]=e,0},u:function(){},q:function(t,e,n,r){for(var o=0,i=0;i<n;i++){for(var a=O[e+8*i>>2],s=O[e+(8*i+4)>>2],u=0;u<s;u++){var l=S[a+u],c=$[t];0===l||10===l?((1===t?v:_)(P(c,0)),c.length=0):c.push(l)}o+=s}return O[r>>2]=o,0},w:function(t){var e=Date.now();return O[t>>2]=e/1e3|0,O[t+4>>2]=e%1e3*1e3|0,0},t:function t(e,n){return e=new Date(1e3*O[e>>2]),O[n>>2]=e.getUTCSeconds(),O[n+4>>2]=e.getUTCMinutes(),O[n+8>>2]=e.getUTCHours(),O[n+12>>2]=e.getUTCDate(),O[n+16>>2]=e.getUTCMonth(),O[n+20>>2]=e.getUTCFullYear()-1900,O[n+24>>2]=e.getUTCDay(),O[n+36>>2]=0,O[n+32>>2]=0,O[n+28>>2]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,t.Da||(t.Da=R("GMT")),O[n+40>>2]=t.Da,n},l:function(t,e){it(),t=new Date(1e3*O[t>>2]),O[e>>2]=t.getSeconds(),O[e+4>>2]=t.getMinutes(),O[e+8>>2]=t.getHours(),O[e+12>>2]=t.getDate(),O[e+16>>2]=t.getMonth(),O[e+20>>2]=t.getFullYear()-1900,O[e+24>>2]=t.getDay();var n=new Date(t.getFullYear(),0,1);O[e+28>>2]=(t.getTime()-n.getTime())/864e5|0,O[e+36>>2]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();return t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),O[e+32>>2]=t,t=O[mt()+(t?4:0)>>2],O[e+40>>2]=t,e},k:function(t){it();var e=new Date(O[t+20>>2]+1900,O[t+16>>2],O[t+12>>2],O[t+8>>2],O[t+4>>2],O[t>>2],0),n=O[t+32>>2],r=e.getTimezoneOffset(),o=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),a=o.getTimezoneOffset(),s=Math.min(a,i);return 0>n?O[t+32>>2]=Number(i!=a&&s==r):0<n!=(s==r)&&(i=Math.max(a,i),e.setTime(e.getTime()+6e4*((0<n?s:i)-r))),O[t+24>>2]=e.getDay(),O[t+28>>2]=(e.getTime()-o.getTime())/864e5|0,O[t>>2]=e.getSeconds(),O[t+4>>2]=e.getMinutes(),O[t+8>>2]=e.getHours(),O[t+12>>2]=e.getDate(),O[t+16>>2]=e.getMonth(),e.getTime()/1e3|0},N:ft,e:function(t,e,n,r){return ft(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,w=e.asm.R,C(),N=e.asm.ua,L.unshift(e.asm.S),V--,e.monitorRunDependencies&&e.monitorRunDependencies(V),0==V&&(null!==z&&(clearInterval(z),z=null),G&&(t=G,G=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!m&&(h||y)){if("function"==typeof fetch&&!U.startsWith("file://"))return fetch(U,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+U+"'";return t.arrayBuffer()})).catch((function(){return q()}));if(u)return new Promise((function(t,e){u(U,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return q()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then(t,(function(t){_("failed to asynchronously prepare wasm: "+t),H(t)}))}var i={a:pt};if(V++,e.monitorRunDependencies&&e.monitorRunDependencies(V),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return _("Module.instantiateWasm callback failed with error: "+t),!1}(m||"function"!=typeof WebAssembly.instantiateStreaming||W()||U.startsWith("file://")||"function"!=typeof fetch?r(n):fetch(U,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return _("wasm streaming compile failed: "+t),_("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(l)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.S).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.T).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.U).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.V).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.W).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.X).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Y).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Z).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm._).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.$).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.aa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.ba).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.ca).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.da).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm.ea).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.fa).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ga).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.ha).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.ia).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.ja).apply(null,arguments)};var ht,gt=e._malloc=function(){return(gt=e._malloc=e.asm.ka).apply(null,arguments)},bt=e.___errno_location=function(){return(bt=e.___errno_location=e.asm.la).apply(null,arguments)},yt=e._free=function(){return(yt=e._free=e.asm.ma).apply(null,arguments)},mt=e.__get_tzname=function(){return(mt=e.__get_tzname=e.asm.na).apply(null,arguments)},vt=e.__get_daylight=function(){return(vt=e.__get_daylight=e.asm.oa).apply(null,arguments)},_t=e.__get_timezone=function(){return(_t=e.__get_timezone=e.asm.pa).apply(null,arguments)},wt=e.stackSave=function(){return(wt=e.stackSave=e.asm.qa).apply(null,arguments)},xt=e.stackRestore=function(){return(xt=e.stackRestore=e.asm.ra).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.sa).apply(null,arguments)},St=e._memalign=function(){return(St=e._memalign=e.asm.ta).apply(null,arguments)};function Ot(){function t(){if(!ht&&(ht=!0,e.calledRun=!0,!A)){if(X(L),o(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();j.unshift(t)}X(j)}}if(!(0<V)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)B();X(F),0<V||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=I,e.stringToUTF8=function(t,e,n){return D(t,S,e,n)},e.lengthBytesUTF8=k,e.stackSave=wt,e.stackRestore=xt,e.stackAlloc=Tt,G=function t(){ht||Ot(),ht||(G=t)},e.run=Ot,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Ot(),t.ready});t.exports=o},4537:function(t){"use strict";t.exports=function(t,e){for(var n=new Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,a){n[r]=function(t){if(i)if(i=!1,t)a(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];o.apply(null,e)}};try{t.apply(e||null,n)}catch(t){i&&(i=!1,a(t))}}))}},7419:function(t,e){"use strict";var n=e;n.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var r=new Array(64),o=new Array(123),i=0;i<64;)o[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;n.encode=function(t,e,n){for(var o,i=null,a=[],s=0,u=0;e<n;){var l=t[e++];switch(u){case 0:a[s++]=r[l>>2],o=(3&l)<<4,u=1;break;case 1:a[s++]=r[o|l>>4],o=(15&l)<<2,u=2;break;case 2:a[s++]=r[o|l>>6],a[s++]=r[63&l],u=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=r[o],a[s++]=61,1===u&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";n.decode=function(t,e,n){for(var r,i=n,s=0,u=0;u<t.length;){var l=t.charCodeAt(u++);if(61===l&&s>1)break;if(void 0===(l=o[l]))throw Error(a);switch(s){case 0:r=l,s=1;break;case 1:e[n++]=r<<2|(48&l)>>4,r=l,s=2;break;case 2:e[n++]=(15&r)<<4|(60&l)>>2,r=l,s=3;break;case 3:e[n++]=(3&r)<<6|l,s=0}}if(1===s)throw Error(a);return n-i},n.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},9211:function(t){"use strict";function e(){this._listeners={}}t.exports=e,e.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},e.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},e.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this}},945:function(t){"use strict";function e(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),r=128===n[3];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(t,r,o){e[0]=t,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],e[0]}function s(t,r){return n[3]=t[r],n[2]=t[r+1],n[1]=t[r+2],n[0]=t[r+3],e[0]}t.writeFloatLE=r?o:i,t.writeFloatBE=r?i:o,t.readFloatLE=r?a:s,t.readFloatBE=r?s:a}():function(){function e(t,e,n,r){var o=e<0?1:0;if(o&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>34028234663852886e22)t((o<<31|2139095040)>>>0,n,r);else if(e<11754943508222875e-54)t((o<<31|Math.round(e/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(e)/Math.LN2);t((o<<31|i+127<<23|8388607&Math.round(e*Math.pow(2,-i)*8388608))>>>0,n,r)}}function a(t,e,n){var r=t(e,n),o=2*(r>>31)+1,i=r>>>23&255,a=8388607&r;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}t.writeFloatLE=e.bind(null,n),t.writeFloatBE=e.bind(null,r),t.readFloatLE=a.bind(null,o),t.readFloatBE=a.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),r=128===n[7];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(t,r,o){e[0]=t,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],n[4]=t[r+4],n[5]=t[r+5],n[6]=t[r+6],n[7]=t[r+7],e[0]}function s(t,r){return n[7]=t[r],n[6]=t[r+1],n[5]=t[r+2],n[4]=t[r+3],n[3]=t[r+4],n[2]=t[r+5],n[1]=t[r+6],n[0]=t[r+7],e[0]}t.writeDoubleLE=r?o:i,t.writeDoubleBE=r?i:o,t.readDoubleLE=r?a:s,t.readDoubleBE=r?s:a}():function(){function e(t,e,n,r,o,i){var a=r<0?1:0;if(a&&(r=-r),0===r)t(0,o,i+e),t(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))t(0,o,i+e),t(2146959360,o,i+n);else if(r>17976931348623157e292)t(0,o,i+e),t((a<<31|2146435072)>>>0,o,i+n);else{var s;if(r<22250738585072014e-324)t((s=r/5e-324)>>>0,o,i+e),t((a<<31|s/4294967296)>>>0,o,i+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),t(4503599627370496*(s=r*Math.pow(2,-u))>>>0,o,i+e),t((a<<31|u+1023<<20|1048576*s&1048575)>>>0,o,i+n)}}}function a(t,e,n,r,o){var i=t(r,o+e),a=t(r,o+n),s=2*(a>>31)+1,u=a>>>20&2047,l=4294967296*(1048575&a)+i;return 2047===u?l?NaN:s*(1/0):0===u?5e-324*s*l:s*Math.pow(2,u-1075)*(l+4503599627370496)}t.writeDoubleLE=e.bind(null,n,0,4),t.writeDoubleBE=e.bind(null,r,4,0),t.readDoubleLE=a.bind(null,o,0,4),t.readDoubleBE=a.bind(null,i,4,0)}(),t}function n(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function r(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function o(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function i(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=e(e)},7199:function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},6662:function(t){"use strict";t.exports=function(t,e,n){var r=n||8192,o=r>>>1,i=null,a=r;return function(n){if(n<1||n>o)return t(n);a+n>r&&(i=t(r),a=0);var s=e.call(i,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},4997:function(t,e){"use strict";var n=e;n.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)(n=t.charCodeAt(r))<128?e+=1:n<2048?e+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},n.read=function(t,e,n){if(n-e<1)return"";for(var r,o=null,i=[],a=0;e<n;)(r=t[e++])<128?i[a++]=r:r>191&&r<224?i[a++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,i[a++]=55296+(r>>10),i[a++]=56320+(1023&r)):i[a++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},n.write=function(t,e,n){for(var r,o,i=n,a=0;a<t.length;++a)(r=t.charCodeAt(a))<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=t.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&o),++a,e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-i}},4819:function(t,e,n){"use strict";n.r(e),n.d(e,{flatbuffers:function(){return r}});var r={};r.Offset,r.Table,r.SIZEOF_SHORT=2,r.SIZEOF_INT=4,r.FILE_IDENTIFIER_LENGTH=4,r.SIZE_PREFIX_LENGTH=4,r.Encoding={UTF8_BYTES:1,UTF16_STRING:2},r.int32=new Int32Array(2),r.float32=new Float32Array(r.int32.buffer),r.float64=new Float64Array(r.int32.buffer),r.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],r.Long=function(t,e){this.low=0|t,this.high=0|e},r.Long.create=function(t,e){return 0==t&&0==e?r.Long.ZERO:new r.Long(t,e)},r.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},r.Long.prototype.equals=function(t){return this.low==t.low&&this.high==t.high},r.Long.ZERO=new r.Long(0,0),r.Builder=function(t){if(t)e=t;else var e=1024;this.bb=r.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.forceDefaults=function(t){this.force_defaults=t},r.Builder.prototype.dataBuffer=function(){return this.bb},r.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},r.Builder.prototype.prep=function(t,e){t>this.minalign&&(this.minalign=t);for(var n=1+~(this.bb.capacity()-this.space+e)&t-1;this.space<n+t+e;){var o=this.bb.capacity();this.bb=r.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-o}this.pad(n)},r.Builder.prototype.pad=function(t){for(var e=0;e<t;e++)this.bb.writeInt8(--this.space,0)},r.Builder.prototype.writeInt8=function(t){this.bb.writeInt8(this.space-=1,t)},r.Builder.prototype.writeInt16=function(t){this.bb.writeInt16(this.space-=2,t)},r.Builder.prototype.writeInt32=function(t){this.bb.writeInt32(this.space-=4,t)},r.Builder.prototype.writeInt64=function(t){this.bb.writeInt64(this.space-=8,t)},r.Builder.prototype.writeFloat32=function(t){this.bb.writeFloat32(this.space-=4,t)},r.Builder.prototype.writeFloat64=function(t){this.bb.writeFloat64(this.space-=8,t)},r.Builder.prototype.addInt8=function(t){this.prep(1,0),this.writeInt8(t)},r.Builder.prototype.addInt16=function(t){this.prep(2,0),this.writeInt16(t)},r.Builder.prototype.addInt32=function(t){this.prep(4,0),this.writeInt32(t)},r.Builder.prototype.addInt64=function(t){this.prep(8,0),this.writeInt64(t)},r.Builder.prototype.addFloat32=function(t){this.prep(4,0),this.writeFloat32(t)},r.Builder.prototype.addFloat64=function(t){this.prep(8,0),this.writeFloat64(t)},r.Builder.prototype.addFieldInt8=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(t))},r.Builder.prototype.addFieldInt16=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(t))},r.Builder.prototype.addFieldInt32=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(t))},r.Builder.prototype.addFieldInt64=function(t,e,n){!this.force_defaults&&e.equals(n)||(this.addInt64(e),this.slot(t))},r.Builder.prototype.addFieldFloat32=function(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(t))},r.Builder.prototype.addFieldFloat64=function(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(t))},r.Builder.prototype.addFieldOffset=function(t,e,n){(this.force_defaults||e!=n)&&(this.addOffset(e),this.slot(t))},r.Builder.prototype.addFieldStruct=function(t,e,n){e!=n&&(this.nested(e),this.slot(t))},r.Builder.prototype.nested=function(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},r.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},r.Builder.prototype.slot=function(t){this.vtable[t]=this.offset()},r.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},r.Builder.growByteBuffer=function(t){var e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=e<<1,o=r.ByteBuffer.allocate(n);return o.setPosition(n-e),o.bytes().set(t.bytes(),n-e),o},r.Builder.prototype.addOffset=function(t){this.prep(r.SIZEOF_INT,0),this.writeInt32(this.offset()-t+r.SIZEOF_INT)},r.Builder.prototype.startObject=function(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(var e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()},r.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var t=this.offset(),e=this.vtable_in_use-1;e>=0&&0==this.vtable[e];e--);for(var n=e+1;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);var o=(n+2)*r.SIZEOF_SHORT;this.addInt16(o);var i=0,a=this.space;t:for(e=0;e<this.vtables.length;e++){var s=this.bb.capacity()-this.vtables[e];if(o==this.bb.readInt16(s)){for(var u=r.SIZEOF_SHORT;u<o;u+=r.SIZEOF_SHORT)if(this.bb.readInt16(a+u)!=this.bb.readInt16(s+u))continue t;i=this.vtables[e];break}}return i?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,i-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t},r.Builder.prototype.finish=function(t,e,n){var o=n?r.SIZE_PREFIX_LENGTH:0;if(e){var i=e;if(this.prep(this.minalign,r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH+o),i.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var a=r.FILE_IDENTIFIER_LENGTH-1;a>=0;a--)this.writeInt8(i.charCodeAt(a))}this.prep(this.minalign,r.SIZEOF_INT+o),this.addOffset(t),o&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},r.Builder.prototype.finishSizePrefixed=function(t,e){this.finish(t,e,!0)},r.Builder.prototype.requiredField=function(t,e){var n=this.bb.capacity()-t,r=n-this.bb.readInt32(n);if(0==this.bb.readInt16(r+e))throw new Error("FlatBuffers: field "+e+" must be set")},r.Builder.prototype.startVector=function(t,e,n){this.notNested(),this.vector_num_elems=e,this.prep(r.SIZEOF_INT,t*e),this.prep(n,t*e)},r.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},r.Builder.prototype.createString=function(t){if(t instanceof Uint8Array)var e=t;else{e=[];for(var n=0;n<t.length;){var r,o=t.charCodeAt(n++);(r=o<55296||o>=56320?o:(o<<10)+t.charCodeAt(n++)+-56613888)<128?e.push(r):(r<2048?e.push(r>>6&31|192):(r<65536?e.push(r>>12&15|224):e.push(r>>18&7|240,r>>12&63|128),e.push(r>>6&63|128)),e.push(63&r|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),n=0;for(var i=this.space,a=this.bb.bytes();n<e.length;n++)a[i++]=e[n];return this.endVector()},r.Builder.prototype.createLong=function(t,e){return r.Long.create(t,e)},r.ByteBuffer=function(t){this.bytes_=t,this.position_=0},r.ByteBuffer.allocate=function(t){return new r.ByteBuffer(new Uint8Array(t))},r.ByteBuffer.prototype.clear=function(){this.position_=0},r.ByteBuffer.prototype.bytes=function(){return this.bytes_},r.ByteBuffer.prototype.position=function(){return this.position_},r.ByteBuffer.prototype.setPosition=function(t){this.position_=t},r.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},r.ByteBuffer.prototype.readInt8=function(t){return this.readUint8(t)<<24>>24},r.ByteBuffer.prototype.readUint8=function(t){return this.bytes_[t]},r.ByteBuffer.prototype.readInt16=function(t){return this.readUint16(t)<<16>>16},r.ByteBuffer.prototype.readUint16=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8},r.ByteBuffer.prototype.readInt32=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24},r.ByteBuffer.prototype.readUint32=function(t){return this.readInt32(t)>>>0},r.ByteBuffer.prototype.readInt64=function(t){return new r.Long(this.readInt32(t),this.readInt32(t+4))},r.ByteBuffer.prototype.readUint64=function(t){return new r.Long(this.readUint32(t),this.readUint32(t+4))},r.ByteBuffer.prototype.readFloat32=function(t){return r.int32[0]=this.readInt32(t),r.float32[0]},r.ByteBuffer.prototype.readFloat64=function(t){return r.int32[r.isLittleEndian?0:1]=this.readInt32(t),r.int32[r.isLittleEndian?1:0]=this.readInt32(t+4),r.float64[0]},r.ByteBuffer.prototype.writeInt8=function(t,e){this.bytes_[t]=e},r.ByteBuffer.prototype.writeUint8=function(t,e){this.bytes_[t]=e},r.ByteBuffer.prototype.writeInt16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},r.ByteBuffer.prototype.writeUint16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},r.ByteBuffer.prototype.writeInt32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},r.ByteBuffer.prototype.writeUint32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},r.ByteBuffer.prototype.writeInt64=function(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)},r.ByteBuffer.prototype.writeUint64=function(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)},r.ByteBuffer.prototype.writeFloat32=function(t,e){r.float32[0]=e,this.writeInt32(t,r.int32[0])},r.ByteBuffer.prototype.writeFloat64=function(t,e){r.float64[0]=e,this.writeInt32(t,r.int32[r.isLittleEndian?0:1]),this.writeInt32(t+4,r.int32[r.isLittleEndian?1:0])},r.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var t="",e=0;e<r.FILE_IDENTIFIER_LENGTH;e++)t+=String.fromCharCode(this.readInt8(this.position_+r.SIZEOF_INT+e));return t},r.ByteBuffer.prototype.__offset=function(t,e){var n=t-this.readInt32(t);return e<this.readInt16(n)?this.readInt16(n+e):0},r.ByteBuffer.prototype.__union=function(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t},r.ByteBuffer.prototype.__string=function(t,e){t+=this.readInt32(t);var n=this.readInt32(t),o="",i=0;if(t+=r.SIZEOF_INT,e===r.Encoding.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;i<n;){var a,s=this.readUint8(t+i++);if(s<192)a=s;else{var u=this.readUint8(t+i++);if(s<224)a=(31&s)<<6|63&u;else{var l=this.readUint8(t+i++);a=s<240?(15&s)<<12|(63&u)<<6|63&l:(7&s)<<18|(63&u)<<12|(63&l)<<6|63&this.readUint8(t+i++)}}a<65536?o+=String.fromCharCode(a):(a-=65536,o+=String.fromCharCode(55296+(a>>10),56320+(1023&a)))}return o},r.ByteBuffer.prototype.__indirect=function(t){return t+this.readInt32(t)},r.ByteBuffer.prototype.__vector=function(t){return t+this.readInt32(t)+r.SIZEOF_INT},r.ByteBuffer.prototype.__vector_len=function(t){return this.readInt32(t+this.readInt32(t))},r.ByteBuffer.prototype.__has_identifier=function(t){if(t.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var e=0;e<r.FILE_IDENTIFIER_LENGTH;e++)if(t.charCodeAt(e)!=this.readInt8(this.position_+r.SIZEOF_INT+e))return!1;return!0},r.ByteBuffer.prototype.createLong=function(t,e){return r.Long.create(t,e)}},3442:function(t,e){"use strict";e.__esModule=!0;var n=function(){function t(e){if(!e)throw new TypeError("Invalid argument; `value` has no value.");this.value=t.EMPTY,e&&t.isGuid(e)&&(this.value=e)}return t.isGuid=function(e){var n=e.toString();return e&&(e instanceof t||t.validator.test(n))},t.create=function(){return new t([t.gen(2),t.gen(1),t.gen(1),t.gen(1),t.gen(3)].join("-"))},t.createEmpty=function(){return new t("emptyguid")},t.parse=function(e){return new t(e)},t.raw=function(){return[t.gen(2),t.gen(1),t.gen(1),t.gen(1),t.gen(3)].join("-")},t.gen=function(t){for(var e="",n=0;n<t;n++)e+=(65536*(1+Math.random())|0).toString(16).substring(1);return e},t.prototype.equals=function(e){return t.isGuid(e)&&this.value===e.toString()},t.prototype.isEmpty=function(){return this.value===t.EMPTY},t.prototype.toString=function(){return this.value},t.prototype.toJSON=function(){return{value:this.value}},t.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),t.EMPTY="00000000-0000-0000-0000-000000000000",t}();e.Guid=n},3720:function(t){t.exports=n;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function n(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function r(t){return!0===(t&&t.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var o={},i={};function a(t,e){var n,r,a;return e?(a=0<=(t>>>=0)&&t<256)&&(r=i[t])?r:(n=u(t,(0|t)<0?-1:0,!0),a&&(i[t]=n),n):(a=-128<=(t|=0)&&t<128)&&(r=o[t])?r:(n=u(t,t<0?-1:0,!1),a&&(o[t]=n),n)}function s(t,e){if(isNaN(t))return e?y:b;if(e){if(t<0)return y;if(t>=d)return x}else{if(t<=-h)return T;if(t+1>=h)return w}return t<0?s(-t,e).neg():u(t%p|0,t/p|0,e)}function u(t,e,r){return new n(t,e,r)}n.fromInt=a,n.fromNumber=s,n.fromBits=u;var l=Math.pow;function c(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return b;if("number"==typeof e?(n=e,e=!1):e=!!e,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(t.substring(1),e,n).neg();for(var o=s(l(n,8)),i=b,a=0;a<t.length;a+=8){var u=Math.min(8,t.length-a),f=parseInt(t.substring(a,a+u),n);if(u<8){var p=s(l(n,u));i=i.mul(p).add(s(f))}else i=(i=i.mul(o)).add(s(f))}return i.unsigned=e,i}function f(t,e){return"number"==typeof t?s(t,e):"string"==typeof t?c(t,e):u(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}n.fromString=c,n.fromValue=f;var p=4294967296,d=p*p,h=d/2,g=a(1<<24),b=a(0);n.ZERO=b;var y=a(0,!0);n.UZERO=y;var m=a(1);n.ONE=m;var v=a(1,!0);n.UONE=v;var _=a(-1);n.NEG_ONE=_;var w=u(-1,2147483647,!1);n.MAX_VALUE=w;var x=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var T=u(0,-2147483648,!1);n.MIN_VALUE=T;var S=n.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},S.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(T)){var e=s(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var o=s(l(t,6),this.unsigned),i=this,a="";;){var u=i.div(o),c=(i.sub(u.mul(o)).toInt()>>>0).toString(t);if((i=u).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(T)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1==(1&this.low)},S.isEven=function(){return 0==(1&this.low)},S.equals=function(t){return r(t)||(t=f(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},S.eq=S.equals,S.notEquals=function(t){return!this.eq(t)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(t){return this.comp(t)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(t){return this.comp(t)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(t){return this.comp(t)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(t){return this.comp(t)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(t){if(r(t)||(t=f(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(T)?T:this.not().add(m)},S.neg=S.negate,S.add=function(t){r(t)||(t=f(t));var e=this.high>>>16,n=65535&this.high,o=this.low>>>16,i=65535&this.low,a=t.high>>>16,s=65535&t.high,l=t.low>>>16,c=0,p=0,d=0,h=0;return d+=(h+=i+(65535&t.low))>>>16,p+=(d+=o+l)>>>16,c+=(p+=n+s)>>>16,c+=e+a,u((d&=65535)<<16|(h&=65535),(c&=65535)<<16|(p&=65535),this.unsigned)},S.subtract=function(t){return r(t)||(t=f(t)),this.add(t.neg())},S.sub=S.subtract,S.multiply=function(t){if(this.isZero())return b;if(r(t)||(t=f(t)),e)return u(e.mul(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned);if(t.isZero())return b;if(this.eq(T))return t.isOdd()?T:b;if(t.eq(T))return this.isOdd()?T:b;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(g)&&t.lt(g))return s(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,l=t.high>>>16,c=65535&t.high,p=t.low>>>16,d=65535&t.low,h=0,y=0,m=0,v=0;return m+=(v+=a*d)>>>16,y+=(m+=i*d)>>>16,m&=65535,y+=(m+=a*p)>>>16,h+=(y+=o*d)>>>16,y&=65535,h+=(y+=i*p)>>>16,y&=65535,h+=(y+=a*c)>>>16,h+=n*d+o*p+i*c+a*l,u((m&=65535)<<16|(v&=65535),(h&=65535)<<16|(y&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(t){if(r(t)||(t=f(t)),t.isZero())throw Error("division by zero");var n,o,i;if(e)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?u((this.unsigned?e.div_u:e.div_s)(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:b;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return y;if(t.gt(this.shru(1)))return v;i=y}else{if(this.eq(T))return t.eq(m)||t.eq(_)?T:t.eq(T)?m:(n=this.shr(1).div(t).shl(1)).eq(b)?t.isNegative()?m:_:(o=this.sub(t.mul(n)),i=n.add(o.div(t)));if(t.eq(T))return this.unsigned?y:b;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=b}for(o=this;o.gte(t);){n=Math.max(1,Math.floor(o.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),c=a<=48?1:l(2,a-48),p=s(n),d=p.mul(t);d.isNegative()||d.gt(o);)d=(p=s(n-=c,this.unsigned)).mul(t);p.isZero()&&(p=m),i=i.add(p),o=o.sub(d)}return i},S.div=S.divide,S.modulo=function(t){return r(t)||(t=f(t)),e?u((this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return u(~this.low,~this.high,this.unsigned)},S.and=function(t){return r(t)||(t=f(t)),u(this.low&t.low,this.high&t.high,this.unsigned)},S.or=function(t){return r(t)||(t=f(t)),u(this.low|t.low,this.high|t.high,this.unsigned)},S.xor=function(t){return r(t)||(t=f(t)),u(this.low^t.low,this.high^t.high,this.unsigned)},S.shiftLeft=function(t){return r(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?u(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):u(0,this.low<<t-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(t){return r(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?u(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):u(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(t){if(r(t)&&(t=t.toInt()),0==(t&=63))return this;var e=this.high;return t<32?u(this.low>>>t|e<<32-t,e>>>t,this.unsigned):u(32===t?e:e>>>t-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},S.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},S.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},n.fromBytes=function(t,e,r){return r?n.fromBytesLE(t,e):n.fromBytesBE(t,e)},n.fromBytesLE=function(t,e){return new n(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},n.fromBytesBE=function(t,e){return new n(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}},1446:function(t,e,n){"use strict";var r,o,i,a=n(2100),s=a.Reader,u=a.Writer,l=a.util,c=a.roots.default||(a.roots.default={});c.onnx=((i={}).Version=(r={},(o=Object.create(r))[r[0]="_START_VERSION"]=0,o[r[1]="IR_VERSION_2017_10_10"]=1,o[r[2]="IR_VERSION_2017_10_30"]=2,o[r[3]="IR_VERSION_2017_11_3"]=3,o[r[4]="IR_VERSION_2019_1_22"]=4,o[r[5]="IR_VERSION"]=5,o),i.AttributeProto=function(){function t(t){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.refAttrName="",t.prototype.docString="",t.prototype.type=0,t.prototype.f=0,t.prototype.i=l.Long?l.Long.fromBits(0,0,!1):0,t.prototype.s=l.newBuffer([]),t.prototype.t=null,t.prototype.g=null,t.prototype.floats=l.emptyArray,t.prototype.ints=l.emptyArray,t.prototype.strings=l.emptyArray,t.prototype.tensors=l.emptyArray,t.prototype.graphs=l.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.name&&t.hasOwnProperty("name")&&e.uint32(10).string(t.name),null!=t.f&&t.hasOwnProperty("f")&&e.uint32(21).float(t.f),null!=t.i&&t.hasOwnProperty("i")&&e.uint32(24).int64(t.i),null!=t.s&&t.hasOwnProperty("s")&&e.uint32(34).bytes(t.s),null!=t.t&&t.hasOwnProperty("t")&&c.onnx.TensorProto.encode(t.t,e.uint32(42).fork()).ldelim(),null!=t.g&&t.hasOwnProperty("g")&&c.onnx.GraphProto.encode(t.g,e.uint32(50).fork()).ldelim(),null!=t.floats&&t.floats.length){e.uint32(58).fork();for(var n=0;n<t.floats.length;++n)e.float(t.floats[n]);e.ldelim()}if(null!=t.ints&&t.ints.length){for(e.uint32(66).fork(),n=0;n<t.ints.length;++n)e.int64(t.ints[n]);e.ldelim()}if(null!=t.strings&&t.strings.length)for(n=0;n<t.strings.length;++n)e.uint32(74).bytes(t.strings[n]);if(null!=t.tensors&&t.tensors.length)for(n=0;n<t.tensors.length;++n)c.onnx.TensorProto.encode(t.tensors[n],e.uint32(82).fork()).ldelim();if(null!=t.graphs&&t.graphs.length)for(n=0;n<t.graphs.length;++n)c.onnx.GraphProto.encode(t.graphs[n],e.uint32(90).fork()).ldelim();return null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(106).string(t.docString),null!=t.type&&t.hasOwnProperty("type")&&e.uint32(160).int32(t.type),null!=t.refAttrName&&t.hasOwnProperty("refAttrName")&&e.uint32(170).string(t.refAttrName),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new c.onnx.AttributeProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.name=t.string();break;case 21:r.refAttrName=t.string();break;case 13:r.docString=t.string();break;case 20:r.type=t.int32();break;case 2:r.f=t.float();break;case 3:r.i=t.int64();break;case 4:r.s=t.bytes();break;case 5:r.t=c.onnx.TensorProto.decode(t,t.uint32());break;case 6:r.g=c.onnx.GraphProto.decode(t,t.uint32());break;case 7:if(r.floats&&r.floats.length||(r.floats=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.floats.push(t.float());else r.floats.push(t.float());break;case 8:if(r.ints&&r.ints.length||(r.ints=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.ints.push(t.int64());else r.ints.push(t.int64());break;case 9:r.strings&&r.strings.length||(r.strings=[]),r.strings.push(t.bytes());break;case 10:r.tensors&&r.tensors.length||(r.tensors=[]),r.tensors.push(c.onnx.TensorProto.decode(t,t.uint32()));break;case 11:r.graphs&&r.graphs.length||(r.graphs=[]),r.graphs.push(c.onnx.GraphProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.name&&t.hasOwnProperty("name")&&!l.isString(t.name))return"name: string expected";if(null!=t.refAttrName&&t.hasOwnProperty("refAttrName")&&!l.isString(t.refAttrName))return"refAttrName: string expected";if(null!=t.docString&&t.hasOwnProperty("docString")&&!l.isString(t.docString))return"docString: string expected";if(null!=t.type&&t.hasOwnProperty("type"))switch(t.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=t.f&&t.hasOwnProperty("f")&&"number"!=typeof t.f)return"f: number expected";if(null!=t.i&&t.hasOwnProperty("i")&&!(l.isInteger(t.i)||t.i&&l.isInteger(t.i.low)&&l.isInteger(t.i.high)))return"i: integer|Long expected";if(null!=t.s&&t.hasOwnProperty("s")&&!(t.s&&"number"==typeof t.s.length||l.isString(t.s)))return"s: buffer expected";if(null!=t.t&&t.hasOwnProperty("t")&&(n=c.onnx.TensorProto.verify(t.t)))return"t."+n;if(null!=t.g&&t.hasOwnProperty("g")&&(n=c.onnx.GraphProto.verify(t.g)))return"g."+n;if(null!=t.floats&&t.hasOwnProperty("floats")){if(!Array.isArray(t.floats))return"floats: array expected";for(var e=0;e<t.floats.length;++e)if("number"!=typeof t.floats[e])return"floats: number[] expected"}if(null!=t.ints&&t.hasOwnProperty("ints")){if(!Array.isArray(t.ints))return"ints: array expected";for(e=0;e<t.ints.length;++e)if(!(l.isInteger(t.ints[e])||t.ints[e]&&l.isInteger(t.ints[e].low)&&l.isInteger(t.ints[e].high)))return"ints: integer|Long[] expected"}if(null!=t.strings&&t.hasOwnProperty("strings")){if(!Array.isArray(t.strings))return"strings: array expected";for(e=0;e<t.strings.length;++e)if(!(t.strings[e]&&"number"==typeof t.strings[e].length||l.isString(t.strings[e])))return"strings: buffer[] expected"}if(null!=t.tensors&&t.hasOwnProperty("tensors")){if(!Array.isArray(t.tensors))return"tensors: array expected";for(e=0;e<t.tensors.length;++e)if(n=c.onnx.TensorProto.verify(t.tensors[e]))return"tensors."+n}if(null!=t.graphs&&t.hasOwnProperty("graphs")){if(!Array.isArray(t.graphs))return"graphs: array expected";for(e=0;e<t.graphs.length;++e){var n;if(n=c.onnx.GraphProto.verify(t.graphs[e]))return"graphs."+n}}return null},t.fromObject=function(t){if(t instanceof c.onnx.AttributeProto)return t;var e=new c.onnx.AttributeProto;switch(null!=t.name&&(e.name=String(t.name)),null!=t.refAttrName&&(e.refAttrName=String(t.refAttrName)),null!=t.docString&&(e.docString=String(t.docString)),t.type){case"UNDEFINED":case 0:e.type=0;break;case"FLOAT":case 1:e.type=1;break;case"INT":case 2:e.type=2;break;case"STRING":case 3:e.type=3;break;case"TENSOR":case 4:e.type=4;break;case"GRAPH":case 5:e.type=5;break;case"FLOATS":case 6:e.type=6;break;case"INTS":case 7:e.type=7;break;case"STRINGS":case 8:e.type=8;break;case"TENSORS":case 9:e.type=9;break;case"GRAPHS":case 10:e.type=10}if(null!=t.f&&(e.f=Number(t.f)),null!=t.i&&(l.Long?(e.i=l.Long.fromValue(t.i)).unsigned=!1:"string"==typeof t.i?e.i=parseInt(t.i,10):"number"==typeof t.i?e.i=t.i:"object"==typeof t.i&&(e.i=new l.LongBits(t.i.low>>>0,t.i.high>>>0).toNumber())),null!=t.s&&("string"==typeof t.s?l.base64.decode(t.s,e.s=l.newBuffer(l.base64.length(t.s)),0):t.s.length&&(e.s=t.s)),null!=t.t){if("object"!=typeof t.t)throw TypeError(".onnx.AttributeProto.t: object expected");e.t=c.onnx.TensorProto.fromObject(t.t)}if(null!=t.g){if("object"!=typeof t.g)throw TypeError(".onnx.AttributeProto.g: object expected");e.g=c.onnx.GraphProto.fromObject(t.g)}if(t.floats){if(!Array.isArray(t.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");e.floats=[];for(var n=0;n<t.floats.length;++n)e.floats[n]=Number(t.floats[n])}if(t.ints){if(!Array.isArray(t.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(e.ints=[],n=0;n<t.ints.length;++n)l.Long?(e.ints[n]=l.Long.fromValue(t.ints[n])).unsigned=!1:"string"==typeof t.ints[n]?e.ints[n]=parseInt(t.ints[n],10):"number"==typeof t.ints[n]?e.ints[n]=t.ints[n]:"object"==typeof t.ints[n]&&(e.ints[n]=new l.LongBits(t.ints[n].low>>>0,t.ints[n].high>>>0).toNumber())}if(t.strings){if(!Array.isArray(t.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(e.strings=[],n=0;n<t.strings.length;++n)"string"==typeof t.strings[n]?l.base64.decode(t.strings[n],e.strings[n]=l.newBuffer(l.base64.length(t.strings[n])),0):t.strings[n].length&&(e.strings[n]=t.strings[n])}if(t.tensors){if(!Array.isArray(t.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(e.tensors=[],n=0;n<t.tensors.length;++n){if("object"!=typeof t.tensors[n])throw TypeError(".onnx.AttributeProto.tensors: object expected");e.tensors[n]=c.onnx.TensorProto.fromObject(t.tensors[n])}}if(t.graphs){if(!Array.isArray(t.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(e.graphs=[],n=0;n<t.graphs.length;++n){if("object"!=typeof t.graphs[n])throw TypeError(".onnx.AttributeProto.graphs: object expected");e.graphs[n]=c.onnx.GraphProto.fromObject(t.graphs[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.floats=[],n.ints=[],n.strings=[],n.tensors=[],n.graphs=[]),e.defaults){if(n.name="",n.f=0,l.Long){var r=new l.Long(0,0,!1);n.i=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.i=e.longs===String?"0":0;e.bytes===String?n.s="":(n.s=[],e.bytes!==Array&&(n.s=l.newBuffer(n.s))),n.t=null,n.g=null,n.docString="",n.type=e.enums===String?"UNDEFINED":0,n.refAttrName=""}if(null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.f&&t.hasOwnProperty("f")&&(n.f=e.json&&!isFinite(t.f)?String(t.f):t.f),null!=t.i&&t.hasOwnProperty("i")&&("number"==typeof t.i?n.i=e.longs===String?String(t.i):t.i:n.i=e.longs===String?l.Long.prototype.toString.call(t.i):e.longs===Number?new l.LongBits(t.i.low>>>0,t.i.high>>>0).toNumber():t.i),null!=t.s&&t.hasOwnProperty("s")&&(n.s=e.bytes===String?l.base64.encode(t.s,0,t.s.length):e.bytes===Array?Array.prototype.slice.call(t.s):t.s),null!=t.t&&t.hasOwnProperty("t")&&(n.t=c.onnx.TensorProto.toObject(t.t,e)),null!=t.g&&t.hasOwnProperty("g")&&(n.g=c.onnx.GraphProto.toObject(t.g,e)),t.floats&&t.floats.length){n.floats=[];for(var o=0;o<t.floats.length;++o)n.floats[o]=e.json&&!isFinite(t.floats[o])?String(t.floats[o]):t.floats[o]}if(t.ints&&t.ints.length)for(n.ints=[],o=0;o<t.ints.length;++o)"number"==typeof t.ints[o]?n.ints[o]=e.longs===String?String(t.ints[o]):t.ints[o]:n.ints[o]=e.longs===String?l.Long.prototype.toString.call(t.ints[o]):e.longs===Number?new l.LongBits(t.ints[o].low>>>0,t.ints[o].high>>>0).toNumber():t.ints[o];if(t.strings&&t.strings.length)for(n.strings=[],o=0;o<t.strings.length;++o)n.strings[o]=e.bytes===String?l.base64.encode(t.strings[o],0,t.strings[o].length):e.bytes===Array?Array.prototype.slice.call(t.strings[o]):t.strings[o];if(t.tensors&&t.tensors.length)for(n.tensors=[],o=0;o<t.tensors.length;++o)n.tensors[o]=c.onnx.TensorProto.toObject(t.tensors[o],e);if(t.graphs&&t.graphs.length)for(n.graphs=[],o=0;o<t.graphs.length;++o)n.graphs[o]=c.onnx.GraphProto.toObject(t.graphs[o],e);return null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?c.onnx.AttributeProto.AttributeType[t.type]:t.type),null!=t.refAttrName&&t.hasOwnProperty("refAttrName")&&(n.refAttrName=t.refAttrName),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t.AttributeType=function(){var t={},e=Object.create(t);return e[t[0]="UNDEFINED"]=0,e[t[1]="FLOAT"]=1,e[t[2]="INT"]=2,e[t[3]="STRING"]=3,e[t[4]="TENSOR"]=4,e[t[5]="GRAPH"]=5,e[t[6]="FLOATS"]=6,e[t[7]="INTS"]=7,e[t[8]="STRINGS"]=8,e[t[9]="TENSORS"]=9,e[t[10]="GRAPHS"]=10,e}(),t}(),i.ValueInfoProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.type=null,t.prototype.docString="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.name&&t.hasOwnProperty("name")&&e.uint32(10).string(t.name),null!=t.type&&t.hasOwnProperty("type")&&c.onnx.TypeProto.encode(t.type,e.uint32(18).fork()).ldelim(),null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(26).string(t.docString),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new c.onnx.ValueInfoProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.name=t.string();break;case 2:r.type=c.onnx.TypeProto.decode(t,t.uint32());break;case 3:r.docString=t.string();break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.name&&t.hasOwnProperty("name")&&!l.isString(t.name))return"name: string expected";if(null!=t.type&&t.hasOwnProperty("type")){var e=c.onnx.TypeProto.verify(t.type);if(e)return"type."+e}return null!=t.docString&&t.hasOwnProperty("docString")&&!l.isString(t.docString)?"docString: string expected":null},t.fromObject=function(t){if(t instanceof c.onnx.ValueInfoProto)return t;var e=new c.onnx.ValueInfoProto;if(null!=t.name&&(e.name=String(t.name)),null!=t.type){if("object"!=typeof t.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");e.type=c.onnx.TypeProto.fromObject(t.type)}return null!=t.docString&&(e.docString=String(t.docString)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.name="",n.type=null,n.docString=""),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.type&&t.hasOwnProperty("type")&&(n.type=c.onnx.TypeProto.toObject(t.type,e)),null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.NodeProto=function(){function t(t){if(this.input=[],this.output=[],this.attribute=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.input=l.emptyArray,t.prototype.output=l.emptyArray,t.prototype.name="",t.prototype.opType="",t.prototype.domain="",t.prototype.attribute=l.emptyArray,t.prototype.docString="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.input&&t.input.length)for(var n=0;n<t.input.length;++n)e.uint32(10).string(t.input[n]);if(null!=t.output&&t.output.length)for(n=0;n<t.output.length;++n)e.uint32(18).string(t.output[n]);if(null!=t.name&&t.hasOwnProperty("name")&&e.uint32(26).string(t.name),null!=t.opType&&t.hasOwnProperty("opType")&&e.uint32(34).string(t.opType),null!=t.attribute&&t.attribute.length)for(n=0;n<t.attribute.length;++n)c.onnx.AttributeProto.encode(t.attribute[n],e.uint32(42).fork()).ldelim();return null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(50).string(t.docString),null!=t.domain&&t.hasOwnProperty("domain")&&e.uint32(58).string(t.domain),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new c.onnx.NodeProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.input&&r.input.length||(r.input=[]),r.input.push(t.string());break;case 2:r.output&&r.output.length||(r.output=[]),r.output.push(t.string());break;case 3:r.name=t.string();break;case 4:r.opType=t.string();break;case 7:r.domain=t.string();break;case 5:r.attribute&&r.attribute.length||(r.attribute=[]),r.attribute.push(c.onnx.AttributeProto.decode(t,t.uint32()));break;case 6:r.docString=t.string();break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.input&&t.hasOwnProperty("input")){if(!Array.isArray(t.input))return"input: array expected";for(var e=0;e<t.input.length;++e)if(!l.isString(t.input[e]))return"input: string[] expected"}if(null!=t.output&&t.hasOwnProperty("output")){if(!Array.isArray(t.output))return"output: array expected";for(e=0;e<t.output.length;++e)if(!l.isString(t.output[e]))return"output: string[] expected"}if(null!=t.name&&t.hasOwnProperty("name")&&!l.isString(t.name))return"name: string expected";if(null!=t.opType&&t.hasOwnProperty("opType")&&!l.isString(t.opType))return"opType: string expected";if(null!=t.domain&&t.hasOwnProperty("domain")&&!l.isString(t.domain))return"domain: string expected";if(null!=t.attribute&&t.hasOwnProperty("attribute")){if(!Array.isArray(t.attribute))return"attribute: array expected";for(e=0;e<t.attribute.length;++e){var n=c.onnx.AttributeProto.verify(t.attribute[e]);if(n)return"attribute."+n}}return null!=t.docString&&t.hasOwnProperty("docString")&&!l.isString(t.docString)?"docString: string expected":null},t.fromObject=function(t){if(t instanceof c.onnx.NodeProto)return t;var e=new c.onnx.NodeProto;if(t.input){if(!Array.isArray(t.input))throw TypeError(".onnx.NodeProto.input: array expected");e.input=[];for(var n=0;n<t.input.length;++n)e.input[n]=String(t.input[n])}if(t.output){if(!Array.isArray(t.output))throw TypeError(".onnx.NodeProto.output: array expected");for(e.output=[],n=0;n<t.output.length;++n)e.output[n]=String(t.output[n])}if(null!=t.name&&(e.name=String(t.name)),null!=t.opType&&(e.opType=String(t.opType)),null!=t.domain&&(e.domain=String(t.domain)),t.attribute){if(!Array.isArray(t.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(e.attribute=[],n=0;n<t.attribute.length;++n){if("object"!=typeof t.attribute[n])throw TypeError(".onnx.NodeProto.attribute: object expected");e.attribute[n]=c.onnx.AttributeProto.fromObject(t.attribute[n])}}return null!=t.docString&&(e.docString=String(t.docString)),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.input=[],n.output=[],n.attribute=[]),e.defaults&&(n.name="",n.opType="",n.docString="",n.domain=""),t.input&&t.input.length){n.input=[];for(var r=0;r<t.input.length;++r)n.input[r]=t.input[r]}if(t.output&&t.output.length)for(n.output=[],r=0;r<t.output.length;++r)n.output[r]=t.output[r];if(null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.opType&&t.hasOwnProperty("opType")&&(n.opType=t.opType),t.attribute&&t.attribute.length)for(n.attribute=[],r=0;r<t.attribute.length;++r)n.attribute[r]=c.onnx.AttributeProto.toObject(t.attribute[r],e);return null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),null!=t.domain&&t.hasOwnProperty("domain")&&(n.domain=t.domain),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.ModelProto=function(){function t(t){if(this.opsetImport=[],this.metadataProps=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.irVersion=l.Long?l.Long.fromBits(0,0,!1):0,t.prototype.opsetImport=l.emptyArray,t.prototype.producerName="",t.prototype.producerVersion="",t.prototype.domain="",t.prototype.modelVersion=l.Long?l.Long.fromBits(0,0,!1):0,t.prototype.docString="",t.prototype.graph=null,t.prototype.metadataProps=l.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.irVersion&&t.hasOwnProperty("irVersion")&&e.uint32(8).int64(t.irVersion),null!=t.producerName&&t.hasOwnProperty("producerName")&&e.uint32(18).string(t.producerName),null!=t.producerVersion&&t.hasOwnProperty("producerVersion")&&e.uint32(26).string(t.producerVersion),null!=t.domain&&t.hasOwnProperty("domain")&&e.uint32(34).string(t.domain),null!=t.modelVersion&&t.hasOwnProperty("modelVersion")&&e.uint32(40).int64(t.modelVersion),null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(50).string(t.docString),null!=t.graph&&t.hasOwnProperty("graph")&&c.onnx.GraphProto.encode(t.graph,e.uint32(58).fork()).ldelim(),null!=t.opsetImport&&t.opsetImport.length)for(var n=0;n<t.opsetImport.length;++n)c.onnx.OperatorSetIdProto.encode(t.opsetImport[n],e.uint32(66).fork()).ldelim();if(null!=t.metadataProps&&t.metadataProps.length)for(n=0;n<t.metadataProps.length;++n)c.onnx.StringStringEntryProto.encode(t.metadataProps[n],e.uint32(114).fork()).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new c.onnx.ModelProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.irVersion=t.int64();break;case 8:r.opsetImport&&r.opsetImport.length||(r.opsetImport=[]),r.opsetImport.push(c.onnx.OperatorSetIdProto.decode(t,t.uint32()));break;case 2:r.producerName=t.string();break;case 3:r.producerVersion=t.string();break;case 4:r.domain=t.string();break;case 5:r.modelVersion=t.int64();break;case 6:r.docString=t.string();break;case 7:r.graph=c.onnx.GraphProto.decode(t,t.uint32());break;case 14:r.metadataProps&&r.metadataProps.length||(r.metadataProps=[]),r.metadataProps.push(c.onnx.StringStringEntryProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.irVersion&&t.hasOwnProperty("irVersion")&&!(l.isInteger(t.irVersion)||t.irVersion&&l.isInteger(t.irVersion.low)&&l.isInteger(t.irVersion.high)))return"irVersion: integer|Long expected";if(null!=t.opsetImport&&t.hasOwnProperty("opsetImport")){if(!Array.isArray(t.opsetImport))return"opsetImport: array expected";for(var e=0;e<t.opsetImport.length;++e)if(n=c.onnx.OperatorSetIdProto.verify(t.opsetImport[e]))return"opsetImport."+n}if(null!=t.producerName&&t.hasOwnProperty("producerName")&&!l.isString(t.producerName))return"producerName: string expected";if(null!=t.producerVersion&&t.hasOwnProperty("producerVersion")&&!l.isString(t.producerVersion))return"producerVersion: string expected";if(null!=t.domain&&t.hasOwnProperty("domain")&&!l.isString(t.domain))return"domain: string expected";if(null!=t.modelVersion&&t.hasOwnProperty("modelVersion")&&!(l.isInteger(t.modelVersion)||t.modelVersion&&l.isInteger(t.modelVersion.low)&&l.isInteger(t.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=t.docString&&t.hasOwnProperty("docString")&&!l.isString(t.docString))return"docString: string expected";if(null!=t.graph&&t.hasOwnProperty("graph")&&(n=c.onnx.GraphProto.verify(t.graph)))return"graph."+n;if(null!=t.metadataProps&&t.hasOwnProperty("metadataProps")){if(!Array.isArray(t.metadataProps))return"metadataProps: array expected";for(e=0;e<t.metadataProps.length;++e){var n;if(n=c.onnx.StringStringEntryProto.verify(t.metadataProps[e]))return"metadataProps."+n}}return null},t.fromObject=function(t){if(t instanceof c.onnx.ModelProto)return t;var e=new c.onnx.ModelProto;if(null!=t.irVersion&&(l.Long?(e.irVersion=l.Long.fromValue(t.irVersion)).unsigned=!1:"string"==typeof t.irVersion?e.irVersion=parseInt(t.irVersion,10):"number"==typeof t.irVersion?e.irVersion=t.irVersion:"object"==typeof t.irVersion&&(e.irVersion=new l.LongBits(t.irVersion.low>>>0,t.irVersion.high>>>0).toNumber())),t.opsetImport){if(!Array.isArray(t.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");e.opsetImport=[];for(var n=0;n<t.opsetImport.length;++n){if("object"!=typeof t.opsetImport[n])throw TypeError(".onnx.ModelProto.opsetImport: object expected");e.opsetImport[n]=c.onnx.OperatorSetIdProto.fromObject(t.opsetImport[n])}}if(null!=t.producerName&&(e.producerName=String(t.producerName)),null!=t.producerVersion&&(e.producerVersion=String(t.producerVersion)),null!=t.domain&&(e.domain=String(t.domain)),null!=t.modelVersion&&(l.Long?(e.modelVersion=l.Long.fromValue(t.modelVersion)).unsigned=!1:"string"==typeof t.modelVersion?e.modelVersion=parseInt(t.modelVersion,10):"number"==typeof t.modelVersion?e.modelVersion=t.modelVersion:"object"==typeof t.modelVersion&&(e.modelVersion=new l.LongBits(t.modelVersion.low>>>0,t.modelVersion.high>>>0).toNumber())),null!=t.docString&&(e.docString=String(t.docString)),null!=t.graph){if("object"!=typeof t.graph)throw TypeError(".onnx.ModelProto.graph: object expected");e.graph=c.onnx.GraphProto.fromObject(t.graph)}if(t.metadataProps){if(!Array.isArray(t.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(e.metadataProps=[],n=0;n<t.metadataProps.length;++n){if("object"!=typeof t.metadataProps[n])throw TypeError(".onnx.ModelProto.metadataProps: object expected");e.metadataProps[n]=c.onnx.StringStringEntryProto.fromObject(t.metadataProps[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.opsetImport=[],n.metadataProps=[]),e.defaults){if(l.Long){var r=new l.Long(0,0,!1);n.irVersion=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.irVersion=e.longs===String?"0":0;n.producerName="",n.producerVersion="",n.domain="",l.Long?(r=new l.Long(0,0,!1),n.modelVersion=e.longs===String?r.toString():e.longs===Number?r.toNumber():r):n.modelVersion=e.longs===String?"0":0,n.docString="",n.graph=null}if(null!=t.irVersion&&t.hasOwnProperty("irVersion")&&("number"==typeof t.irVersion?n.irVersion=e.longs===String?String(t.irVersion):t.irVersion:n.irVersion=e.longs===String?l.Long.prototype.toString.call(t.irVersion):e.longs===Number?new l.LongBits(t.irVersion.low>>>0,t.irVersion.high>>>0).toNumber():t.irVersion),null!=t.producerName&&t.hasOwnProperty("producerName")&&(n.producerName=t.producerName),null!=t.producerVersion&&t.hasOwnProperty("producerVersion")&&(n.producerVersion=t.producerVersion),null!=t.domain&&t.hasOwnProperty("domain")&&(n.domain=t.domain),null!=t.modelVersion&&t.hasOwnProperty("modelVersion")&&("number"==typeof t.modelVersion?n.modelVersion=e.longs===String?String(t.modelVersion):t.modelVersion:n.modelVersion=e.longs===String?l.Long.prototype.toString.call(t.modelVersion):e.longs===Number?new l.LongBits(t.modelVersion.low>>>0,t.modelVersion.high>>>0).toNumber():t.modelVersion),null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),null!=t.graph&&t.hasOwnProperty("graph")&&(n.graph=c.onnx.GraphProto.toObject(t.graph,e)),t.opsetImport&&t.opsetImport.length){n.opsetImport=[];for(var o=0;o<t.opsetImport.length;++o)n.opsetImport[o]=c.onnx.OperatorSetIdProto.toObject(t.opsetImport[o],e)}if(t.metadataProps&&t.metadataProps.length)for(n.metadataProps=[],o=0;o<t.metadataProps.length;++o)n.metadataProps[o]=c.onnx.StringStringEntryProto.toObject(t.metadataProps[o],e);return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.StringStringEntryProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.key="",t.prototype.value="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.key&&t.hasOwnProperty("key")&&e.uint32(10).string(t.key),null!=t.value&&t.hasOwnProperty("value")&&e.uint32(18).string(t.value),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new c.onnx.StringStringEntryProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.key=t.string();break;case 2:r.value=t.string();break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){return"object"!=typeof t||null===t?"object expected":null!=t.key&&t.hasOwnProperty("key")&&!l.isString(t.key)?"key: string expected":null!=t.value&&t.hasOwnProperty("value")&&!l.isString(t.value)?"value: string expected":null},t.fromObject=function(t){if(t instanceof c.onnx.StringStringEntryProto)return t;var e=new c.onnx.StringStringEntryProto;return null!=t.key&&(e.key=String(t.key)),null!=t.value&&(e.value=String(t.value)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.key="",n.value=""),null!=t.key&&t.hasOwnProperty("key")&&(n.key=t.key),null!=t.value&&t.hasOwnProperty("value")&&(n.value=t.value),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.TensorAnnotation=function(){function t(t){if(this.quantParameterTensorNames=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tensorName="",t.prototype.quantParameterTensorNames=l.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.tensorName&&t.hasOwnProperty("tensorName")&&e.uint32(10).string(t.tensorName),null!=t.quantParameterTensorNames&&t.quantParameterTensorNames.length)for(var n=0;n<t.quantParameterTensorNames.length;++n)c.onnx.StringStringEntryProto.encode(t.quantParameterTensorNames[n],e.uint32(18).fork()).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new c.onnx.TensorAnnotation;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.tensorName=t.string();break;case 2:r.quantParameterTensorNames&&r.quantParameterTensorNames.length||(r.quantParameterTensorNames=[]),r.quantParameterTensorNames.push(c.onnx.StringStringEntryProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.tensorName&&t.hasOwnProperty("tensorName")&&!l.isString(t.tensorName))return"tensorName: string expected";if(null!=t.quantParameterTensorNames&&t.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(t.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var e=0;e<t.quantParameterTensorNames.length;++e){var n=c.onnx.StringStringEntryProto.verify(t.quantParameterTensorNames[e]);if(n)return"quantParameterTensorNames."+n}}return null},t.fromObject=function(t){if(t instanceof c.onnx.TensorAnnotation)return t;var e=new c.onnx.TensorAnnotation;if(null!=t.tensorName&&(e.tensorName=String(t.tensorName)),t.quantParameterTensorNames){if(!Array.isArray(t.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");e.quantParameterTensorNames=[];for(var n=0;n<t.quantParameterTensorNames.length;++n){if("object"!=typeof t.quantParameterTensorNames[n])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");e.quantParameterTensorNames[n]=c.onnx.StringStringEntryProto.fromObject(t.quantParameterTensorNames[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.quantParameterTensorNames=[]),e.defaults&&(n.tensorName=""),null!=t.tensorName&&t.hasOwnProperty("tensorName")&&(n.tensorName=t.tensorName),t.quantParameterTensorNames&&t.quantParameterTensorNames.length){n.quantParameterTensorNames=[];for(var r=0;r<t.quantParameterTensorNames.length;++r)n.quantParameterTensorNames[r]=c.onnx.StringStringEntryProto.toObject(t.quantParameterTensorNames[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.GraphProto=function(){function t(t){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.node=l.emptyArray,t.prototype.name="",t.prototype.initializer=l.emptyArray,t.prototype.docString="",t.prototype.input=l.emptyArray,t.prototype.output=l.emptyArray,t.prototype.valueInfo=l.emptyArray,t.prototype.quantizationAnnotation=l.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.node&&t.node.length)for(var n=0;n<t.node.length;++n)c.onnx.NodeProto.encode(t.node[n],e.uint32(10).fork()).ldelim();if(null!=t.name&&t.hasOwnProperty("name")&&e.uint32(18).string(t.name),null!=t.initializer&&t.initializer.length)for(n=0;n<t.initializer.length;++n)c.onnx.TensorProto.encode(t.initializer[n],e.uint32(42).fork()).ldelim();if(null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(82).string(t.docString),null!=t.input&&t.input.length)for(n=0;n<t.input.length;++n)c.onnx.ValueInfoProto.encode(t.input[n],e.uint32(90).fork()).ldelim();if(null!=t.output&&t.output.length)for(n=0;n<t.output.length;++n)c.onnx.ValueInfoProto.encode(t.output[n],e.uint32(98).fork()).ldelim();if(null!=t.valueInfo&&t.valueInfo.length)for(n=0;n<t.valueInfo.length;++n)c.onnx.ValueInfoProto.encode(t.valueInfo[n],e.uint32(106).fork()).ldelim();if(null!=t.quantizationAnnotation&&t.quantizationAnnotation.length)for(n=0;n<t.quantizationAnnotation.length;++n)c.onnx.TensorAnnotation.encode(t.quantizationAnnotation[n],e.uint32(114).fork()).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new c.onnx.GraphProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.node&&r.node.length||(r.node=[]),r.node.push(c.onnx.NodeProto.decode(t,t.uint32()));break;case 2:r.name=t.string();break;case 5:r.initializer&&r.initializer.length||(r.initializer=[]),r.initializer.push(c.onnx.TensorProto.decode(t,t.uint32()));break;case 10:r.docString=t.string();break;case 11:r.input&&r.input.length||(r.input=[]),r.input.push(c.onnx.ValueInfoProto.decode(t,t.uint32()));break;case 12:r.output&&r.output.length||(r.output=[]),r.output.push(c.onnx.ValueInfoProto.decode(t,t.uint32()));break;case 13:r.valueInfo&&r.valueInfo.length||(r.valueInfo=[]),r.valueInfo.push(c.onnx.ValueInfoProto.decode(t,t.uint32()));break;case 14:r.quantizationAnnotation&&r.quantizationAnnotation.length||(r.quantizationAnnotation=[]),r.quantizationAnnotation.push(c.onnx.TensorAnnotation.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.node&&t.hasOwnProperty("node")){if(!Array.isArray(t.node))return"node: array expected";for(var e=0;e<t.node.length;++e)if(n=c.onnx.NodeProto.verify(t.node[e]))return"node."+n}if(null!=t.name&&t.hasOwnProperty("name")&&!l.isString(t.name))return"name: string expected";if(null!=t.initializer&&t.hasOwnProperty("initializer")){if(!Array.isArray(t.initializer))return"initializer: array expected";for(e=0;e<t.initializer.length;++e)if(n=c.onnx.TensorProto.verify(t.initializer[e]))return"initializer."+n}if(null!=t.docString&&t.hasOwnProperty("docString")&&!l.isString(t.docString))return"docString: string expected";if(null!=t.input&&t.hasOwnProperty("input")){if(!Array.isArray(t.input))return"input: array expected";for(e=0;e<t.input.length;++e)if(n=c.onnx.ValueInfoProto.verify(t.input[e]))return"input."+n}if(null!=t.output&&t.hasOwnProperty("output")){if(!Array.isArray(t.output))return"output: array expected";for(e=0;e<t.output.length;++e)if(n=c.onnx.ValueInfoProto.verify(t.output[e]))return"output."+n}if(null!=t.valueInfo&&t.hasOwnProperty("valueInfo")){if(!Array.isArray(t.valueInfo))return"valueInfo: array expected";for(e=0;e<t.valueInfo.length;++e)if(n=c.onnx.ValueInfoProto.verify(t.valueInfo[e]))return"valueInfo."+n}if(null!=t.quantizationAnnotation&&t.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(t.quantizationAnnotation))return"quantizationAnnotation: array expected";for(e=0;e<t.quantizationAnnotation.length;++e){var n;if(n=c.onnx.TensorAnnotation.verify(t.quantizationAnnotation[e]))return"quantizationAnnotation."+n}}return null},t.fromObject=function(t){if(t instanceof c.onnx.GraphProto)return t;var e=new c.onnx.GraphProto;if(t.node){if(!Array.isArray(t.node))throw TypeError(".onnx.GraphProto.node: array expected");e.node=[];for(var n=0;n<t.node.length;++n){if("object"!=typeof t.node[n])throw TypeError(".onnx.GraphProto.node: object expected");e.node[n]=c.onnx.NodeProto.fromObject(t.node[n])}}if(null!=t.name&&(e.name=String(t.name)),t.initializer){if(!Array.isArray(t.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(e.initializer=[],n=0;n<t.initializer.length;++n){if("object"!=typeof t.initializer[n])throw TypeError(".onnx.GraphProto.initializer: object expected");e.initializer[n]=c.onnx.TensorProto.fromObject(t.initializer[n])}}if(null!=t.docString&&(e.docString=String(t.docString)),t.input){if(!Array.isArray(t.input))throw TypeError(".onnx.GraphProto.input: array expected");for(e.input=[],n=0;n<t.input.length;++n){if("object"!=typeof t.input[n])throw TypeError(".onnx.GraphProto.input: object expected");e.input[n]=c.onnx.ValueInfoProto.fromObject(t.input[n])}}if(t.output){if(!Array.isArray(t.output))throw TypeError(".onnx.GraphProto.output: array expected");for(e.output=[],n=0;n<t.output.length;++n){if("object"!=typeof t.output[n])throw TypeError(".onnx.GraphProto.output: object expected");e.output[n]=c.onnx.ValueInfoProto.fromObject(t.output[n])}}if(t.valueInfo){if(!Array.isArray(t.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(e.valueInfo=[],n=0;n<t.valueInfo.length;++n){if("object"!=typeof t.valueInfo[n])throw TypeError(".onnx.GraphProto.valueInfo: object expected");e.valueInfo[n]=c.onnx.ValueInfoProto.fromObject(t.valueInfo[n])}}if(t.quantizationAnnotation){if(!Array.isArray(t.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(e.quantizationAnnotation=[],n=0;n<t.quantizationAnnotation.length;++n){if("object"!=typeof t.quantizationAnnotation[n])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");e.quantizationAnnotation[n]=c.onnx.TensorAnnotation.fromObject(t.quantizationAnnotation[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.node=[],n.initializer=[],n.input=[],n.output=[],n.valueInfo=[],n.quantizationAnnotation=[]),e.defaults&&(n.name="",n.docString=""),t.node&&t.node.length){n.node=[];for(var r=0;r<t.node.length;++r)n.node[r]=c.onnx.NodeProto.toObject(t.node[r],e)}if(null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),t.initializer&&t.initializer.length)for(n.initializer=[],r=0;r<t.initializer.length;++r)n.initializer[r]=c.onnx.TensorProto.toObject(t.initializer[r],e);if(null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),t.input&&t.input.length)for(n.input=[],r=0;r<t.input.length;++r)n.input[r]=c.onnx.ValueInfoProto.toObject(t.input[r],e);if(t.output&&t.output.length)for(n.output=[],r=0;r<t.output.length;++r)n.output[r]=c.onnx.ValueInfoProto.toObject(t.output[r],e);if(t.valueInfo&&t.valueInfo.length)for(n.valueInfo=[],r=0;r<t.valueInfo.length;++r)n.valueInfo[r]=c.onnx.ValueInfoProto.toObject(t.valueInfo[r],e);if(t.quantizationAnnotation&&t.quantizationAnnotation.length)for(n.quantizationAnnotation=[],r=0;r<t.quantizationAnnotation.length;++r)n.quantizationAnnotation[r]=c.onnx.TensorAnnotation.toObject(t.quantizationAnnotation[r],e);return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i.TensorProto=function(){function t(t){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.dims=l.emptyArray,t.prototype.dataType=0,t.prototype.segment=null,t.prototype.floatData=l.emptyArray,t.prototype.int32Data=l.emptyArray,t.prototype.stringData=l.emptyArray,t.prototype.int64Data=l.emptyArray,t.prototype.name="",t.prototype.docString="",t.prototype.rawData=l.newBuffer([]),t.prototype.externalData=l.emptyArray,t.prototype.dataLocation=0,t.prototype.doubleData=l.emptyArray,t.prototype.uint64Data=l.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.dims&&t.dims.length){e.uint32(10).fork();for(var n=0;n<t.dims.length;++n)e.int64(t.dims[n]);e.ldelim()}if(null!=t.dataType&&t.hasOwnProperty("dataType")&&e.uint32(16).int32(t.dataType),null!=t.segment&&t.hasOwnProperty("segment")&&c.onnx.TensorProto.Segment.encode(t.segment,e.uint32(26).fork()).ldelim(),null!=t.floatData&&t.floatData.length){for(e.uint32(34).fork(),n=0;n<t.floatData.length;++n)e.float(t.floatData[n]);e.ldelim()}if(null!=t.int32Data&&t.int32Data.length){for(e.uint32(42).fork(),n=0;n<t.int32Data.length;++n)e.int32(t.int32Data[n]);e.ldelim()}if(null!=t.stringData&&t.stringData.length)for(n=0;n<t.stringData.length;++n)e.uint32(50).bytes(t.stringData[n]);if(null!=t.int64Data&&t.int64Data.length){for(e.uint32(58).fork(),n=0;n<t.int64Data.length;++n)e.int64(t.int64Data[n]);e.ldelim()}if(null!=t.name&&t.hasOwnProperty("name")&&e.uint32(66).string(t.name),null!=t.rawData&&t.hasOwnProperty("rawData")&&e.uint32(74).bytes(t.rawData),null!=t.doubleData&&t.doubleData.length){for(e.uint32(82).fork(),n=0;n<t.doubleData.length;++n)e.double(t.doubleData[n]);e.ldelim()}if(null!=t.uint64Data&&t.uint64Data.length){for(e.uint32(90).fork(),n=0;n<t.uint64Data.length;++n)e.uint64(t.uint64Data[n]);e.ldelim()}if(null!=t.docString&&t.hasOwnProperty("docString")&&e.uint32(98).string(t.docString),null!=t.externalData&&t.externalData.length)for(n=0;n<t.externalData.length;++n)c.onnx.StringStringEntryProto.encode(t.externalData[n],e.uint32(106).fork()).ldelim();return null!=t.dataLocation&&t.hasOwnProperty("dataLocation")&&e.uint32(112).int32(t.dataLocation),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new c.onnx.TensorProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(r.dims&&r.dims.length||(r.dims=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.dims.push(t.int64());else r.dims.push(t.int64());break;case 2:r.dataType=t.int32();break;case 3:r.segment=c.onnx.TensorProto.Segment.decode(t,t.uint32());break;case 4:if(r.floatData&&r.floatData.length||(r.floatData=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.floatData.push(t.float());else r.floatData.push(t.float());break;case 5:if(r.int32Data&&r.int32Data.length||(r.int32Data=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.int32Data.push(t.int32());else r.int32Data.push(t.int32());break;case 6:r.stringData&&r.stringData.length||(r.stringData=[]),r.stringData.push(t.bytes());break;case 7:if(r.int64Data&&r.int64Data.length||(r.int64Data=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.int64Data.push(t.int64());else r.int64Data.push(t.int64());break;case 8:r.name=t.string();break;case 12:r.docString=t.string();break;case 9:r.rawData=t.bytes();break;case 13:r.externalData&&r.externalData.length||(r.externalData=[]),r.externalData.push(c.onnx.StringStringEntryProto.decode(t,t.uint32()));break;case 14:r.dataLocation=t.int32();break;case 10:if(r.doubleData&&r.doubleData.length||(r.doubleData=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.doubleData.push(t.double());else r.doubleData.push(t.double());break;case 11:if(r.uint64Data&&r.uint64Data.length||(r.uint64Data=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.uint64Data.push(t.uint64());else r.uint64Data.push(t.uint64());break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.dims&&t.hasOwnProperty("dims")){if(!Array.isArray(t.dims))return"dims: array expected";for(var e=0;e<t.dims.length;++e)if(!(l.isInteger(t.dims[e])||t.dims[e]&&l.isInteger(t.dims[e].low)&&l.isInteger(t.dims[e].high)))return"dims: integer|Long[] expected"}if(null!=t.dataType&&t.hasOwnProperty("dataType")&&!l.isInteger(t.dataType))return"dataType: integer expected";if(null!=t.segment&&t.hasOwnProperty("segment")&&(n=c.onnx.TensorProto.Segment.verify(t.segment)))return"segment."+n;if(null!=t.floatData&&t.hasOwnProperty("floatData")){if(!Array.isArray(t.floatData))return"floatData: array expected";for(e=0;e<t.floatData.length;++e)if("number"!=typeof t.floatData[e])return"floatData: number[] expected"}if(null!=t.int32Data&&t.hasOwnProperty("int32Data")){if(!Array.isArray(t.int32Data))return"int32Data: array expected";for(e=0;e<t.int32Data.length;++e)if(!l.isInteger(t.int32Data[e]))return"int32Data: integer[] expected"}if(null!=t.stringData&&t.hasOwnProperty("stringData")){if(!Array.isArray(t.stringData))return"stringData: array expected";for(e=0;e<t.stringData.length;++e)if(!(t.stringData[e]&&"number"==typeof t.stringData[e].length||l.isString(t.stringData[e])))return"stringData: buffer[] expected"}if(null!=t.int64Data&&t.hasOwnProperty("int64Data")){if(!Array.isArray(t.int64Data))return"int64Data: array expected";for(e=0;e<t.int64Data.length;++e)if(!(l.isInteger(t.int64Data[e])||t.int64Data[e]&&l.isInteger(t.int64Data[e].low)&&l.isInteger(t.int64Data[e].high)))return"int64Data: integer|Long[] expected"}if(null!=t.name&&t.hasOwnProperty("name")&&!l.isString(t.name))return"name: string expected";if(null!=t.docString&&t.hasOwnProperty("docString")&&!l.isString(t.docString))return"docString: string expected";if(null!=t.rawData&&t.hasOwnProperty("rawData")&&!(t.rawData&&"number"==typeof t.rawData.length||l.isString(t.rawData)))return"rawData: buffer expected";if(null!=t.externalData&&t.hasOwnProperty("externalData")){if(!Array.isArray(t.externalData))return"externalData: array expected";for(e=0;e<t.externalData.length;++e){var n;if(n=c.onnx.StringStringEntryProto.verify(t.externalData[e]))return"externalData."+n}}if(null!=t.dataLocation&&t.hasOwnProperty("dataLocation"))switch(t.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=t.doubleData&&t.hasOwnProperty("doubleData")){if(!Array.isArray(t.doubleData))return"doubleData: array expected";for(e=0;e<t.doubleData.length;++e)if("number"!=typeof t.doubleData[e])return"doubleData: number[] expected"}if(null!=t.uint64Data&&t.hasOwnProperty("uint64Data")){if(!Array.isArray(t.uint64Data))return"uint64Data: array expected";for(e=0;e<t.uint64Data.length;++e)if(!(l.isInteger(t.uint64Data[e])||t.uint64Data[e]&&l.isInteger(t.uint64Data[e].low)&&l.isInteger(t.uint64Data[e].high)))return"uint64Data: integer|Long[] expected"}return null},t.fromObject=function(t){if(t instanceof c.onnx.TensorProto)return t;var e=new c.onnx.TensorProto;if(t.dims){if(!Array.isArray(t.dims))throw TypeError(".onnx.TensorProto.dims: array expected");e.dims=[];for(var n=0;n<t.dims.length;++n)l.Long?(e.dims[n]=l.Long.fromValue(t.dims[n])).unsigned=!1:"string"==typeof t.dims[n]?e.dims[n]=parseInt(t.dims[n],10):"number"==typeof t.dims[n]?e.dims[n]=t.dims[n]:"object"==typeof t.dims[n]&&(e.dims[n]=new l.LongBits(t.dims[n].low>>>0,t.dims[n].high>>>0).toNumber())}if(null!=t.dataType&&(e.dataType=0|t.dataType),null!=t.segment){if("object"!=typeof t.segment)throw TypeError(".onnx.TensorProto.segment: object expected");e.segment=c.onnx.TensorProto.Segment.fromObject(t.segment)}if(t.floatData){if(!Array.isArray(t.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(e.floatData=[],n=0;n<t.floatData.length;++n)e.floatData[n]=Number(t.floatData[n])}if(t.int32Data){if(!Array.isArray(t.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(e.int32Data=[],n=0;n<t.int32Data.length;++n)e.int32Data[n]=0|t.int32Data[n]}if(t.stringData){if(!Array.isArray(t.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(e.stringData=[],n=0;n<t.stringData.length;++n)"string"==typeof t.stringData[n]?l.base64.decode(t.stringData[n],e.stringData[n]=l.newBuffer(l.base64.length(t.stringData[n])),0):t.stringData[n].length&&(e.stringData[n]=t.stringData[n])}if(t.int64Data){if(!Array.isArray(t.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(e.int64Data=[],n=0;n<t.int64Data.length;++n)l.Long?(e.int64Data[n]=l.Long.fromValue(t.int64Data[n])).unsigned=!1:"string"==typeof t.int64Data[n]?e.int64Data[n]=parseInt(t.int64Data[n],10):"number"==typeof t.int64Data[n]?e.int64Data[n]=t.int64Data[n]:"object"==typeof t.int64Data[n]&&(e.int64Data[n]=new l.LongBits(t.int64Data[n].low>>>0,t.int64Data[n].high>>>0).toNumber())}if(null!=t.name&&(e.name=String(t.name)),null!=t.docString&&(e.docString=String(t.docString)),null!=t.rawData&&("string"==typeof t.rawData?l.base64.decode(t.rawData,e.rawData=l.newBuffer(l.base64.length(t.rawData)),0):t.rawData.length&&(e.rawData=t.rawData)),t.externalData){if(!Array.isArray(t.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(e.externalData=[],n=0;n<t.externalData.length;++n){if("object"!=typeof t.externalData[n])throw TypeError(".onnx.TensorProto.externalData: object expected");e.externalData[n]=c.onnx.StringStringEntryProto.fromObject(t.externalData[n])}}switch(t.dataLocation){case"DEFAULT":case 0:e.dataLocation=0;break;case"EXTERNAL":case 1:e.dataLocation=1}if(t.doubleData){if(!Array.isArray(t.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(e.doubleData=[],n=0;n<t.doubleData.length;++n)e.doubleData[n]=Number(t.doubleData[n])}if(t.uint64Data){if(!Array.isArray(t.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(e.uint64Data=[],n=0;n<t.uint64Data.length;++n)l.Long?(e.uint64Data[n]=l.Long.fromValue(t.uint64Data[n])).unsigned=!0:"string"==typeof t.uint64Data[n]?e.uint64Data[n]=parseInt(t.uint64Data[n],10):"number"==typeof t.uint64Data[n]?e.uint64Data[n]=t.uint64Data[n]:"object"==typeof t.uint64Data[n]&&(e.uint64Data[n]=new l.LongBits(t.uint64Data[n].low>>>0,t.uint64Data[n].high>>>0).toNumber(!0))}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.dims=[],n.floatData=[],n.int32Data=[],n.stringData=[],n.int64Data=[],n.doubleData=[],n.uint64Data=[],n.externalData=[]),e.defaults&&(n.dataType=0,n.segment=null,n.name="",e.bytes===String?n.rawData="":(n.rawData=[],e.bytes!==Array&&(n.rawData=l.newBuffer(n.rawData))),n.docString="",n.dataLocation=e.enums===String?"DEFAULT":0),t.dims&&t.dims.length){n.dims=[];for(var r=0;r<t.dims.length;++r)"number"==typeof t.dims[r]?n.dims[r]=e.longs===String?String(t.dims[r]):t.dims[r]:n.dims[r]=e.longs===String?l.Long.prototype.toString.call(t.dims[r]):e.longs===Number?new l.LongBits(t.dims[r].low>>>0,t.dims[r].high>>>0).toNumber():t.dims[r]}if(null!=t.dataType&&t.hasOwnProperty("dataType")&&(n.dataType=t.dataType),null!=t.segment&&t.hasOwnProperty("segment")&&(n.segment=c.onnx.TensorProto.Segment.toObject(t.segment,e)),t.floatData&&t.floatData.length)for(n.floatData=[],r=0;r<t.floatData.length;++r)n.floatData[r]=e.json&&!isFinite(t.floatData[r])?String(t.floatData[r]):t.floatData[r];if(t.int32Data&&t.int32Data.length)for(n.int32Data=[],r=0;r<t.int32Data.length;++r)n.int32Data[r]=t.int32Data[r];if(t.stringData&&t.stringData.length)for(n.stringData=[],r=0;r<t.stringData.length;++r)n.stringData[r]=e.bytes===String?l.base64.encode(t.stringData[r],0,t.stringData[r].length):e.bytes===Array?Array.prototype.slice.call(t.stringData[r]):t.stringData[r];if(t.int64Data&&t.int64Data.length)for(n.int64Data=[],r=0;r<t.int64Data.length;++r)"number"==typeof t.int64Data[r]?n.int64Data[r]=e.longs===String?String(t.int64Data[r]):t.int64Data[r]:n.int64Data[r]=e.longs===String?l.Long.prototype.toString.call(t.int64Data[r]):e.longs===Number?new l.LongBits(t.int64Data[r].low>>>0,t.int64Data[r].high>>>0).toNumber():t.int64Data[r];if(null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.rawData&&t.hasOwnProperty("rawData")&&(n.rawData=e.bytes===String?l.base64.encode(t.rawData,0,t.rawData.length):e.bytes===Array?Array.prototype.slice.call(t.rawData):t.rawData),t.doubleData&&t.doubleData.length)for(n.doubleData=[],r=0;r<t.doubleData.length;++r)n.doubleData[r]=e.json&&!isFinite(t.doubleData[r])?String(t.doubleData[r]):t.doubleData[r];if(t.uint64Data&&t.uint64Data.length)for(n.uint64Data=[],r=0;r<t.uint64Data.length;++r)"number"==typeof t.uint64Data[r]?n.uint64Data[r]=e.longs===String?String(t.uint64Data[r]):t.uint64Data[r]:n.uint64Data[r]=e.longs===String?l.Long.prototype.toString.call(t.uint64Data[r]):e.longs===Number?new l.LongBits(t.uint64Data[r].low>>>0,t.uint64Data[r].high>>>0).toNumber(!0):t.uint64Data[r];if(null!=t.docString&&t.hasOwnProperty("docString")&&(n.docString=t.docString),t.externalData&&t.externalData.length)for(n.externalData=[],r=0;r<t.externalData.length;++r)n.externalData[r]=c.onnx.StringStringEntryProto.toObject(t.externalData[r],e);return null!=t.dataLocation&&t.hasOwnProperty("dataLocation")&&(n.dataLocation=e.enums===String?c.onnx.TensorProto.DataLocation[t.dataLocation]:t.dataLocation),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t.DataType=function(){var t={},e=Object.create(t);return e[t[0]="UNDEFINED"]=0,e[t[1]="FLOAT"]=1,e[t[2]="UINT8"]=2,e[t[3]="INT8"]=3,e[t[4]="UINT16"]=4,e[t[5]="INT16"]=5,e[t[6]="INT32"]=6,e[t[7]="INT64"]=7,e[t[8]="STRING"]=8,e[t[9]="BOOL"]=9,e[t[10]="FLOAT16"]=10,e[t[11]="DOUBLE"]=11,e[t[12]="UINT32"]=12,e[t[13]="UINT64"]=13,e[t[14]="COMPLEX64"]=14,e[t[15]="COMPLEX128"]=15,e[t[16]="BFLOAT16"]=16,e}(),t.Segment=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.begin=l.Long?l.Long.fromBits(0,0,!1):0,t.prototype.end=l.Long?l.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.begin&&t.hasOwnProperty("begin")&&e.uint32(8).int64(t.begin),null!=t.end&&t.hasOwnProperty("end")&&e.uint32(16).int64(t.end),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new c.onnx.TensorProto.Segment;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.begin=t.int64();break;case 2:r.end=t.int64();break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){return"object"!=typeof t||null===t?"object expected":null!=t.begin&&t.hasOwnProperty("begin")&&!(l.isInteger(t.begin)||t.begin&&l.isInteger(t.begin.low)&&l.isInteger(t.begin.high))?"begin: integer|Long expected":null!=t.end&&t.hasOwnProperty("end")&&!(l.isInteger(t.end)||t.end&&l.isInteger(t.end.low)&&l.isInteger(t.end.high))?"end: integer|Long expected":null},t.fromObject=function(t){if(t instanceof c.onnx.TensorProto.Segment)return t;var e=new c.onnx.TensorProto.Segment;return null!=t.begin&&(l.Long?(e.begin=l.Long.fromValue(t.begin)).unsigned=!1:"string"==typeof t.begin?e.begin=parseInt(t.begin,10):"number"==typeof t.begin?e.begin=t.begin:"object"==typeof t.begin&&(e.begin=new l.LongBits(t.begin.low>>>0,t.begin.high>>>0).toNumber())),null!=t.end&&(l.Long?(e.end=l.Long.fromValue(t.end)).unsigned=!1:"string"==typeof t.end?e.end=parseInt(t.end,10):"number"==typeof t.end?e.end=t.end:"object"==typeof t.end&&(e.end=new l.LongBits(t.end.low>>>0,t.end.high>>>0).toNumber())),e},t.toObject=function(t,e){e||(e={});var n={};if(e.defaults){if(l.Long){var r=new l.Long(0,0,!1);n.begin=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.begin=e.longs===String?"0":0;l.Long?(r=new l.Long(0,0,!1),n.end=e.longs===String?r.toString():e.longs===Number?r.toNumber():r):n.end=e.longs===String?"0":0}return null!=t.begin&&t.hasOwnProperty("begin")&&("number"==typeof t.begin?n.begin=e.longs===String?String(t.begin):t.begin:n.begin=e.longs===String?l.Long.prototype.toString.call(t.begin):e.longs===Number?new l.LongBits(t.begin.low>>>0,t.begin.high>>>0).toNumber():t.begin),null!=t.end&&t.hasOwnProperty("end")&&("number"==typeof t.end?n.end=e.longs===String?String(t.end):t.end:n.end=e.longs===String?l.Long.prototype.toString.call(t.end):e.longs===Number?new l.LongBits(t.end.low>>>0,t.end.high>>>0).toNumber():t.end),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),t.DataLocation=function(){var t={},e=Object.create(t);return e[t[0]="DEFAULT"]=0,e[t[1]="EXTERNAL"]=1,e}(),t}(),i.TensorShapeProto=function(){function t(t){if(this.dim=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.dim=l.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.dim&&t.dim.length)for(var n=0;n<t.dim.length;++n)c.onnx.TensorShapeProto.Dimension.encode(t.dim[n],e.uint32(10).fork()).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new c.onnx.TensorShapeProto;t.pos<n;){var o=t.uint32();o>>>3==1?(r.dim&&r.dim.length||(r.dim=[]),r.dim.push(c.onnx.TensorShapeProto.Dimension.decode(t,t.uint32()))):t.skipType(7&o)}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.dim&&t.hasOwnProperty("dim")){if(!Array.isArray(t.dim))return"dim: array expected";for(var e=0;e<t.dim.length;++e){var n=c.onnx.TensorShapeProto.Dimension.verify(t.dim[e]);if(n)return"dim."+n}}return null},t.fromObject=function(t){if(t instanceof c.onnx.TensorShapeProto)return t;var e=new c.onnx.TensorShapeProto;if(t.dim){if(!Array.isArray(t.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");e.dim=[];for(var n=0;n<t.dim.length;++n){if("object"!=typeof t.dim[n])throw TypeError(".onnx.TensorShapeProto.dim: object expected");e.dim[n]=c.onnx.TensorShapeProto.Dimension.fromObject(t.dim[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.dim=[]),t.dim&&t.dim.length){n.dim=[];for(var r=0;r<t.dim.length;++r)n.dim[r]=c.onnx.TensorShapeProto.Dimension.toObject(t.dim[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t.Dimension=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e;return t.prototype.dimValue=l.Long?l.Long.fromBits(0,0,!1):0,t.prototype.dimParam="",t.prototype.denotation="",Object.defineProperty(t.prototype,"value",{get:l.oneOfGetter(e=["dimValue","dimParam"]),set:l.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.dimValue&&t.hasOwnProperty("dimValue")&&e.uint32(8).int64(t.dimValue),null!=t.dimParam&&t.hasOwnProperty("dimParam")&&e.uint32(18).string(t.dimParam),null!=t.denotation&&t.hasOwnProperty("denotation")&&e.uint32(26).string(t.denotation),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new c.onnx.TensorShapeProto.Dimension;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.dimValue=t.int64();break;case 2:r.dimParam=t.string();break;case 3:r.denotation=t.string();break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";var e={};if(null!=t.dimValue&&t.hasOwnProperty("dimValue")&&(e.value=1,!(l.isInteger(t.dimValue)||t.dimValue&&l.isInteger(t.dimValue.low)&&l.isInteger(t.dimValue.high))))return"dimValue: integer|Long expected";if(null!=t.dimParam&&t.hasOwnProperty("dimParam")){if(1===e.value)return"value: multiple values";if(e.value=1,!l.isString(t.dimParam))return"dimParam: string expected"}return null!=t.denotation&&t.hasOwnProperty("denotation")&&!l.isString(t.denotation)?"denotation: string expected":null},t.fromObject=function(t){if(t instanceof c.onnx.TensorShapeProto.Dimension)return t;var e=new c.onnx.TensorShapeProto.Dimension;return null!=t.dimValue&&(l.Long?(e.dimValue=l.Long.fromValue(t.dimValue)).unsigned=!1:"string"==typeof t.dimValue?e.dimValue=parseInt(t.dimValue,10):"number"==typeof t.dimValue?e.dimValue=t.dimValue:"object"==typeof t.dimValue&&(e.dimValue=new l.LongBits(t.dimValue.low>>>0,t.dimValue.high>>>0).toNumber())),null!=t.dimParam&&(e.dimParam=String(t.dimParam)),null!=t.denotation&&(e.denotation=String(t.denotation)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.denotation=""),null!=t.dimValue&&t.hasOwnProperty("dimValue")&&("number"==typeof t.dimValue?n.dimValue=e.longs===String?String(t.dimValue):t.dimValue:n.dimValue=e.longs===String?l.Long.prototype.toString.call(t.dimValue):e.longs===Number?new l.LongBits(t.dimValue.low>>>0,t.dimValue.high>>>0).toNumber():t.dimValue,e.oneofs&&(n.value="dimValue")),null!=t.dimParam&&t.hasOwnProperty("dimParam")&&(n.dimParam=t.dimParam,e.oneofs&&(n.value="dimParam")),null!=t.denotation&&t.hasOwnProperty("denotation")&&(n.denotation=t.denotation),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),t}(),i.TypeProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e;return t.prototype.tensorType=null,t.prototype.denotation="",Object.defineProperty(t.prototype,"value",{get:l.oneOfGetter(e=["tensorType"]),set:l.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.tensorType&&t.hasOwnProperty("tensorType")&&c.onnx.TypeProto.Tensor.encode(t.tensorType,e.uint32(10).fork()).ldelim(),null!=t.denotation&&t.hasOwnProperty("denotation")&&e.uint32(50).string(t.denotation),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new c.onnx.TypeProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.tensorType=c.onnx.TypeProto.Tensor.decode(t,t.uint32());break;case 6:r.denotation=t.string();break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.tensorType&&t.hasOwnProperty("tensorType")){var e=c.onnx.TypeProto.Tensor.verify(t.tensorType);if(e)return"tensorType."+e}return null!=t.denotation&&t.hasOwnProperty("denotation")&&!l.isString(t.denotation)?"denotation: string expected":null},t.fromObject=function(t){if(t instanceof c.onnx.TypeProto)return t;var e=new c.onnx.TypeProto;if(null!=t.tensorType){if("object"!=typeof t.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");e.tensorType=c.onnx.TypeProto.Tensor.fromObject(t.tensorType)}return null!=t.denotation&&(e.denotation=String(t.denotation)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.denotation=""),null!=t.tensorType&&t.hasOwnProperty("tensorType")&&(n.tensorType=c.onnx.TypeProto.Tensor.toObject(t.tensorType,e),e.oneofs&&(n.value="tensorType")),null!=t.denotation&&t.hasOwnProperty("denotation")&&(n.denotation=t.denotation),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t.Tensor=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.elemType=0,t.prototype.shape=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.elemType&&t.hasOwnProperty("elemType")&&e.uint32(8).int32(t.elemType),null!=t.shape&&t.hasOwnProperty("shape")&&c.onnx.TensorShapeProto.encode(t.shape,e.uint32(18).fork()).ldelim(),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new c.onnx.TypeProto.Tensor;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.elemType=t.int32();break;case 2:r.shape=c.onnx.TensorShapeProto.decode(t,t.uint32());break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.elemType&&t.hasOwnProperty("elemType")&&!l.isInteger(t.elemType))return"elemType: integer expected";if(null!=t.shape&&t.hasOwnProperty("shape")){var e=c.onnx.TensorShapeProto.verify(t.shape);if(e)return"shape."+e}return null},t.fromObject=function(t){if(t instanceof c.onnx.TypeProto.Tensor)return t;var e=new c.onnx.TypeProto.Tensor;if(null!=t.elemType&&(e.elemType=0|t.elemType),null!=t.shape){if("object"!=typeof t.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");e.shape=c.onnx.TensorShapeProto.fromObject(t.shape)}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.elemType=0,n.shape=null),null!=t.elemType&&t.hasOwnProperty("elemType")&&(n.elemType=t.elemType),null!=t.shape&&t.hasOwnProperty("shape")&&(n.shape=c.onnx.TensorShapeProto.toObject(t.shape,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),t}(),i.OperatorSetIdProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.domain="",t.prototype.version=l.Long?l.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.domain&&t.hasOwnProperty("domain")&&e.uint32(10).string(t.domain),null!=t.version&&t.hasOwnProperty("version")&&e.uint32(16).int64(t.version),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof s||(t=s.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new c.onnx.OperatorSetIdProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.domain=t.string();break;case 2:r.version=t.int64();break;default:t.skipType(7&o)}}return r},t.decodeDelimited=function(t){return t instanceof s||(t=new s(t)),this.decode(t,t.uint32())},t.verify=function(t){return"object"!=typeof t||null===t?"object expected":null!=t.domain&&t.hasOwnProperty("domain")&&!l.isString(t.domain)?"domain: string expected":null!=t.version&&t.hasOwnProperty("version")&&!(l.isInteger(t.version)||t.version&&l.isInteger(t.version.low)&&l.isInteger(t.version.high))?"version: integer|Long expected":null},t.fromObject=function(t){if(t instanceof c.onnx.OperatorSetIdProto)return t;var e=new c.onnx.OperatorSetIdProto;return null!=t.domain&&(e.domain=String(t.domain)),null!=t.version&&(l.Long?(e.version=l.Long.fromValue(t.version)).unsigned=!1:"string"==typeof t.version?e.version=parseInt(t.version,10):"number"==typeof t.version?e.version=t.version:"object"==typeof t.version&&(e.version=new l.LongBits(t.version.low>>>0,t.version.high>>>0).toNumber())),e},t.toObject=function(t,e){e||(e={});var n={};if(e.defaults)if(n.domain="",l.Long){var r=new l.Long(0,0,!1);n.version=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.version=e.longs===String?"0":0;return null!=t.domain&&t.hasOwnProperty("domain")&&(n.domain=t.domain),null!=t.version&&t.hasOwnProperty("version")&&("number"==typeof t.version?n.version=e.longs===String?String(t.version):t.version:n.version=e.longs===String?l.Long.prototype.toString.call(t.version):e.longs===Number?new l.LongBits(t.version.low>>>0,t.version.high>>>0).toNumber():t.version),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,a.util.toJSONOptions)},t}(),i),t.exports=c},2100:function(t,e,n){"use strict";t.exports=n(9482)},9482:function(t,e,n){"use strict";var r=e;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(1173),r.BufferWriter=n(3155),r.Reader=n(1408),r.BufferReader=n(593),r.util=n(9693),r.rpc=n(5994),r.roots=n(5054),r.configure=o,o()},1408:function(t,e,n){"use strict";t.exports=u;var r,o=n(9693),i=o.LongBits,a=o.utf8;function s(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function u(t){this.buf=t,this.pos=0,this.len=t.length}var l,c="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new u(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new u(t);throw Error("illegal buffer")},f=function(){return o.Buffer?function(t){return(u.create=function(t){return o.Buffer.isBuffer(t)?new r(t):c(t)})(t)}:c};function p(){var t=new i(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function d(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new i(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}u.create=f(),u.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,u.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return l}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return d(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|d(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},u.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},u.prototype.string=function(){var t=this.bytes();return a.read(t,0,t.length)},u.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},u._configure=function(t){r=t,u.create=f(),r._configure();var e=o.Long?"toLong":"toNumber";o.merge(u.prototype,{int64:function(){return p.call(this)[e](!1)},uint64:function(){return p.call(this)[e](!0)},sint64:function(){return p.call(this).zzDecode()[e](!1)},fixed64:function(){return h.call(this)[e](!0)},sfixed64:function(){return h.call(this)[e](!1)}})}},593:function(t,e,n){"use strict";t.exports=i;var r=n(1408);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(9693);function i(t){r.call(this,t)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},i._configure()},5054:function(t){"use strict";t.exports={}},5994:function(t,e,n){"use strict";e.Service=n(7948)},7948:function(t,e,n){"use strict";t.exports=o;var r=n(9693);function o(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(e,n,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(t,s,e,n,o,i);if(s.rpcImpl)try{return s.rpcImpl(e,n[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(t,n){if(t)return s.emit("error",t,e),a(t);if(null!==n){if(!(n instanceof o))try{n=o[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return s.emit("error",t,e),a(t)}return s.emit("data",n,e),a(null,n)}s.end(!0)}))}catch(t){return s.emit("error",t,e),void setTimeout((function(){a(t)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:function(t,e,n){"use strict";t.exports=o;var r=n(9693);function o(t,e){this.lo=t>>>0,this.hi=e>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return i;var e=t<0;e&&(t=-t);var n=t>>>0,r=(t-n)/4294967296>>>0;return e&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(r.isString(t)){if(!r.Long)return o.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):i},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;o.fromHash=function(t){return t===a?i:new o((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},9693:function(t,e,n){"use strict";var r=e;function o(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;++o)void 0!==t[r[o]]&&n||(t[r[o]]=e[r[o]]);return t}function i(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}r.asPromise=n(4537),r.base64=n(7419),r.EventEmitter=n(9211),r.float=n(945),r.inquire=n(7199),r.utf8=n(4997),r.pool=n(6662),r.LongBits=n(1945),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,e){var n=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},r.merge=o,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},r.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var t=r.Buffer;t?(r._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},r._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},1173:function(t,e,n){"use strict";t.exports=f;var r,o=n(9693),i=o.LongBits,a=o.base64,s=o.utf8;function u(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function l(){}function c(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function f(){this.len=0,this.head=new u(l,0,0),this.tail=this.head,this.states=null}var p=function(){return o.Buffer?function(){return(f.create=function(){return new r})()}:function(){return new f}};function d(t,e,n){e[n]=255&t}function h(t,e){this.len=t,this.next=void 0,this.val=e}function g(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function b(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}f.create=p(),f.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(f.alloc=o.pool(f.alloc,o.Array.prototype.subarray)),f.prototype._push=function(t,e,n){return this.tail=this.tail.next=new u(t,e,n),this.len+=e,this},h.prototype=Object.create(u.prototype),h.prototype.fn=function(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t},f.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new h((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},f.prototype.int32=function(t){return t<0?this._push(g,10,i.fromNumber(t)):this.uint32(t)},f.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},f.prototype.uint64=function(t){var e=i.from(t);return this._push(g,e.length(),e)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(t){var e=i.from(t).zzEncode();return this._push(g,e.length(),e)},f.prototype.bool=function(t){return this._push(d,1,t?1:0)},f.prototype.fixed32=function(t){return this._push(b,4,t>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(t){var e=i.from(t);return this._push(b,4,e.lo)._push(b,4,e.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},f.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var y=o.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};f.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(d,1,0);if(o.isString(t)){var n=f.alloc(e=a.length(t));a.decode(t,n,0),t=n}return this.uint32(e)._push(y,e,t)},f.prototype.string=function(t){var e=s.length(t);return e?this.uint32(e)._push(s.write,e,t):this._push(d,1,0)},f.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new u(l,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(l,0,0),this.len=0),this},f.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},f.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},f._configure=function(t){r=t,f.create=p(),r._configure()}},3155:function(t,e,n){"use strict";t.exports=i;var r=n(1173);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(9693);function i(){r.call(this)}function a(t,e,n){t.length<40?o.utf8.write(t,e,n):e.utf8Write?e.utf8Write(t,n):e.write(t,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]}},i.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(i.writeBytesBuffer,e,t),this},i.prototype.string=function(t){var e=o.Buffer.byteLength(t);return this.uint32(e),e&&this._push(a,e,t),this},i._configure()},7714:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.onnxjsBackend=void 0;var i=n(6919),a=n(7448),s=function(){function t(){}return t.prototype.init=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2]}))}))},t.prototype.createSessionHandler=function(t,e){return r(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return n=new i.Session(e),"string"!=typeof t?[3,2]:[4,n.loadModel(t)];case 1:return r.sent(),[3,4];case 2:return[4,n.loadModel(t)];case 3:r.sent(),r.label=4;case 4:return[2,new a.OnnxjsSessionHandler(n)]}}))}))},t}();e.onnxjsBackend=new s},4200:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.wasmBackend=e.initializeFlags=void 0;var i=n(2203),a=n(2174),s=n(5381),u=n(8022),l=n(2157),c=n(2306);e.initializeFlags=function(){if(("number"!=typeof a.env.wasm.initTimeout||a.env.wasm.initTimeout<0)&&(a.env.wasm.initTimeout=0),"boolean"!=typeof a.env.wasm.simd&&(a.env.wasm.simd=!0),"boolean"!=typeof a.env.wasm.proxy&&(a.env.wasm.proxy=!1),"number"!=typeof a.env.wasm.numThreads||!Number.isInteger(a.env.wasm.numThreads)||a.env.wasm.numThreads<=0){var t="undefined"==typeof navigator?s.cpus().length:navigator.hardwareConcurrency;a.env.wasm.numThreads=Math.min(4,Math.ceil((t||1)/2))}};var f=function(){function t(){}return t.prototype.init=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return e.initializeFlags(),[4,l.initWasm()];case 1:return t.sent(),[2]}}))}))},t.prototype.createSessionHandler=function(t,e){return r(this,void 0,void 0,(function(){var n,r,a;return o(this,(function(o){switch(o.label){case 0:return"string"!=typeof t?[3,6]:"undefined"!=typeof fetch?[3,2]:[4,u.promisify(i.readFile)(t)];case 1:return n=o.sent(),[3,5];case 2:return[4,fetch(t)];case 3:return[4,o.sent().arrayBuffer()];case 4:r=o.sent(),n=new Uint8Array(r),o.label=5;case 5:return[3,7];case 6:n=t,o.label=7;case 7:return[4,(a=new c.OnnxruntimeWebAssemblySessionHandler).loadModel(n,e)];case 8:return o.sent(),[2,Promise.resolve(a)]}}))}))},t}();e.wasmBackend=new f},6018:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(2174),e);var i=n(2174),a=n(7714),s=n(4200);i.registerBackend("webgl",a.onnxjsBackend,1),i.registerBackend("wasm",s.wasmBackend,2)},246:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createAttributeWithCacheKey=void 0;var n=function(){function t(t){Object.assign(this,t)}return Object.defineProperty(t.prototype,"cacheKey",{get:function(){var t=this;return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map((function(e){return""+t[e]})).join(";")),this._cacheKey},enumerable:!1,configurable:!0}),t}();e.createAttributeWithCacheKey=function(t){return new n(t)}},7778:function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Attribute=void 0;var o=n(1446),i=n(9395).onnxruntime.experimental.fbs,a=n(9162),s=n(2517),u=function(){function t(e){var n,a;if(this._attributes=new Map,null!=e){try{for(var s=r(e),u=s.next();!u.done;u=s.next()){var l=u.value;l instanceof o.onnx.AttributeProto?this._attributes.set(l.name,[t.getValue(l),t.getType(l)]):l instanceof i.Attribute&&this._attributes.set(l.name(),[t.getValue(l),t.getType(l)])}}catch(t){n={error:t}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}if(this._attributes.size<e.length)throw new Error("duplicated attribute names")}}return t.prototype.set=function(t,e,n){this._attributes.set(t,[n,e])},t.prototype.delete=function(t){this._attributes.delete(t)},t.prototype.getFloat=function(t,e){return this.get(t,"float",e)},t.prototype.getInt=function(t,e){return this.get(t,"int",e)},t.prototype.getString=function(t,e){return this.get(t,"string",e)},t.prototype.getTensor=function(t,e){return this.get(t,"tensor",e)},t.prototype.getFloats=function(t,e){return this.get(t,"floats",e)},t.prototype.getInts=function(t,e){return this.get(t,"ints",e)},t.prototype.getStrings=function(t,e){return this.get(t,"strings",e)},t.prototype.getTensors=function(t,e){return this.get(t,"tensors",e)},t.prototype.get=function(t,e,n){var r=this._attributes.get(t);if(void 0===r){if(void 0!==n)return n;throw new Error("required attribute not found: "+t)}if(r[1]!==e)throw new Error("type mismatch: expected "+e+" but got "+r[1]);return r[0]},t.getType=function(t){var e=t instanceof o.onnx.AttributeProto?t.type:t.type();switch(e){case o.onnx.AttributeProto.AttributeType.FLOAT:return"float";case o.onnx.AttributeProto.AttributeType.INT:return"int";case o.onnx.AttributeProto.AttributeType.STRING:return"string";case o.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case o.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case o.onnx.AttributeProto.AttributeType.INTS:return"ints";case o.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case o.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error("attribute type is not supported yet: "+o.onnx.AttributeProto.AttributeType[e])}},t.getValue=function(t){var e=t instanceof o.onnx.AttributeProto?t.type:t.type();if(e===o.onnx.AttributeProto.AttributeType.GRAPH||e===o.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");var n=this.getValueNoCheck(t);if(e===o.onnx.AttributeProto.AttributeType.INT&&s.LongUtil.isLong(n))return s.LongUtil.longToNumber(n);if(e===o.onnx.AttributeProto.AttributeType.INTS){for(var r=n,u=new Array(r.length),l=0;l<r.length;l++){var c=r[l];u[l]=s.LongUtil.longToNumber(c)}return u}if(e===o.onnx.AttributeProto.AttributeType.TENSOR)return t instanceof o.onnx.AttributeProto?a.Tensor.fromProto(n):a.Tensor.fromOrtTensor(n);if(e===o.onnx.AttributeProto.AttributeType.TENSORS){if(t instanceof o.onnx.AttributeProto)return n.map((function(t){return a.Tensor.fromProto(t)}));if(t instanceof i.Attribute)return n.map((function(t){return a.Tensor.fromOrtTensor(t)}))}if(e===o.onnx.AttributeProto.AttributeType.STRING&&t instanceof o.onnx.AttributeProto){var f=n;return Buffer.from(f.buffer,f.byteOffset,f.byteLength).toString()}return e===o.onnx.AttributeProto.AttributeType.STRINGS&&t instanceof o.onnx.AttributeProto?n.map((function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString()})):n},t.getValueNoCheck=function(t){return t instanceof o.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(t):this.getValueNoCheckFromOrtFormat(t)},t.getValueNoCheckFromOnnxFormat=function(t){switch(t.type){case o.onnx.AttributeProto.AttributeType.FLOAT:return t.f;case o.onnx.AttributeProto.AttributeType.INT:return t.i;case o.onnx.AttributeProto.AttributeType.STRING:return t.s;case o.onnx.AttributeProto.AttributeType.TENSOR:return t.t;case o.onnx.AttributeProto.AttributeType.GRAPH:return t.g;case o.onnx.AttributeProto.AttributeType.FLOATS:return t.floats;case o.onnx.AttributeProto.AttributeType.INTS:return t.ints;case o.onnx.AttributeProto.AttributeType.STRINGS:return t.strings;case o.onnx.AttributeProto.AttributeType.TENSORS:return t.tensors;case o.onnx.AttributeProto.AttributeType.GRAPHS:return t.graphs;default:throw new Error("unsupported attribute type: "+o.onnx.AttributeProto.AttributeType[t.type])}},t.getValueNoCheckFromOrtFormat=function(t){switch(t.type()){case i.AttributeType.FLOAT:return t.f();case i.AttributeType.INT:return t.i();case i.AttributeType.STRING:return t.s();case i.AttributeType.TENSOR:return t.t();case i.AttributeType.GRAPH:return t.g();case i.AttributeType.FLOATS:return t.floatsArray();case i.AttributeType.INTS:for(var e=[],n=0;n<t.intsLength();n++)e.push(t.ints(n));return e;case i.AttributeType.STRINGS:var r=[];for(n=0;n<t.stringsLength();n++)r.push(t.strings(n));return r;case i.AttributeType.TENSORS:var o=[];for(n=0;n<t.tensorsLength();n++)o.push(t.tensors(n));return o;default:throw new Error("unsupported attribute type: "+i.AttributeType[t.type()])}},t}();e.Attribute=u},7091:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveBackend=e.backend=void 0;var a=n(5038),s=new Map;function u(t){return r(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(o){switch(o.label){case 0:return void 0!==(n=e.backend)[t]&&"initialize"in(u=n[t])&&"function"==typeof u.initialize&&"createSessionHandler"in u&&"function"==typeof u.createSessionHandler&&"dispose"in u&&"function"==typeof u.dispose?(r=n[t],"object"==typeof(i=r.initialize())&&"then"in i?[4,i]:[3,2]):[3,3];case 1:i=o.sent(),o.label=2;case 2:if(i)return s.set(t,r),[2,r];o.label=3;case 3:return[2,void 0]}var u}))}))}e.backend={webgl:new a.WebGLBackend},e.resolveBackend=function t(e){return r(this,void 0,void 0,(function(){var n,r,a,l,c,f,p,d,h;return o(this,(function(o){switch(o.label){case 0:return e?[3,1]:[2,t(["webgl"])];case 1:n="string"==typeof e?[e]:e,o.label=2;case 2:o.trys.push([2,7,8,9]),r=i(n),a=r.next(),o.label=3;case 3:return a.done?[3,6]:(l=a.value,(c=s.get(l))?[2,c]:[4,u(l)]);case 4:if(f=o.sent())return[2,f];o.label=5;case 5:return a=r.next(),[3,3];case 6:return[3,9];case 7:return p=o.sent(),d={error:p},[3,9];case 8:try{a&&!a.done&&(h=r.return)&&h.call(r)}finally{if(d)throw d.error}return[7];case 9:throw new Error("no available backend to use")}}))}))}},5038:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLBackend=void 0;var r=n(2174),o=n(6231),i=n(6416),a=n(7305),s=function(){function t(){}return Object.defineProperty(t.prototype,"contextId",{get:function(){return r.env.webgl.contextId},set:function(t){r.env.webgl.contextId=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"matmulMaxBatchSize",{get:function(){return r.env.webgl.matmulMaxBatchSize},set:function(t){r.env.webgl.matmulMaxBatchSize=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textureCacheMode",{get:function(){return r.env.webgl.textureCacheMode},set:function(t){r.env.webgl.textureCacheMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pack",{get:function(){return r.env.webgl.pack},set:function(t){r.env.webgl.pack=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"async",{get:function(){return r.env.webgl.async},set:function(t){r.env.webgl.async=t},enumerable:!1,configurable:!0}),t.prototype.initialize=function(){try{return this.glContext=a.createWebGLContext(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),"boolean"!=typeof this.pack&&(this.pack=!1),"boolean"!=typeof this.async&&(this.async=!1),o.Logger.setWithEnv(r.env),o.Logger.verbose("WebGLBackend","Created WebGLContext: "+typeof this.glContext+" with matmulMaxBatchSize: "+this.matmulMaxBatchSize+"; textureCacheMode: "+this.textureCacheMode+"; pack: "+this.pack+"; async: "+this.async+"."),!0}catch(t){return o.Logger.warning("WebGLBackend","Unable to initialize WebGLBackend. "+t),!1}},t.prototype.createSessionHandler=function(t){return new i.WebGLSessionHandler(this,t)},t.prototype.dispose=function(){this.glContext.dispose()},t}();e.WebGLBackend=s},5107:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.CoordsGlslLib=void 0;var s=n(2517),u=n(8520),l=n(5060),c=n(7859),f=n(9390),p=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getFunctions=function(){return i(i(i(i(i(i(i({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())},e.prototype.getCustomTypes=function(){return{}},e.prototype.offsetToCoords=function(){return{offsetToCoords:new u.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}},e.prototype.coordsToOffset=function(){return{coordsToOffset:new u.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}},e.prototype.getOutputSamplingSnippet=function(){var t=this.context.outputTextureLayout;return t.isPacked?this.getPackedOutputSamplingSnippet(t):this.getUnpackedOutputSamplingSnippet(t)},e.prototype.getPackedOutputSamplingSnippet=function(t){var e=t.unpackedShape,n=[t.width,t.height],r={},o="getOutputCoords";switch(e.length){case 0:r[o]=this.getOutputScalarCoords();break;case 1:r[o]=this.getOutputPacked1DCoords(e,n);break;case 2:r[o]=this.getOutputPacked2DCoords(e,n);break;case 3:r[o]=this.getOutputPacked3DCoords(e,n);break;default:r[o]=this.getOutputPackedNDCoords(e,n)}var i="\n      void setOutput(vec4 val) {\n        "+l.getGlsl(this.context.glContext.version).output+" = val;\n      }\n    ";return r.floatTextureSetRGBA=new u.GlslLibRoutine(i),r},e.prototype.getUnpackedOutputSamplingSnippet=function(t){var e=t.unpackedShape,n=[t.width,t.height],r={},o="getOutputCoords";switch(e.length){case 0:r[o]=this.getOutputScalarCoords();break;case 1:r[o]=this.getOutputUnpacked1DCoords(e,n);break;case 2:r[o]=this.getOutputUnpacked2DCoords(e,n);break;case 3:r[o]=this.getOutputUnpacked3DCoords(e,n);break;case 4:r[o]=this.getOutputUnpacked4DCoords(e,n);break;case 5:r[o]=this.getOutputUnpacked5DCoords(e,n);break;case 6:r[o]=this.getOutputUnpacked6DCoords(e,n);break;default:throw new Error("Unsupported output dimensionality: "+e.length)}var i="\n        void setOutput(float val) {\n          "+l.getGlsl(this.context.glContext.version).output+" = vec4(val, 0, 0, 0);\n        }\n    ";return r.floatTextureSetR=new u.GlslLibRoutine(i),r},e.prototype.getOutputScalarCoords=function(){return new u.GlslLibRoutine("\n      int getOutputCoords() {\n        return 0;\n      }\n    ")},e.prototype.getOutputPacked1DCoords=function(t,e){var n=e,r="";return 1===n[0]?(r="\n          int getOutputCoords() {\n            return 2 * int(TexCoords.y * "+n[1]+".0);\n          }\n        ",new u.GlslLibRoutine(r)):1===n[1]?(r="\n          int getOutputCoords() {\n            return 2 * int(TexCoords.x * "+n[0]+".0);\n          }\n        ",new u.GlslLibRoutine(r)):(r="\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                 vec2("+n[0]+", "+n[1]+"));\n          return 2 * (resTexRC.y * "+n[0]+" + resTexRC.x);\n        }\n      ",new u.GlslLibRoutine(r))},e.prototype.getOutputPacked2DCoords=function(t,e){var n="";if(s.ArrayUtil.arraysEqual(t,e))return n="\n        ivec2 getOutputCoords() {\n          return 2 * ivec2(TexCoords.xy * vec2("+e[0]+", "+e[1]+"));\n        }\n      ",new u.GlslLibRoutine(n);var r=e,o=Math.ceil(t[1]/2);return n="\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2("+r[0]+", "+r[1]+"));\n\n          int index = resTexRC.y * "+r[0]+" + resTexRC.x;\n\n          // reverse r and c order for packed texture\n          int r = imod(index, "+o+") * 2;\n          int c = 2 * (index / "+o+");\n\n          return ivec2(r, c);\n        }\n      ",new u.GlslLibRoutine(n)},e.prototype.getOutputPacked3DCoords=function(t,e){var n=[e[0],e[1]],r=Math.ceil(t[2]/2),o=r*Math.ceil(t[1]/2),i="\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2("+n[0]+", "+n[1]+"));\n          int index = resTexRC.y * "+n[0]+" + resTexRC.x;\n\n          int b = index / "+o+";\n          index -= b * "+o+";\n\n          // reverse r and c order for packed texture\n          int r = imod(index, "+r+") * 2;\n          int c = 2 * (index / "+r+");\n\n          return ivec3(b, r, c);\n        }\n      ";return new u.GlslLibRoutine(i)},e.prototype.getOutputPackedNDCoords=function(t,e){for(var n=[e[0],e[1]],r=Math.ceil(t[t.length-1]/2),o=r*Math.ceil(t[t.length-2]/2),i=o,a="",s="b, r, c",l=2;l<t.length-1;l++)a="\n      int b"+l+" = index / "+(i*=t[t.length-l-1])+";\n      index -= b"+l+" * "+i+";\n    "+a,s="b"+l+", "+s;var c="\n      ivec"+t.length+" getOutputCoords() {\n        ivec2 resTexRC = ivec2(TexCoords.xy *\n                              vec2("+n[0]+", "+n[1]+"));\n        int index = resTexRC.y * "+n[0]+" + resTexRC.x;\n\n        "+a+"\n\n        int b = index / "+o+";\n        index -= b * "+o+";\n\n        // reverse r and c order for packed texture\n        int r = imod(index, "+r+") * 2;\n        int c = 2 * (index / "+r+");\n\n        return ivec"+t.length+"("+s+");\n      }\n    ";return new u.GlslLibRoutine(c)},e.prototype.getOutputUnpacked1DCoords=function(t,e){var n="\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2("+e[0]+", "+e[1]+"));\n          return resTexRC.y * "+e[0]+" + resTexRC.x;\n        }\n      ";return new u.GlslLibRoutine(n)},e.prototype.getOutputUnpacked2DCoords=function(t,e){var n="\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2("+e[0]+", "+e[1]+"));\n          int index = resTexRC.y * "+e[0]+" + resTexRC.x;\n          int r = index / "+t[1]+";\n          int c = index - r * "+t[1]+";\n          return ivec2(r, c);\n        }\n      ";return new u.GlslLibRoutine(n)},e.prototype.getOutputUnpacked3DCoords=function(t,e){var n,r=t.length,o=null;r<2&&(o=[]),(o=new Array(r-1))[r-2]=t[r-1];for(var i=r-3;i>=0;--i)o[i]=o[i+1]*t[i+1];var a=["r","c","d"],s=o.map((function(t,e){return"int "+a[e]+" = index / "+t+"; "+(e===o.length-1?"int "+a[e+1]+" = index - "+a[e]+" * "+t:"index -= "+a[e]+" * "+t)+";"})).join("");return n="\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2("+e[0]+", "+e[1]+"));\n          int index = resTexRC.y * "+e[0]+" + resTexRC.x;\n          "+s+"\n          return ivec3(r, c, d);\n        }\n      ",new u.GlslLibRoutine(n)},e.prototype.getOutputUnpacked4DCoords=function(t,e){var n,r=t.length,o=null;r<2&&(o=[]),(o=new Array(r-1))[r-2]=t[r-1];for(var i=r-3;i>=0;--i)o[i]=o[i+1]*t[i+1];var a=["r","c","d","d2"],s=o.map((function(t,e){return"int "+a[e]+" = index / "+t+"; "+(e===o.length-1?"int "+a[e+1]+" = index - "+a[e]+" * "+t:"index -= "+a[e]+" * "+t)+";"})).join("");return n="\n      ivec4 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2("+e[0]+", "+e[1]+"));\n          int index = resTexRC.y * "+e[0]+" + resTexRC.x;\n          "+s+"\n          return ivec4(r, c, d, d2);\n        }\n      ",new u.GlslLibRoutine(n)},e.prototype.getOutputUnpacked5DCoords=function(t,e){var n,r=t.length,o=null;r<2&&(o=[]),(o=new Array(r-1))[r-2]=t[r-1];for(var i=r-3;i>=0;--i)o[i]=o[i+1]*t[i+1];var a=["r","c","d","d2","d3"],s=o.map((function(t,e){return"int "+a[e]+" = index / "+t+"; "+(e===o.length-1?"int "+a[e+1]+" = index - "+a[e]+" * "+t:"index -= "+a[e]+" * "+t)+";"})).join("");return n="\n      ivec5 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2("+e[0]+", "+e[1]+"));\n          int index = resTexRC.y * "+e[0]+" + resTexRC.x;\n          "+s+"\n          return ivec5(r, c, d, d2, d3);\n        }\n      ",new u.GlslLibRoutine(n)},e.prototype.getOutputUnpacked6DCoords=function(t,e){var n,r=t.length,o=null;r<2&&(o=[]),(o=new Array(r-1))[r-2]=t[r-1];for(var i=r-3;i>=0;--i)o[i]=o[i+1]*t[i+1];var a=["r","c","d","d2","d3","d4"],s=o.map((function(t,e){return"int "+a[e]+" = index / "+t+"; "+(e===o.length-1?"int "+a[e+1]+" = index - "+a[e]+" * "+t:"index -= "+a[e]+" * "+t)+";"})).join("");return n="\n     ivec6 getOutputCoords() {\n         ivec2 resTexRC = ivec2(TexCoords.xy *\n                               vec2("+e[0]+", "+e[1]+"));\n         int index = resTexRC.y * "+e[0]+" + resTexRC.x;\n         "+s+"\n         return ivec6(r, c, d, d2, d3, d4);\n       }\n     ",new u.GlslLibRoutine(n)},e.prototype.getCommonUtilFuncs=function(){var t={},e="uvFromFlat";t[e]=new u.GlslLibRoutine("\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    "),t[e="packedUVfrom1D"]=new u.GlslLibRoutine("\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t[e="packedUVfrom2D"]=new u.GlslLibRoutine("\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t[e="packedUVfrom3D"]=new u.GlslLibRoutine("\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),e="sampleTexture";var n=l.getGlsl(this.context.glContext.version);return t[e]=new u.GlslLibRoutine("\n        float sampleTexture(sampler2D textureSampler, vec2 uv) {\n            return "+n.texture2D+"(textureSampler, uv).r;\n        }"),t},e.prototype.getInputsSamplingSnippets=function(){var t=this,e={},n=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((function(r,o){var i=t.context.inputTextureLayouts[o],a=f.generateShaderFuncNameFromInputSamplerName(r);i.isPacked?e[a]=t.getPackedSamplerFromInput(a,r,i):e[a]=t.getUnpackedSamplerFromInput(a,r,i);var s=f.generateShaderFuncNameFromInputSamplerNameAtOutCoords(r);i.unpackedShape.length<=n.unpackedShape.length&&(i.isPacked?e[s]=t.getPackedSamplerAtOutputCoords(s,i,n,r):e[s]=t.getUnpackedSamplerAtOutputCoords(s,i,n,r))})),e},e.prototype.getPackedSamplerAtOutputCoords=function(t,e,n,r){var o,l,i=e.unpackedShape,a=n.unpackedShape,c=r,d=f.generateShaderFuncNameFromInputSamplerName(c),p=i.length,h=a.length,y=s.BroadcastUtil.getBroadcastDims(i,a),g=f.getCoordsDataType(h),b=h-p,m=f.getGlChannels();o=0===p?"":h<2&&y.length>=1?"coords = 0;":y.map((function(t){return"coords."+m[t+b]+" = 0;"})).join("\n"),l=h<2&&p>0?"coords":i.map((function(t,e){return"coords."+m[e+b]})).join(", ");var v="return outputValue;",_=1===s.ShapeUtil.size(i),w=1===s.ShapeUtil.size(a);if(1!==p||_||w){if(_&&!w)v=1===h?"\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        ":"\n          return vec4(outputValue.x);\n        ";else if(y.length){var x=p-2,T=p-1;y.indexOf(x)>-1&&y.indexOf(T)>-1?v="return vec4(outputValue.x);":y.indexOf(x)>-1?v="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":y.indexOf(T)>-1&&(v="return vec4(outputValue.xx, outputValue.zz);")}}else v="\n        return vec4(outputValue.xy, outputValue.xy);\n      ";var S="\n      vec4 "+t+"() {\n        "+g+" coords = getOutputCoords();\n        \n        int lastDim = coords."+m[h-1]+";\n        coords."+m[h-1]+" = coords."+m[h-2]+";\n        coords."+m[h-2]+" = lastDim;\n      \n        "+o+"\n        vec4 outputValue = "+d+"("+l+");\n        "+v+"\n      }\n    ";return new u.GlslLibRoutine(S,["coordinates.getOutputCoords"])},e.prototype.getUnpackedSamplerAtOutputCoords=function(t,e,n,r){var o=[n.width,n.height],i=[e.width,e.height],a=e.unpackedShape.length,l=n.unpackedShape.length,c=e.unpackedShape,p=n.unpackedShape,d=f.generateShaderFuncNameFromInputSamplerName(r);if(a===l&&s.ArrayUtil.arraysEqual(i,o)){var h="\n          float "+t+"() {\n            return sampleTexture("+r+", TexCoords);\n          }\n        ";return new u.GlslLibRoutine(h,["coordinates.sampleTexture"])}var g=f.getCoordsDataType(l),b=s.BroadcastUtil.getBroadcastDims(c,p),y=l-a,m=f.getGlChannels(),v="\n        float "+t+"() {\n          "+g+" coords = getOutputCoords();\n          "+(0===a?"":l<2&&b.length>=1?"coords = 0;":b.map((function(t){return"coords."+m[t+y]+" = 0;"})).join("\n"))+"\n          return "+d+"("+(l<2&&a>0?"coords":e.unpackedShape.map((function(t,e){return"coords."+m[e+y]})).join(", "))+");\n        }\n      ";return new u.GlslLibRoutine(v,["coordinates.getOutputCoords"])},e.prototype.getPackedSamplerFromInput=function(t,e,n){switch(n.unpackedShape.length){case 0:return this.getPackedSamplerScalar(t,e);case 1:return this.getPackedSampler1D(t,e,n);case 2:return this.getPackedSampler2D(t,e,n);case 3:return this.getPackedSampler3D(t,e,n);default:return this.getPackedSamplerND(t,e,n)}},e.prototype.getUnpackedSamplerFromInput=function(t,e,n){var r=n.unpackedShape;switch(r.length){case 0:return this.getUnpackedSamplerScalar(t,e,n);case 1:return this.getUnpackedSampler1D(t,e,n);case 2:return this.getUnpackedSampler2D(t,e,n);case 3:return this.getUnpackedSampler3D(t,e,n);case 4:return this.getUnpackedSampler4D(t,e,n);case 5:return this.getUnpackedSampler5D(t,e,n);case 6:return this.getUnpackedSampler6D(t,e,n);default:throw new Error("Unsupported dimension "+r.length+"-D")}},e.prototype.getPackedSamplerScalar=function(t,e){var n="\n          vec4 "+t+"() {\n            return "+l.getGlsl(this.context.glContext.version).texture2D+"("+e+", halfCR);\n          }\n        ";return new u.GlslLibRoutine(n)},e.prototype.getPackedSampler1D=function(t,e,n){var r=[n.width,n.height],o=[r[1],r[0]],i=l.getGlsl(this.context.glContext.version),a="vec4 "+t+"(int index) {\n      vec2 uv = packedUVfrom1D(\n      "+o[0]+", "+o[1]+", index);\n      return "+i.texture2D+"("+e+", uv);\n    }";return new u.GlslLibRoutine(a,["coordinates.packedUVfrom1D"])},e.prototype.getPackedSampler2D=function(t,e,n){var r=n.unpackedShape,o=[n.width,n.height],i=l.getGlsl(this.context.glContext.version),a=o[0],c=o[1];if(null!=o&&s.ArrayUtil.arraysEqual(r,o)){var f="vec4 "+t+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+c+".0, "+a+".0);\n        return "+i.texture2D+"("+e+", uv);\n      }";return new u.GlslLibRoutine(f)}var p=o,d=Math.ceil(r[1]/2),h="vec4 "+t+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+p[1]+", "+p[0]+", "+d+", row, col);\n      return "+i.texture2D+"("+e+", uv);\n    }";return new u.GlslLibRoutine(h,["coordinates.packedUVfrom2D"])},e.prototype.getPackedSampler3D=function(t,e,n){var r=n.unpackedShape,o=[n.width,n.height],i=[o[0],o[1]],a=l.getGlsl(this.context.glContext.version);if(1===r[0]){var s=r.slice(1),c=f.squeezeInputShape(r,s),p=JSON.parse(JSON.stringify(n));p.unpackedShape=c;var d=this.getPackedSamplerFromInput(t,e,p),h=d.routineBody+"\n      vec4 "+t+"(int b, int row, int col) {\n        return "+t+"("+f.getSqueezedParams(["b","row","col"],[1,2])+");\n      } ";return new u.GlslLibRoutine(h,d.dependencies)}var g=i[0],b=i[1],y=Math.ceil(r[2]/2),m="vec4 "+t+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+b+", "+g+", "+y*Math.ceil(r[1]/2)+", "+y+", b, row, col);\n      return "+a.texture2D+"("+e+", uv);}";return new u.GlslLibRoutine(m,["coordinates.packedUVfrom3D"])},e.prototype.getPackedSamplerND=function(t,e,n){for(var r=n.unpackedShape,o=r.length,i=[n.width,n.height],a=l.getGlsl(this.context.glContext.version),s=[i[0],i[1]],c=s[1],f=s[0],p=Math.ceil(r[o-1]/2),d=p*Math.ceil(r[o-2]/2),h="int b, int row, int col",g="b * "+d+" + (row / 2) * "+p+" + (col / 2)",b=2;b<o-1;b++)h="int b"+b+", "+h,g="b"+b+" * "+(d*=r[o-b-1])+" + "+g;var y="vec4 "+t+"("+h+") {\n      int index = "+g+";\n      int texR = index / "+f+";\n      int texC = index - texR * "+f+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+f+", "+c+");\n      return "+a.texture2D+"("+e+", uv);\n    }";return new u.GlslLibRoutine(y)},e.prototype.getUnpackedSamplerScalar=function(t,e,n){var r=a([n.width,n.height],2),o=r[0],i=r[1];if(1===o&&1===i){var s="\n          float "+t+"() {\n            return sampleTexture("+e+", halfCR);\n          }\n        ";return new u.GlslLibRoutine(s,["coordinates.sampleTexture"])}var l="\n        float "+t+"() {\n          int offset_"+e+" = coordsToOffset(TexCoords, "+o+", "+i+");\n          vec2 uv = uvFromFlat("+o+", "+i+", offset_"+e+");\n          return sampleTexture("+e+", uv);\n        }\n      ";return new u.GlslLibRoutine(l,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])},e.prototype.getUnpackedSampler1D=function(t,e,n){var r=n.width,o=n.height;if(1===o&&1===r){var i="\n        float "+t+"(int index) {\n          return sampleTexture("+e+", halfCR);\n        }\n      ";return new u.GlslLibRoutine(i,["coordinates.sampleTexture"])}if(1===o){var a="\n          float "+t+"(int index) {\n            vec2 uv = vec2((float(index) + 0.5) / "+r+".0, 0.5);\n            return sampleTexture("+e+", uv);\n          }\n        ";return new u.GlslLibRoutine(a,["coordinates.sampleTexture"])}if(1===r){var s="\n          float "+t+"(int index) {\n            vec2 uv = vec2(0.5, (float(index) + 0.5) / "+o+".0);\n            return sampleTexture("+e+", uv);\n          }\n        ";return new u.GlslLibRoutine(s,["coordinates.sampleTexture"])}var l="\n        float "+t+"(int index) {\n          vec2 uv = uvFromFlat("+r+", "+o+", index);\n          return sampleTexture("+e+", uv);\n        }\n      ";return new u.GlslLibRoutine(l,["coordinates.uvFromFlat","coordinates.sampleTexture"])},e.prototype.getUnpackedSampler2D=function(t,e,n){var r=n.unpackedShape,o=[n.height,n.width];if(null!=o&&s.ArrayUtil.arraysEqual(r,o)){var i="\n          float "+t+"(int row, int col) {\n            vec2 uv = (vec2(row, col) + halfCR) / vec2("+o[1]+".0, "+o[0]+".0);\n            return sampleTexture("+e+", uv);\n          }\n        ";return new u.GlslLibRoutine(i,["coordinates.sampleTexture"])}var a=c.squeezeShape(r),l=a.newShape,p=a.keptDims,d=l;if(d.length<r.length){var h=f.squeezeInputShape(r,d),g=JSON.parse(JSON.stringify(n));g.unpackedShape=h;var b="\n          "+this.getUnpackedSamplerFromInput(t,e,g).routineBody+"\n          float "+t+"(int row, int col) {\n            return "+t+"("+f.getSqueezedParams(["col","row"],p)+");\n          }\n        ";return new u.GlslLibRoutine(b,["coordinates.sampleTexture"])}var y=o[1],m=o[0];if(1===m){var v="\n          float "+t+"(int row, int col) {\n            int offset_"+e+" = coordsToOffset(TexCoords, "+y+", "+m+");\n            float index = dot(vec3(row, col, offset_"+e+"), vec3("+r[1]+", 1, 1));\n            vec2 uv = vec2(0.5, (index + 0.5) / "+y+".0);\n            return sampleTexture("+e+", uv);\n          }\n        ";return new u.GlslLibRoutine(v,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(1===y){var _="\n          float "+t+"(int row, int col) {\n            int offset_"+e+" = coordsToOffset(TexCoords, "+y+", "+m+");\n            float index = dot(vec3(row, col, offset_"+e+"), vec3("+r[1]+", 1, 1));\n            vec2 uv = vec2((index + 0.5) / "+m+".0, 0.5);\n            return sampleTexture("+e+", uv);\n          }\n        ";return new u.GlslLibRoutine(_,["coordinates.sampleTexture","coordinates.coordsToOffset"])}var w="\n        float "+t+"(int row, int col) {\n          int index = col * "+r[1]+" + row;\n          vec2 uv = uvFromFlat("+y+", "+m+", index);\n          return sampleTexture("+e+", uv);\n        }\n      ";return new u.GlslLibRoutine(w,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])},e.prototype.getUnpackedSampler3D=function(t,e,n){var r=n.unpackedShape,o=r[1]*r[2],i=r[2],a=c.squeezeShape(r),s=a.newShape,l=a.keptDims,p=s;if(p.length<r.length){var d=f.squeezeInputShape(r,p),h=JSON.parse(JSON.stringify(n));h.unpackedShape=d;var g=this.getUnpackedSamplerFromInput(t,e,h),b=l.reverse(),y="\n          "+g.routineBody+"\n          float "+t+"(int batch, int row, int col) {\n            return "+t+"("+f.getSqueezedParams(["batch","col","row"],b)+");\n          }\n        ";return new u.GlslLibRoutine(y,g.dependencies)}var m="\n          float "+t+"(int depth, int row, int col) {\n            // Explicitly use integer operations as dot() only works on floats.\n            int index = depth * "+o+" + col * "+i+" + row;\n            vec2 uv = uvFromFlat("+n.width+", "+n.height+", index);\n            return sampleTexture("+e+", uv);\n          }\n      ";return new u.GlslLibRoutine(m,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])},e.prototype.getUnpackedSampler4D=function(t,e,n){var r=n.unpackedShape,o=r[3],i=r[2]*o,a="\n        float "+t+"(int row, int col, int depth, int depth2) {\n          int index = row * "+r[1]*i+" + col * "+i+" +\n              depth2 * "+o+" + depth;\n          vec2 uv = uvFromFlat("+n.width+", "+n.height+", index);\n          return sampleTexture("+e+", uv);\n        }\n      ";return new u.GlslLibRoutine(a,["coordinates.uvFromFlat","coordinates.sampleTexture"])},e.prototype.getUnpackedSampler5D=function(t,e,n){var r=n.unpackedShape,o=r[4],i=r[3]*o,a=r[2]*i,s=r[1]*a,l=c.squeezeShape(r),p=l.newShape,d=l.keptDims;if(p.length<r.length){var h=f.squeezeInputShape(r,p),g=JSON.parse(JSON.stringify(n));g.unpackedShape=h;var b="\n          "+this.getUnpackedSamplerFromInput(t,e,g).routineBody+"\n          float "+t+"(int row, int col, int depth, int depth2, int depth3) {\n            return "+t+"("+f.getSqueezedParams(["row","col","depth","depth2","depth3"],d)+");\n          }\n        ";return new u.GlslLibRoutine(b,["coordinates.sampleTexture","coordinates.uvFromFlat"])}var y="\n        float "+t+"(int row, int col, int depth, int depth2, int depth3) {\n          int index = row * "+s+" + col * "+a+" + depth * "+i+" +\n          depth3 * "+o+" + depth2;\n          vec2 uv = uvFromFlat("+n.width+", "+n.height+", index);\n          return sampleTexture("+e+", uv);\n        }\n      ";return new u.GlslLibRoutine(y,["coordinates.sampleTexture","coordinates.uvFromFlat"])},e.prototype.getUnpackedSampler6D=function(t,e,n){var r=n.unpackedShape,o=r[5],i=r[4]*o,a=r[3]*i,s=r[2]*a,l=r[1]*s,p=c.squeezeShape(r),d=p.newShape,h=p.keptDims;if(d.length<r.length){var g=f.squeezeInputShape(r,d),b=JSON.parse(JSON.stringify(n));b.unpackedShape=g;var y="\n            "+this.getUnpackedSamplerFromInput(t,e,b).routineBody+"\n            float "+t+"(int row, int col, int depth,\n              int depth2, int depth3, int depth4) {\n              return "+t+"("+f.getSqueezedParams(["row","col","depth","depth2","depth3","depth4"],h)+");\n            }\n          ";return new u.GlslLibRoutine(y,["coordinates.sampleTexture","coordinates.uvFromFlat"])}var m="\n          float "+t+"(int row, int col, int depth,\n            int depth2, int depth3, int depth4) {\n            int index = row * "+l+" + col * "+s+" + depth * "+a+" +\n            depth2 * "+i+" + depth3 * "+o+" + depth4;\n            vec2 uv = uvFromFlat("+n.width+", "+n.height+", index);\n            return sampleTexture("+e+", uv);\n          }\n        ";return new u.GlslLibRoutine(m,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])},e.prototype.toVec=function(){for(var t=this.context.outputTextureLayout,e=t.shape.length,n=t.strides,r=t.width,o=t.height,i=[],a=0;a<e-1;++a)i.push("\n        c["+a+"] = offset / "+n[a]+";"),i.push("\n        offset -= c["+a+"] * "+n[a]+";");i.push("\n        c["+(e-1)+"] = offset;");var s="\n      void toVec(vec2 texCoords, out int c["+e+"]) {\n        int offset = coordsToOffset(texCoords, "+r+", "+o+");\n        "+i.join("")+"\n      }\n      void toVec(int offset, out int c["+e+"]) {\n        "+i.join("")+"\n      }\n    ";return{toVec:new u.GlslLibRoutine(s,["coordinates.coordsToOffset"])}},e.prototype.valueFrom=function(){var t=this,e={};return this.context.programInfo.inputNames.forEach((function(n,r){var o=t.context.inputTextureLayouts[r],i=(o.unpackedShape.length>0?o.unpackedShape:o.shape).length,a="_"+n;e[a]=new u.GlslLibRoutine(t.getValueFromSingle(n,i,o.width,o.height,!1),["shapeUtils.indicesToOffset"+a,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),e[a+="_T"]=new u.GlslLibRoutine(t.getValueFromSingle(n,i,o.width,o.height,!0),["shapeUtils.indicesToOffset"+a,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])})),e},e.prototype.getValueFromSingle=function(t,e,n,r,o){var i="_"+t;return o&&(i+="_T"),"\n        float "+i+"(int m["+e+"]) {\n          int offset = indicesToOffset"+i+"(m);\n          vec2 coords = offsetToCoords(offset, "+n+", "+r+");\n          float value = getColorAsFloat("+l.getGlsl(this.context.glContext.version).texture2D+"("+t+", coords));\n          return value;\n        }\n        "},e.prototype.getPackedValueFrom=function(t,e,n,r,o){var i="_"+t+"_Pack";return o&&(i+="_T"),"\n        vec4 "+i+"(int m["+e+"]) {\n          int offset = indicesToOffset_"+t+"(m);\n          vec2 coords = offsetToCoords(offset, "+n+", "+r+");\n          return "+l.getGlsl(this.context.glContext.version).texture2D+"("+t+", coords);\n        }\n        "},e}(u.GlslLib);e.CoordsGlslLib=p},8520:function(t,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.TopologicalSortGlslRoutines=e.GlslLibRoutineNode=e.GlslLibRoutine=e.GlslLib=e.GlslContext=e.FunctionType=void 0,(n=e.FunctionType||(e.FunctionType={}))[n.ValueBased=0]="ValueBased",n[n.Positional=1]="Positional",e.GlslContext=function(t,e,n,r){this.glContext=t,this.programInfo=e,this.inputTextureLayouts=n,this.outputTextureLayout=r},e.GlslLib=function(t){this.context=t},e.GlslLibRoutine=function(t,e){this.routineBody=t,this.dependencies=e};var r=function(){function t(t,e,n){this.name=t,this.dependencies=n||[],e&&(this.routineBody=e)}return t.prototype.addDependency=function(t){t&&this.dependencies.push(t)},t}();e.GlslLibRoutineNode=r;var o=function(){function t(){}return t.returnOrderedNodes=function(t){if(!t||0===t.length)return[];if(1===t.length)return t;var e=new Set,n=new Set,r=new Array;return this.createOrderedNodes(t,e,n,r),r},t.createOrderedNodes=function(t,e,n,r){for(var o=0;o<t.length;++o)this.dfsTraverse(t[o],e,n,r)},t.dfsTraverse=function(t,e,n,r){if(t&&!n.has(t.name)){if(e.has(t.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");e.add(t.name);var o=t.dependencies;if(o&&o.length>0)for(var i=0;i<o.length;++i)this.dfsTraverse(o[i],e,n,r);r.push(t),n.add(t.name),e.delete(t.name)}},t}();e.TopologicalSortGlslRoutines=o},7341:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.EncodingGlslLib=void 0;var a=n(8520),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getFunctions=function(){return i(i({},this.encodeFloat32()),this.decodeFloat32())},e.prototype.getCustomTypes=function(){return{}},e.prototype.encodeFloat32=function(){return{encode:new a.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}},e.prototype.decodeFloat32=function(){return{decode:new a.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}},e.prototype.encodeUint8=function(){var t=e.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new a.GlslLibRoutine("\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        "+t+"\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        ")}},e.prototype.decodeUint8=function(){var t=e.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new a.GlslLibRoutine("\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          "+t+"\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        ")}},e.isLittleEndian=function(){var t=new ArrayBuffer(4),e=new Uint32Array(t),n=new Uint8Array(t);if(e[0]=3735928559,239===n[0])return!0;if(222===n[0])return!1;throw new Error("unknown endianness")},e}(a.GlslLib);e.EncodingGlslLib=s},9894:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.FragColorGlslLib=void 0;var a=n(8520),s=n(5060),u=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getFunctions=function(){return i(i({},this.setFragColor()),this.getColorAsFloat())},e.prototype.getCustomTypes=function(){return{}},e.prototype.setFragColor=function(){var t=s.getGlsl(this.context.glContext.version);return{setFragColor:new a.GlslLibRoutine("\n        void setFragColor(float value) {\n            "+t.output+" = encode(value);\n        }\n        ",["encoding.encode"])}},e.prototype.getColorAsFloat=function(){return{getColorAsFloat:new a.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}},e}(a.GlslLib);e.FragColorGlslLib=u},2848:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.replaceInlines=void 0;var n=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;e.replaceInlines=function(t){for(var e,r={};null!==(e=n.exec(t));){var o=e[3].split(",").map((function(t){var e=t.trim().split(" ");return e&&2===e.length?{type:e[0],name:e[1]}:null})).filter((function(t){return null!==t}));r[e[2]]={params:o,body:e[4]}}for(var i in r)for(var a="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",i),s=new RegExp(a,"gm"),u=function(){var n=e[1],o=e[2],a=e[3].split(","),s=n?n+" "+o+";":"",u=r[i].body,l="";r[i].params.forEach((function(t,e){t&&(l+=t.type+" "+t.name+" = "+a[e]+";\n")}));var c="\n      "+s+"\n      {\n        "+(u=(u=l+"\n "+u).replace("return",o+" = "))+"\n      }\n      ";t=t.replace(e[0],c)};null!==(e=s.exec(t));)u();return t=t.replace(n,"")}},8879:function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.GlslPreprocessor=void 0;var o=n(8520),i=n(2848),a=n(5483),s=n(5060),u=function(){function t(t,e,n,r){var i=this;this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new o.GlslContext(t,e,n,r),Object.keys(a.glslRegistry).forEach((function(t){var e=new a.glslRegistry[t](i.context);i.libs[t]=e}));var s=this.glslLibRoutineDependencyGraph;for(var u in this.libs){var l=this.libs[u].getFunctions();for(var c in l){var f=u+"."+c,p=void 0;s[f]?(p=s[f]).routineBody=l[c].routineBody:(p=new o.GlslLibRoutineNode(f,l[c].routineBody),s[f]=p);var d=l[c].dependencies;if(d)for(var h=0;h<d.length;++h)if(s[d[h]])p.addDependency(s[d[h]]);else{var g=new o.GlslLibRoutineNode(d[h]);s[d[h]]=g,p.addDependency(g)}}}}return t.prototype.preprocess=function(){var t=this.context.programInfo,e=t.shaderSource;return this.context.programInfo.hasMain||(e=e+"\n      "+s.getDefaultFragShaderMain(this.context.glContext.version,this.context.outputTextureLayout.shape.length)),e=i.replaceInlines(e),s.getFragShaderPreamble(this.context.glContext.version)+"\n    "+this.getUniforms(t.inputNames,t.variables)+"\n    "+this.getImports(e)+"\n    "+e},t.prototype.getImports=function(t){var e=this.selectGlslLibRoutinesToBeIncluded(t);if(0===e.length)return"";for(var n="",r=0;r<e.length;++r){if(!e[r].routineBody)throw new Error("Missing body for the Glsl Library routine: "+e[r].name);n+=e[r].routineBody+"\n"}return n},t.prototype.selectGlslLibRoutinesToBeIncluded=function(t){var e=this,n=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach((function(r){var o=r.split(".")[1];-1!==t.indexOf(o)&&n.push(e.glslLibRoutineDependencyGraph[r])})),o.TopologicalSortGlslRoutines.returnOrderedNodes(n)},t.prototype.getUniforms=function(t,e){var n,o,i,a,s=[];if(t)try{for(var u=r(t),l=u.next();!l.done;l=u.next()){var c=l.value;s.push("uniform sampler2D "+c+";")}}catch(t){n={error:t}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}if(e)try{for(var f=r(e),p=f.next();!p.done;p=f.next()){var d=p.value;s.push("uniform "+d.type+" "+d.name+(d.arrayLength?"["+d.arrayLength+"]":"")+";")}}catch(t){i={error:t}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return s.join("\n")},t}();e.GlslPreprocessor=u},5483:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.glslRegistry=void 0;var r=n(5107),o=n(7341),i=n(9894),a=n(2655),s=n(3891);e.glslRegistry={encoding:o.EncodingGlslLib,fragcolor:i.FragColorGlslLib,vec:s.VecGlslLib,shapeUtils:a.ShapeUtilsGlslLib,coordinates:r.CoordsGlslLib}},2655:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeUtilsGlslLib=void 0;var a=n(8520),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getFunctions=function(){return i(i(i(i(i({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())},e.prototype.getCustomTypes=function(){return{}},e.prototype.bcastIndex=function(){var t=this,e=this.context.outputTextureLayout.shape.length,n={};return this.context.programInfo.inputNames.forEach((function(r,o){var i=t.context.inputTextureLayouts[o].unpackedShape;if(i.length<=e){for(var s=i.length,u=e-s,l="bcastIndices_"+r,c="",f=0;f<s;++f)c+="\n          realIndices["+f+"] = int( mod(float(bcastedIndices["+(u+f)+"]), "+i[f]+".0) );\n          ";var p="\n        void "+l+" (int bcastedIndices["+e+"], out int realIndices["+s+"]) {\n          "+c+"\n        }\n        ";n[l]=new a.GlslLibRoutine(p)}})),n},e.prototype.bcastMatmulIndex=function(){var t=this,e=this.context.outputTextureLayout.shape.length,n={};return this.context.programInfo.inputNames.forEach((function(r,o){var i=t.context.inputTextureLayouts[o].shape;if(!(i.length<2||i.length>e)){for(var s=i.length,u=e-s,l="bcastMatmulIndices_"+r,c="",f=0;f<s-2;++f)c+="\n          realIndices["+f+"] = int( mod(float(bcastedIndices["+(u+f)+"]), "+i[f]+".0) );\n          ";var p="\n        void "+l+"(int bcastedIndices["+e+"], out int realIndices["+s+"]) {\n          "+c+"\n          realIndices["+(s-1)+"] = bcastedIndices["+(e-1)+"];\n          realIndices["+(s-2)+"] = bcastedIndices["+(e-2)+"];\n        }\n        ";n[l]=new a.GlslLibRoutine(p)}})),n},e.prototype.indicesToOffset=function(){var t=this,n={};return this.context.programInfo.inputNames.forEach((function(r,o){var i=t.context.inputTextureLayouts[o].shape,s=t.context.inputTextureLayouts[o].strides,u=i.length,l="indicesToOffset_"+r;n[l]=new a.GlslLibRoutine(e.indexToOffsetSingle(l,u,s)),n[l="indicesToOffset_"+r+"_T"]=new a.GlslLibRoutine(e.indexToOffsetSingle(l,u,s.slice().reverse()))})),n},e.indexToOffsetSingle=function(t,e,n){for(var r="",o=e-1;o>=0;--o)r+="\n        offset += indices["+o+"] * "+n[o]+";\n        ";return"\n      int "+t+"(int indices["+e+"]) {\n        int offset = 0;\n        "+r+"\n        return offset;\n      }\n      "},e.prototype.offsetToIndices=function(){var t=this,n={};return this.context.programInfo.inputNames.forEach((function(r,o){var i=t.context.inputTextureLayouts[o].shape,s=t.context.inputTextureLayouts[o].strides,u=i.length,l="offsetToIndices_"+r;n[l]=new a.GlslLibRoutine(e.offsetToIndicesSingle(l,u,s)),n[l="offsetToIndices_"+r+"_T"]=new a.GlslLibRoutine(e.offsetToIndicesSingle(l,u,s.slice().reverse()))})),n},e.offsetToIndicesSingle=function(t,e,n){for(var r=[],o=0;o<e-1;++o)r.push("\n      indices["+o+"] = offset / "+n[o]+";"),r.push("\n        offset -= indices["+o+"] * "+n[o]+";");return r.push("\n      indices["+(e-1)+"] = offset;"),"\n      void "+t+"(int offset, out int indices["+e+"]) {\n        "+r.join("")+"\n      }\n      "},e.prototype.incrementIndices=function(){var t=this,e={};return this.context.programInfo.inputNames.forEach((function(n,r){for(var o=t.context.inputTextureLayouts[r].shape,i=o.length,s="incrementIndices_"+n,u="",l=0;l<i;++l)u+="\n        shape["+l+"] = "+o[l]+";";var c="\n        void "+s+"(int axis, out int indices["+i+"]) {\n          int shape["+i+"];\n          "+u+";\n          for(int i = "+i+" -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        ";e[s]=new a.GlslLibRoutine(c)})),e},e}(a.GlslLib);e.ShapeUtilsGlslLib=s},5060:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultFragShaderMain=e.getFragShaderPreamble=e.getVertexShaderSource=e.getGlsl=void 0;var n={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},r={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function o(t){return 1===t?n:r}e.getGlsl=o,e.getVertexShaderSource=function(t){var e=o(t);return e.version+"\n      precision highp float;\n      "+e.attribute+" vec3 position;\n      "+e.attribute+" vec2 textureCoord;\n\n      "+e.varyingVertex+" vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }"},e.getFragShaderPreamble=function(t){var e=o(t);return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFrag+" vec2 TexCoords;\n    "+e.outputDeclaration+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    // Custom vector types to handle higher dimenalities.\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    "},e.getDefaultFragShaderMain=function(t,e){return"\n  void main() {\n    int indices["+e+"];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    "+o(t).output+" = result;\n  }\n  "}},3891:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.VecGlslLib=void 0;var a=n(8520),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.getCustomTypes=function(){return{}},e.prototype.getFunctions=function(){return i(i(i(i({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())},e.prototype.binaryVecFunctions=function(){var t=this.context.outputTextureLayout.shape.length,e={add:"+=",sub:"-=",mul:"*=",div:"/="},n={};for(var r in e){for(var o=r+"Vec",i="",s=0;s<t;++s)i+="\n          dest["+s+"] "+e[r]+" src["+s+"];\n          ";var u="\n        void "+o+"(int src["+t+"], out int dest["+t+"]) {\n          "+i+"\n        }\n        ";n[o]=new a.GlslLibRoutine(u)}return n},e.prototype.copyVec=function(){for(var t=this.context.outputTextureLayout.shape.length,e="",n=0;n<t;++n)e+="\n        dest["+n+"] = src["+n+"];\n        ";var r="\n      void copyVec(int src["+t+"], out int dest["+t+"]) {\n        "+e+"\n      }\n      ";return{copyVec:new a.GlslLibRoutine(r)}},e.prototype.setVecItem=function(){for(var t=this.context.outputTextureLayout.shape.length,e="\n        if(index < 0)\n            index ="+t+" + index;\n        if (index == 0)\n            m[0] = value;\n        ",n=1;n<t-1;++n)e+="\n        else if (index == "+n+")\n            m["+n+"] = value;\n            ";var r="\n      void setVecItem(out int m["+t+"], int index, int value) {\n        "+(e+="\n        else\n            m["+(t-1)+"] = value;\n        ")+"\n      }\n        ";return{setVecItem:new a.GlslLibRoutine(r)}},e.prototype.getVecItem=function(){for(var t=this.context.outputTextureLayout.shape.length,e="\n        if(index < 0)\n            index = "+t+" + index;\n        if (index == 0)\n            return m[0];\n      ",n=1;n<t-1;++n)e+="\n        else if (index == "+n+")\n            return m["+n+"];\n      ";var r="\n      int getVecItem(int m["+t+"], int index) {\n        "+(e+="\n        else\n            return m["+(t-1)+"];\n        ")+"\n      }\n    ";return{getVecItem:new a.GlslLibRoutine(r)}},e}(a.GlslLib);e.VecGlslLib=s},8316:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLInferenceHandler=void 0;var a=n(6231),s=n(9162),u=n(2517),l=n(2403),c=n(7019),f=n(8710),p=n(5611),d=n(4057),h=n(2039),g=function(){function t(t){this.session=t,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}return t.prototype.calculateTextureWidthAndHeight=function(t,e){return d.calculateTextureWidthAndHeight(this.session.layoutStrategy,t,e)},t.prototype.executeProgram=function(t,e){if(e.length<t.inputNames.length)throw new Error("Input size mustn't be less than "+t.inputNames.length+".");if(t.inputNames.length!==t.inputTypes.length)throw new Error("input names size does not match input types");for(var n=[],r=0;r<t.inputNames.length;++r)n[r]=this.getOrCreateTextureData(e[r],t.inputTypes[r]);var o=function(t,e){var n=e.map((function(t){return t.unpackedShape.join(",")+";"+t.width+"x"+t.height})).join("_"),r=t.name;return t.cacheHint&&(r+="["+t.cacheHint+"]"),r+":"+n}(t,n),i=this.session.programManager.getArtifact(o),a=i?i.programInfo:"function"==typeof t.get?t.get():t,s=d.createTextureLayoutFromTextureType(this.session.layoutStrategy,a.output.dims,a.output.textureType),u=this.createTextureData(s,a.output.type);return i||(i=this.session.programManager.build(a,n,u),this.session.programManager.setArtifact(o,i)),this.runProgram(i,n,u),u},t.prototype.run=function(t,e){return this.executeProgram(t,e).tensor},t.prototype.runProgram=function(t,e,n){for(var r=0;r<e.length;++r)if(!!e[r].isPacked!=(t.programInfo.inputTypes[r]===h.TextureType.packed))throw new Error("input["+r+"] property packed inconsistent");if(!!n.isPacked!=(t.programInfo.output.textureType===h.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(t,e,n)},t.prototype.getOrCreateTextureData=function(t,e){var n=this.getTextureData(t.dataId,e===h.TextureType.packed);if(!n&&(n=this.getTextureData(t.dataId,e!==h.TextureType.packed)))return e===h.TextureType.packed?this.pack(n):this.unpack(n);if(!n){var r=d.createTextureLayoutFromTextureType(this.session.layoutStrategy,t.dims,e);if(e===h.TextureType.packedLastDimension){var o=t.dims;if(4===o.length){var i=[o[0],Math.ceil(o[1]*o[2]*o[3]/4)],a=d.createTextureLayoutFromTextureType(this.session.layoutStrategy,i,e),s=t.numberData;if(o[1]*o[2]*o[3]%4!=0){var u=o[0],l=o[1]*o[2]*o[3],c=4*Math.ceil(1*l/4);s=new Float32Array(u*c);for(var f=0;f<u;++f){var p=f*l,g=f*c+f%1*l;s.set(t.numberData.subarray(p,p+l),g)}}return this.createTextureData(a,t.type,s,t,1)}}if(e===h.TextureType.packed){var b=d.createTextureLayoutFromShape(this.session.layoutStrategy,t.dims,1,[],{reverseWH:!0}),y=this.createTextureData(b,t.type,t.numberData,t,1);n=this.pack(y)}else n=this.createTextureData(r,t.type,t.numberData,t,1)}return n},t.prototype.createTextureDataFromLayoutBindTensor=function(t,e,n,r){return this.createTextureData(t,e,n,r,1)},t.prototype.createTextureData=function(t,e,n,r,o){a.Logger.verbose("InferenceHandler","Creating TextureData: layout:["+JSON.stringify(t)+"]");var i=this.session.textureManager.createTextureFromLayout(e,t,n,o);return this.createTextureDataFromTexture(t,e,i,r)},t.prototype.reshapeUnpacked=function(t,e){var n=this.getOrCreateTextureData(t,h.TextureType.unpacked),r={channels:n.channels,height:n.height,width:n.width,shape:0!==e.length?e:[1],strides:u.ShapeUtil.computeStrides(e),unpackedShape:e};return this.createTextureDataFromTexture(r,t.type,n.texture).tensor},t.prototype.reshapePacked=function(t,e){var n=this.getOrCreateTextureData(t,h.TextureType.packed);if(c.isReshapeCheap(t.dims,e)){var r={channels:n.channels,height:n.height,width:n.width,shape:0!==e.length?e:[1],strides:u.ShapeUtil.computeStrides(e),unpackedShape:e,isPacked:!0};return this.createTextureDataFromTexture(r,t.type,n.texture).tensor}var o=c.processDims3D(t.dims),i=c.processDims3D(e),a=this.reshapePacked(t,o),s=this.run(c.createPackedReshape3DProgramInfoLoader(this,a,i),[a]);return this.reshapePacked(s,e)},t.prototype.createTextureDataFromTexture=function(t,e,n,a,u){var l=this,c=r(r({},t),{tensor:a||new s.Tensor(t.unpackedShape,e,(function(t){return l.readTexture(c)}),(function(t){return o(l,void 0,void 0,(function(){return i(this,(function(t){return[2,this.readTextureAsync(c)]}))}))}),void 0,u),texture:n});return this.setTextureData(c.tensor.dataId,c,t.isPacked),c},t.prototype.getTextureData=function(t,e){return void 0===e&&(e=!1),this.session.isInitializer(t)?this.session.getTextureData(t,e):e?this.packedTextureDataCache.get(t):this.unpackedTextureDataCache.get(t)},t.prototype.setTextureData=function(t,e,n){void 0===n&&(n=!1),this.session.isInitializer(t)?this.session.setTextureData(t,e,n):(n?this.packedTextureDataCache:this.unpackedTextureDataCache).set(t,e)},t.prototype.isTextureLayoutCached=function(t,e){return void 0===e&&(e=!1),!!this.getTextureData(t.dataId,e)},t.prototype.dispose=function(){var t=this;this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((function(e){return t.session.textureManager.releaseTexture(e)})),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((function(e){return t.session.textureManager.releaseTexture(e)})),this.unpackedTextureDataCache=new Map},t.prototype.readTexture=function(t){return t.isPacked?this.readTexture(this.unpack(t)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(t,t.tensor.type,t.channels):this.session.textureManager.readUint8TextureAsFloat(f.encodeAsUint8(this,t))},t.prototype.readTextureAsync=function(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){return t.isPacked?[2,this.readTextureAsync(this.unpack(t))]:this.session.backend.glContext.isFloat32DownloadSupported?[2,this.session.textureManager.readTextureAsync(t,t.tensor.type,t.channels)]:[2,this.session.textureManager.readUint8TextureAsFloat(f.encodeAsUint8(this,t))]}))}))},t.prototype.pack=function(t){return this.executeProgram(l.createPackProgramInfoLoader(this,t.tensor),[t.tensor])},t.prototype.unpack=function(t){return this.executeProgram(p.createUnpackProgramInfoLoader(this,t.tensor),[t.tensor])},t}();e.WebGLInferenceHandler=g},1640:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.WEBGL_OP_RESOLVE_RULES=void 0;var a=n(2898),s=i(n(7839)),u=n(2069),l=n(8138),c=n(5193),f=n(7992),p=n(1253),d=n(4776),h=n(6572),g=n(3346),b=n(5623),y=n(2870),m=n(2143),v=n(2143),_=n(2143),w=n(2143),x=n(4939),T=n(4939),S=n(718),O=n(2268),A=n(8117),E=n(2278),P=n(5524),I=n(5975),D=n(3933),k=n(6558),R=n(5723),C=n(3738),N=i(n(4909)),F=n(8428),L=n(9793);e.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",N.abs],["Acos","","7+",N.acos],["Add","","7+",s.add],["And","","7+",s.and],["Asin","","7+",N.asin],["Atan","","7+",N.atan],["AveragePool","","7-10",m.averagePool,m.parseAveragePoolAttributes],["BatchNormalization","","7+",a.batchNormalization,a.parseBatchNormalizationAttributes],["Ceil","","6+",N.ceil],["Clip","","6-10",N.clip,N.parseClipAttributes],["Concat","","4+",u.concat,u.parseConcatAttributes],["Conv","","1+",l.conv,l.parseConvAttributes],["Cos","","7+",N.cos],["Div","","7+",s.div],["Dropout","","7+",N.identity],["DepthToSpace","","1+",c.depthToSpace,c.parseDepthToSpaceAttributes],["Equal","","7+",s.equal],["Elu","","6+",N.elu,N.parseEluAttributes],["Exp","","6+",N.exp],["Flatten","","1+",f.flatten,f.parseFlattenAttributes],["Floor","","6+",N.floor],["Gather","","1+",p.gather,p.parseGatherAttributes],["Gemm","","7-10",d.gemm,d.parseGemmAttributesV7],["Gemm","","11+",d.gemm,d.parseGemmAttributesV11],["GlobalAveragePool","","1+",v.globalAveragePool,v.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",w.globalMaxPool],["Greater","","7+",s.greater],["Identity","","1+",N.identity],["ImageScaler","","1+",h.imageScaler,h.parseImageScalerAttributes],["InstanceNormalization","","6+",g.instanceNormalization,g.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",N.leakyRelu,N.parseLeakyReluAttributes],["Less","","7+",s.less],["Log","","6+",N.log],["MatMul","","1+",b.matMul,b.parseMatMulAttributes],["MaxPool","","1-9",_.maxPool,_.parseMaxPoolAttributes],["Mul","","7+",s.mul],["Neg","","6+",N.neg],["Not","","1+",N.not],["Or","","7+",s.or],["Pad","","2-10",y.pad,y.parsePadAttributes],["Pow","","7+",s.pow],["PRelu","","7+",s.pRelu],["ReduceLogSum","","1+",x.reduceLogSum,T.parseReduceAttributes],["ReduceMax","","1+",x.reduceMax,T.parseReduceAttributes],["ReduceMean","","1+",x.reduceMean,T.parseReduceAttributes],["ReduceMin","","1+",x.reduceMin,T.parseReduceAttributes],["ReduceProd","","1+",x.reduceProd,T.parseReduceAttributes],["ReduceSum","","1+",x.reduceSum,T.parseReduceAttributes],["ReduceSumSquare","","1+",x.reduceLogSumSquare,T.parseReduceAttributes],["Relu","","6+",N.relu],["Reshape","","5+",S.reshape],["Resize","","10",O.resize,O.parseResizeAttributesV10],["Resize","","11+",O.resize,O.parseResizeAttributesV11],["Shape","","1+",A.shape],["Sigmoid","","6+",N.sigmoid],["Sin","","7+",N.sin],["Slice","","10+",E.sliceV10],["Slice","","1-9",E.slice,E.parseSliceAttributes],["Softmax","","1+",P.softmax,P.parseSoftmaxAttributes],["Split","","2+",I.split,I.parseSplitAttributes],["Sqrt","","6+",N.sqrt],["Squeeze","","1+",D.squeeze,D.parseSqueezeAttributes],["Sub","","7+",s.sub],["Sum","","6+",k.sum],["Tan","","7+",N.tan],["Tanh","","6+",N.tanh],["Tile","","6+",R.tile],["Transpose","","1+",C.transpose,C.parseTransposeAttributes],["Upsample","","7-8",L.upsample,L.parseUpsampleAttributesV7],["Upsample","","9",L.upsample,L.parseUpsampleAttributesV9],["Unsqueeze","","1+",F.unsqueeze,F.parseUnsqueezeAttributes],["Xor","","7+",s.xor]]},2898:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.parseBatchNormalizationAttributes=e.batchNormalization=void 0;var i=n(246),a=n(5060),s=n(2039),u={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[s.TextureType.unpacked,s.TextureType.unpacked,s.TextureType.unpacked,s.TextureType.unpacked,s.TextureType.unpacked]};e.batchNormalization=function(t,e,n){return c(e),[t.run(r(r({},u),{cacheHint:n.cacheKey,get:function(){return l(t,e,n)}}),e)]},e.parseBatchNormalizationAttributes=function(t){var e=t.attributes.getFloat("epsilon",1e-5),n=t.attributes.getFloat("momentum",.9),r=t.attributes.getInt("spatial",1);return i.createAttributeWithCacheKey({epsilon:e,momentum:n,spatial:r})};var l=function(t,e,n){var i=a.getGlsl(t.session.backend.glContext.version),l=e[0].dims.length,c=o(t.calculateTextureWidthAndHeight(e[1].dims,s.TextureType.unpacked),2),f="\n  float process(int["+l+"] indices) {\n    vec2 position = offsetToCoords(indices[1], "+c[0]+", "+c[1]+");\n    float scale = getColorAsFloat("+i.texture2D+"(Scale, position));\n    float mean = getColorAsFloat("+i.texture2D+"(Mean, position));\n    float variance = getColorAsFloat("+i.texture2D+"(Variance, position));\n    float b = getColorAsFloat("+i.texture2D+"(B, position));\n\n    return scale * ( (_A(indices) - mean) / sqrt(variance + float("+n.epsilon+")) ) + b;\n  }";return r(r({},u),{output:{dims:e[0].dims,type:e[0].type,textureType:s.TextureType.unpacked},shaderSource:f})},c=function(t){if(!t||5!==t.length)throw new Error("BatchNormalization requires 5 inputs.");var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4];if(e.dims.length<3||1!==n.dims.length||1!==r.dims.length||1!==o.dims.length||1!==i.dims.length)throw new Error("invalid input shape.");if(n.dims[0]!==e.dims[1]||r.dims[0]!==e.dims[1]||o.dims[0]!==e.dims[1]||i.dims[0]!==e.dims[1])throw new Error("invalid input shape.");if("float32"!==e.type&&"float64"!==e.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type||"float32"!==o.type&&"float64"!==o.type||"float32"!==i.type&&"float64"!==i.type)throw new Error("invalid input tensor types.")}},7839:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.xor=e.sub=e.pRelu=e.pow=e.or=e.mul=e.less=e.greater=e.equal=e.div=e.and=e.add=e.glslPRelu=e.glslPow=e.glslXor=e.glslOr=e.glslAnd=e.glslLess=e.glslGreater=e.glslEqual=e.glslSub=e.glslMul=e.glslDiv=e.glslAdd=void 0;var r=n(2517),o=n(8520),i=n(5060),a=n(2039);function s(){return{body:"\n  float add_(float a, float b) {\n    return a + b;\n  }\n  vec4 add_(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  ",name:"add_",type:o.FunctionType.ValueBased}}function u(){return{body:"\n  float div_(float a, float b) {\n    return a / b;\n  }\n  vec4 div_(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  ",name:"div_",type:o.FunctionType.ValueBased}}function l(){return{body:"\n  float mul_(float a, float b) {\n    return a * b;\n  }\n  vec4 mul_(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  ",name:"mul_",type:o.FunctionType.ValueBased}}function c(){return{body:"\n  float sub_(float a, float b) {\n    return a - b;\n  }\n  vec4 sub_(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  ",name:"sub_",type:o.FunctionType.ValueBased}}function f(){return{body:"\n  float equal_(float a, float b) {\n    return float(a == b);\n  }\n  vec4 equal_(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  ",name:"equal_",type:o.FunctionType.ValueBased}}function p(){return{body:"\n  float greater_(float a, float b) {\n    return float(a > b);\n  }\n  vec4 greater_(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  ",name:"greater_",type:o.FunctionType.ValueBased}}function d(){return{body:"\n  float less_(float a, float b) {\n    return float(a < b);\n  }\n  vec4 less_(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  ",name:"less_",type:o.FunctionType.ValueBased}}function h(){return{body:"\n  float and_(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 and_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  ",name:"and_",type:o.FunctionType.ValueBased}}function g(){return{body:"\n  float or_(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 or_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  ",name:"or_",type:o.FunctionType.ValueBased}}function b(){return{body:"\n  float xor_(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 xor_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  ",name:"xor_",type:o.FunctionType.ValueBased}}function y(){return{body:"\n  float pow_(float a, float b) {\n    return pow(a, b);\n  }\n  vec4 pow_(vec4 v1, vec4 v2) {\n    return pow(v1, v2);\n  }\n  ",name:"pow_",type:o.FunctionType.ValueBased}}function m(){return{body:"\n  float prelu_(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 prelu_(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  ",name:"prelu_",type:o.FunctionType.ValueBased}}e.glslAdd=s,e.glslDiv=u,e.glslMul=l,e.glslSub=c,e.glslEqual=f,e.glslGreater=p,e.glslLess=d,e.glslAnd=h,e.glslOr=g,e.glslXor=b,e.glslPow=y,e.glslPRelu=m;var v=function(t,e,n,r,o){void 0===r&&(r=e[0].type);var i=t.session.pack?a.TextureType.packed:a.TextureType.unpacked;return{name:n.name,inputNames:["A","B"],inputTypes:[i,i],cacheHint:o,get:function(){return _(t,e,n,r)}}},_=function(t,e,n,o){void 0===o&&(o=e[0].type);var s=t.session.pack?a.TextureType.packed:a.TextureType.unpacked,u=!r.ShapeUtil.areEqual(e[0].dims,e[1].dims),l=e[0].dims,c=t.session.pack;if(u){var f=r.BroadcastUtil.calcShape(e[0].dims,e[1].dims,!1);if(!f)throw new Error("Can't perform binary op on the given tensors");var p=(l=f).length,d=0!==e[0].dims.length?e[0].dims.length:1,h=0!==e[1].dims.length?e[1].dims.length:1,g=0!==e[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",b=0!==e[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",y=i.getGlsl(t.session.backend.glContext.version),m=c?"\n      "+n.body+"\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        vec4 result = "+n.name+"(a, b);\n        "+y.output+" = result;\n      }":"\n      "+n.body+"\n      float process(int indices["+p+"]) {\n        int aindices["+d+"];\n        int bindices["+h+"];\n        "+g+"\n        "+b+"\n        return "+n.name+"(_A(aindices), _B(bindices));\n      }";return{name:n.name,inputNames:["A","B"],inputTypes:[s,s],output:{dims:l,type:o,textureType:s},shaderSource:m,hasMain:c}}var v=i.getGlsl(t.session.backend.glContext.version),_="\n    "+n.body+"\n    void main() {\n      vec4 v1 = "+v.texture2D+"(A, TexCoords);\n      vec4 v2 = "+v.texture2D+"(B, TexCoords);\n      vec4 result = "+n.name+"(v1, v2);\n      "+v.output+" = result;\n    }\n    ";return{name:n.name,inputNames:["A","B"],inputTypes:[s,s],output:{dims:e[0].dims,type:o,textureType:s},shaderSource:_,hasMain:!0}};e.add=function(t,e){return[t.run(v(t,e,s()),e)]},e.and=function(t,e){return[t.run(v(t,e,h(),"bool"),e)]},e.div=function(t,e){return[t.run(v(t,e,u()),e)]},e.equal=function(t,e){return[t.run(v(t,e,f(),"bool"),e)]},e.greater=function(t,e){return[t.run(v(t,e,p(),"bool"),e)]},e.less=function(t,e){return[t.run(v(t,e,d(),"bool"),e)]},e.mul=function(t,e){return[t.run(v(t,e,l()),e)]},e.or=function(t,e){return[t.run(v(t,e,g(),"bool"),e)]},e.pow=function(t,e){return[t.run(v(t,e,y()),e)]},e.pRelu=function(t,e){return[t.run(v(t,e,m()),e)]},e.sub=function(t,e){return[t.run(v(t,e,c()),e)]},e.xor=function(t,e){return[t.run(v(t,e,b(),"bool"),e)]}},1163:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.createPackedConcatProgramInfoLoader=void 0;var o=n(5060),i=n(2039),a=n(9390),s=n(2827);e.createPackedConcatProgramInfoLoader=function(t,e,n){var l,c,f=(l=e.length,c=n.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:l},(function(t,e){return"X"+e})),inputTypes:Array(l).fill(i.TextureType.packed),cacheHint:c});return r(r({},f),{get:function(){return function(t,e,n,l){var c=n[0].dims.slice();if(l>=c.length||l<-1*c.length)throw new Error("axis specified for concat doesn't match input dimensionality");l<0&&(l=c.length+l);for(var f=c.slice(0),p=1;p<n.length;p++)for(var d=n[p].dims.slice(),h=0;h<c.length;h++)if(h===l)f[l]+=d[h];else if(c[h]!==d[h])throw new Error("non concat dimensions must match");var g=f.length,b=s.getChannels("coords",g),y=a.getCoordsDataType(g),m=s.unpackFromChannel(),v=n.map((function(t){return t.dims})),_=a.getGlChannels(g),w=new Array(v.length-1);for(w[0]=v[0][l],p=1;p<w.length;p++)w[p]=w[p-1]+v[p][l];var x=_[l],T=_.slice(-2),S=_.join(),O="if ("+x+" < "+w[0]+") {\n        return getChannel(\n            getX0("+S+"), vec2("+T.join()+"));\n        }";for(p=1;p<w.length;p++){var A=w[p-1];O+="\n            if ("+x+" < "+w[p]+"  && "+x+" >= "+w[p-1]+") {\n              return getChannel(\n                getX"+p+"("+u(_,x,A)+"),\n                vec2("+u(T,x,A)+"));\n            }"}var E=w.length,P=w[w.length-1];O+="\n            return getChannel(\n              getX"+E+"("+u(_,x,P)+"),\n              vec2("+u(T,x,P)+"));";var I=o.getGlsl(t.session.backend.glContext.version),D="\n          "+m+"\n          float getValue("+_.map((function(t){return"int "+t}))+") {\n            "+O+"\n          }\n\n          void main() {\n            "+y+" coords = getOutputCoords();\n            int lastDim = coords."+_[g-1]+";\n            coords."+_[g-1]+" = coords."+_[g-2]+";\n            coords."+_[g-2]+" = lastDim;\n\n            vec4 result = vec4(getValue("+b+"), 0., 0., 0.);\n\n            "+b[g-1]+" = "+b[g-1]+" + 1;\n            if ("+b[g-1]+" < "+f[g-1]+") {\n              result.g = getValue("+b+");\n            }\n\n            "+b[g-2]+" = "+b[g-2]+" + 1;\n            if ("+b[g-2]+" < "+f[g-2]+") {\n              result.a = getValue("+b+");\n            }\n\n            "+b[g-1]+" = "+b[g-1]+" - 1;\n            if ("+b[g-2]+" < "+f[g-2]+" &&\n                "+b[g-1]+" < "+f[g-1]+") {\n              result.b = getValue("+b+");\n            }\n            "+I.output+" = result;\n          }\n        ";return r(r({},e),{output:{dims:f,type:n[0].type,textureType:i.TextureType.packed},shaderSource:D,hasMain:!0})}(t,f,e,n.axis)}})};var u=function(t,e,n){var r=t.indexOf(e);return t.map((function(t,e){return e===r?t+" - "+n:t})).join()}},2069:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.parseConcatAttributes=e.concat=void 0;var i=n(246),a=n(2039),s=n(1163);e.concat=function(t,e,n){return d(e),t.session.pack&&e[0].dims.length>1?[t.run(s.createPackedConcatProgramInfoLoader(t,e,n),e)]:[t.run(u(t,e,n),e)]};var u=function(t,e,n){var o,i,s=(o=e.length,i=n.cacheKey,{name:"Concat",inputNames:Array.from({length:o},(function(t,e){return"X"+e})),inputTypes:Array(o).fill(a.TextureType.unpacked),cacheHint:i});return r(r({},s),{get:function(){return function(t,e,n,o){var i=n[0].dims.slice();if(o>=i.length||o<-1*i.length)throw new Error("axis specified for concat doesn't match input dimensionality");o<0&&(o=i.length+o);for(var s=i.slice(0),u=1;u<n.length;u++)for(var d=n[u].dims.slice(),h=0;h<i.length;h++)if(h===o)s[o]+=d[h];else if(i[h]!==d[h])throw new Error("non concat dimensions must match");var y,g=s.length,b=new Array(n.length),m=0;for(u=0;u<b.length;++u)m+=n[u].dims[o],b[u]=m;y=n.length<5?l(b):c(b);var v="\n        "+f(n.length,g)+"\n        "+p(b)+"\n        "+y+"\n        float process(int indices["+g+"]) {\n          int textureIndex = getTextureWhereDataResides (indices["+o+"]);\n\n          if(textureIndex != 0) {\n            indices["+o+"] = indices["+o+"] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));\n          }\n\n          return fetchDataFromCorrectTexture(textureIndex, indices);\n        }";return r(r({},e),{output:{dims:s,type:n[0].type,textureType:a.TextureType.unpacked},shaderSource:v})}(0,s,e,n.axis)}})},l=function(t){return"int getTextureWhereDataResides(int index) {\n      "+t.map((function(t,e){return"if(index<"+t+") {return "+e+";}\n"})).join("")+"\n    }"},c=function(t){return l(t)},f=function(t,e){for(var n=["float fetchDataFromCorrectTexture(int textureIndex, int indices["+e+"]) {"],r=0;r<t;++r)0===r?n.push("\tif (textureIndex == "+r+") { return _X"+r+"(indices); }"):r===t-1?n.push("\telse { return _X"+r+"(indices); }"):n.push("\telse if (textureIndex == "+r+") { return _X"+r+"(indices); }");return n.push("\t}"),n.join("\n")},p=function(t){for(var e=["int getSizeInConcatAxisValueFromIndex(int index) {"],n=0;n<t.length;++n)0===n?e.push("\tif (index == "+n+") { return "+t[n]+"; }"):n===t.length-1?e.push("\telse { return "+t[n]+"; }"):e.push("\telse if (index == "+n+") { return "+t[n]+"; }");return e.push("\t}"),e.join("\n")};e.parseConcatAttributes=function(t){return i.createAttributeWithCacheKey({axis:t.attributes.getInt("axis")})};var d=function(t){var e,n;if(!t||t.length<1)throw new Error("too few inputs");var r=t[0].type,i=t[0].dims.length;if("string"===r)throw new Error("string tensor is not supported yet");try{for(var a=o(t),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.type!==r)throw new Error("input tensors should be one type");if(u.dims.length!==i)throw new Error("input tensors should have the same shape")}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}}},4770:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.createUnpackedGroupedConvProgramInfoLoader=void 0;var o=n(6231),i=n(5060),a=n(2039),s=n(8138),u=n(2823);e.createUnpackedGroupedConvProgramInfoLoader=function(t,e,n){var l,c,f=(l=e.length>2,c=n.cacheKey,{name:"GroupedConv",inputNames:l?["X","W","Bias"]:["X","W"],inputTypes:l?[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]:[a.TextureType.unpacked,a.TextureType.unpacked],cacheHint:c});return r(r({},f),{get:function(){return function(t,e,n,l){var c=e.length>2?"value += getBias(output_channel);":"",f=e[0].dims.slice(),p=e[1].dims.slice(),d=p[0]/l.group;o.Logger.verbose("GroupedConv","autpPad:"+l.autoPad+", dilations:"+l.dilations+", group:"+l.group+", kernelShape:"+l.kernelShape+", pads:"+l.pads+", strides:"+l.strides);var h=s.calculateOutputShape(f,p,l.dilations,l.pads,l.strides),g=i.getGlsl(t.session.backend.glContext.version),b=u.getActicationSnippet(l),y=b.activationFunction,m=b.applyActivation,v="\n  const ivec2 strides = ivec2("+l.strides[0]+", "+l.strides[1]+");\n  const ivec2 pads = ivec2("+l.pads[0]+", "+l.pads[1]+");\n  "+y+"\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n    ivec2 xRCCorner = coords.zw * strides - pads;\n    int group_id = output_channel / "+d+";\n\n    float value = 0.0;\n    for (int wInChannel = 0; wInChannel < "+p[1]+"; wInChannel++) {\n      int input_channel = group_id * "+p[1]+" + wInChannel;\n      for (int wHeight = 0; wHeight < "+p[2]+"; wHeight++) {\n        int xHeight = xRCCorner.x + wHeight * "+l.dilations[0]+";\n\n        if (xHeight < 0 || xHeight >= "+f[2]+") {\n          continue;\n        }\n\n        for (int wWidth = 0; wWidth < "+p[3]+"; wWidth++) {\n          int xWidth = xRCCorner.y + wWidth * "+l.dilations[1]+";\n          if (xWidth < 0 || xWidth >= "+f[3]+") {\n            continue;\n          }\n\n          float xVal = getX(batch, input_channel, xWidth, xHeight);\n          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);\n          value += xVal*wVal;\n        }\n      }\n    }\n    "+c+"\n    "+m+"\n    "+g.output+" = vec4(value, .0, .0, .0);\n  }\n";return r(r({},n),{output:{dims:h,type:e[0].type,textureType:a.TextureType.unpacked},shaderSource:v,hasMain:!0})}(t,e,f,n)}})}},1386:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.conv2DPacked=e.conv2DPackedPointwise=void 0;var r=n(8138),o=n(8555),i=n(708);e.conv2DPackedPointwise=function(t,e,n){var o=e[0].dims,a=e[1].dims,s=r.calculateOutputShape(o,a,n.dilations,n.pads,n.strides),u=t.reshapePacked(e[0],[o[1],o[2]*o[3]]),l=t.reshapePacked(e[1],[a[0],a[1]]),c=e.length>2?[l,u,e[2]]:[l,u],f=t.run(i.createPackedMatmulProgramInfoLoader(t,c,n),c);return t.reshapePacked(f,s)},e.conv2DPacked=function(t,e,n){var a=e[0].dims,s=e[1].dims,u=r.calculateOutputShape(a,s,n.dilations,n.pads,n.strides),l=t.run(o.createPackedIm2ColProgramInfoLoader(t,e[0],e[1],u,n),[e[0]]),c=t.reshapePacked(e[1],[s[0],s[1]*s[2]*s[3]]),f=3===e.length?[c,l,e[2]]:[c,l],p=t.run(i.createPackedMatmulProgramInfoLoader(t,f,n),f);return t.reshapePacked(p,u)}},8138:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.parseConvAttributes=e.conv=e.calculateOutputShape=void 0;var a=n(246),s=n(2517),u=n(4770),l=n(1386),c=n(9828),f=n(2823),p=n(3248),d=n(5623);e.calculateOutputShape=function(t,e,n,r,a){var s,u=t[0],l=t.slice(2),c=l.length,f=e[0],p=e.slice(2).map((function(t,e){return t+(t-1)*(n[e]-1)})),d=l.map((function(t,e){return t+r[e]+r[e+c]})).map((function(t,e){return Math.floor((t-p[e]+a[e])/a[e])}));return(s=[u,f]).concat.apply(s,i([],o(d)))},e.conv=function(t,e,n){return m(e,n),h(t,e,n)};var h=function(t,e,n){var r=y(n,e),o=t.session.pack,i=1===r.kernelShape[0]&&1===r.kernelShape[1];return r.group>1?[t.run(u.createUnpackedGroupedConvProgramInfoLoader(t,e,r),e)]:i&&o?[g(t,e,r)]:o&&4===e[0].dims.length&&1===e[0].dims[0]&&!i?[l.conv2DPacked(t,e,r)]:[b(t,e,r)]},g=function(t,n,r){var o=n[0].dims,i=n[1].dims,a=e.calculateOutputShape(o,i,r.dilations,r.pads,r.strides),s=t.reshapeUnpacked(n[0],[o[1],o[2]*o[3]]),u=t.reshapeUnpacked(n[1],[i[0],i[1]]),l=n.length>2?[u,s,n[2]]:[u,s],c=t.run(d.createMatmulProgramInfoLoader(l,r),l);return t.reshapeUnpacked(c,a)},b=function(t,n,r){var o=n[0].dims,i=n[1].dims,a=e.calculateOutputShape(o,i,r.dilations,r.pads,r.strides),s=t.run(p.createIm2ColProgramInfoLoader(t,n[0],n[1],a,r),[n[0]]),u=3===n.length?[s,n[1],n[2]]:[s,n[1]];return t.run(c.createDotProductProgramInfoLoader(t,n,a,r),u)},y=function(t,e){var n=t.kernelShape.slice();if(0===t.kernelShape.length)for(var r=2;r<e[1].dims.length;++r)n.push(e[1].dims[r]);var o=t.pads.slice();s.PoolConvUtil.adjustPadsBasedOnAutoPad(e[0].dims,t.strides,t.dilations,n,o,t.autoPad);var i=Object.assign({},t);return Object.assign(i,{kernelShape:n,pads:o,cacheKey:t.cacheKey}),i};e.parseConvAttributes=function(t){var e=t.attributes,n=f.parseInternalActivationAttributes(e),o=e.getString("auto_pad","NOTSET"),i=e.getInts("dilations",[1,1]),s=e.getInt("group",1),u=e.getInts("kernel_shape",[]),l=e.getInts("pads",[0,0,0,0]),c=e.getInts("strides",[1,1]);return a.createAttributeWithCacheKey(r({autoPad:o,dilations:i,group:s,kernelShape:u,pads:l,strides:c},n))};var m=function(t,e){if(!t||2!==t.length&&3!==t.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==t[0].dims.length||4!==t[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(t[0].dims[1]!==t[1].dims[1]*e.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===t.length&&(1!==t[2].dims.length||t[1].dims[0]!==t[2].dims[0]))throw new Error("invalid bias");var n=t[0].dims.length-2;if(e.dilations.length!==n)throw new Error("dilations should be "+n+"D");if(e.strides.length!==n)throw new Error("strides should be "+n+"D");if(e.pads.length!==2*n)throw new Error("pads should be "+2*n+"D");if(0!==e.kernelShape.length&&e.kernelShape.length!==t[1].dims.length-2)throw new Error("invalid kernel shape");if("float32"!==t[0].type||"float32"!==t[1].type)throw new Error("Conv input(X,W) should be float tensor");if(3===t.length&&"float32"!==t[2].type)throw new Error("Conv input(bias) should be float tensor")}},5193:function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.parseDepthToSpaceAttributes=e.depthToSpace=void 0;var o=n(3738);e.depthToSpace=function(t,e,n){i(e);var a=n.blocksize,s=a*a,u="DCR"===n.mode?[0,3,4,1,5,2]:[0,1,4,2,5,3],l="DCR"===n.mode?[e[0].dims[0],a,a,e[0].dims[1]/s,e[0].dims[2],e[0].dims[3]]:[e[0].dims[0],e[0].dims[1]/s,a,a,e[0].dims[2],e[0].dims[3]],c=t.reshapeUnpacked(e[0],l),f={perm:u,cacheKey:""+u},p=r(o.transpose(t,[c],f),1)[0],d=[e[0].dims[0],e[0].dims[1]/s,e[0].dims[2]*a,e[0].dims[3]*a];return[t.reshapeUnpacked(p,d)]},e.parseDepthToSpaceAttributes=function(t){var e=t.attributes.getInt("blocksize");if(e<1)throw new Error("blocksize must be >= 1, but got : "+e+" for DepthToSpace");var n=t.attributes.getString("mode","DCR");if("DCR"!==n&&"CRD"!==n)throw new Error("unrecognized mode: "+n+" for DepthToSpace");return{mode:n,blocksize:e}};var i=function(t){if(1!==t.length)throw new Error("DepthToSpace expect 1 inputs, but got "+t.length);if("string"===t[0].type||4!==t[0].dims.length)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.createDotProductProgramInfoLoader=void 0;var i=n(2517),a=n(5060),s=n(2039),u=n(2823),l=n(3248);e.createDotProductProgramInfoLoader=function(t,e,n,c){var f=function(t,e){return{name:"ConvDotProduct",inputNames:t?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:t?[s.TextureType.unpacked,s.TextureType.packedLastDimension,s.TextureType.unpacked]:[s.TextureType.unpacked,s.TextureType.packedLastDimension],cacheKey:e.activationCacheKey}}(e.length>2,c);return r(r({},f),{get:function(){return function(t,e,n,c,f){var p=n[0].dims,d=n[1].dims,h=[d[0],Math.ceil(p[1]*d[2]*d[3]/4)],g=l.calculateIm2ColDims(p,d,c),b=o(t.calculateTextureWidthAndHeight(h,s.TextureType.packedLastDimension),2),y=b[0],m=b[1],v=i.ShapeUtil.computeStrides(g),_=o(t.calculateTextureWidthAndHeight(g,s.TextureType.packedLastDimension),2),w=_[0],x=_[1],T=c.length,S=n.length<3?"0.0":"_B(b)",O=Math.ceil(p[1]*d[2]*d[3]/4),A=u.getActicationSnippet(f),E=A.activationFunction,P=A.applyActivation,I=a.getGlsl(t.session.backend.glContext.version),D="\n"+E+"\nfloat process(int indices["+T+"]) {\n  int b[1];\n  b[0] = indices[1];\n  int im2col[4];\n  im2col[0] = indices[0];\n  im2col[1] = indices[2];\n  im2col[2] = indices[3];\n  int im2colOffset = im2col[0] * "+v[0]+" + im2col[1] * "+v[1]+" + im2col[2] * "+v[2]+";\n  int kernelOffset = indices[1] * "+h[1]+";\n  float value = "+S+";\n  for (int i = 0; i < "+O+"; ++i) {\n    vec2 im2colCoords = offsetToCoords(im2colOffset, "+w+", "+x+");\n    vec2 kernelCoords = offsetToCoords(kernelOffset, "+y+", "+m+");\n    value += dot("+I.texture2D+"(Im2Col, im2colCoords), "+I.texture2D+"(K, kernelCoords));\n    ++im2colOffset;\n    ++kernelOffset;\n  }\n  "+P+"\n  return value;\n}";return r(r({},e),{output:{dims:c,type:n[0].type,textureType:s.TextureType.unpacked},shaderSource:D})}(t,f,e,n,c)}})}},7992:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseFlattenAttributes=e.flatten=void 0;var r=n(2517);e.flatten=function(t,e,n){o(e,n);var i=r.ShapeUtil.flattenShape(e[0].dims,n);return[t.reshapeUnpacked(e[0],i)]},e.parseFlattenAttributes=function(t){return t.attributes.getInt("axis",1)};var o=function(t,e){if(!t||1!==t.length)throw new Error("Flatten requires 1 input.");var n=t[0].dims.length;if(0===n)throw new Error("scalar tensor is not supported.");if(e<-n||e>n)throw new Error("Invalid axis");if("string"===t[0].type)throw new Error("string tensor is not supported.")}},2823:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseInternalActivationAttributes=e.getActicationSnippet=void 0;var r=n(4909);e.getActicationSnippet=function(t){var e;switch(t.activation){case"Relu":e=r.glslRelu();break;case"Sigmoid":e=r.glslSigmoid();break;case"Clip":e=r.glslClip(t.clipMin,t.clipMax);break;default:return{activationFunction:"",applyActivation:""}}var n=e.name;return{activationFunction:e.body,applyActivation:"value = "+n+"_(value);"}},e.parseInternalActivationAttributes=function(t){var e=t.getString("__internal_activation","");if("Clip"===e){var n=t.getFloat("__clip_max",3402823e32),r=t.getFloat("__clip_min",-3402823e32);return{activation:e,clipMax:n,clipMin:r,activationCacheKey:e+":"+r+","+n}}return{activation:e,activationCacheKey:e}}},1253:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.parseGatherAttributes=e.gather=void 0;var o=n(246),i=n(782),a=n(2517),s=n(2039);e.gather=function(t,e,n){return c(e,n.axis),[t.run(l(t,e,n),e)]},e.parseGatherAttributes=function(t){return o.createAttributeWithCacheKey({axis:t.attributes.getInt("axis",0)})};var u={name:"Gather",inputNames:["A","B"],inputTypes:[s.TextureType.unpacked,s.TextureType.unpacked]},l=function(t,e,n){var o=r(r({},u),{cacheHint:n.cacheKey});return r(r({},o),{get:function(){return function(t,e,n,o){var i=n[0].dims.slice(),u=n[1].dims.slice(),l=new Array(i.length+u.length-1);o=a.ShapeUtil.normalizeAxis(o,i.length);for(var c=[],f=0;f<l.length;f++)f<o?(l[f]=i[f],c.push("inputIdx["+f+"] = outputIdx["+f+"];")):f<o+u.length?(l[f]=u[f-o],c.push("indexDataIdx["+(f-o)+"] = outputIdx["+f+"];")):(l[f]=i[f-u.length+1],c.push("inputIdx["+(f-u.length+1)+"] = outputIdx["+f+"];"));var p="\n      float process(int outputIdx["+(l.length||1)+"]) {\n        int inputIdx["+i.length+"];\n        int indexDataIdx["+(u.length||1)+"];\n        indexDataIdx[0] = 0;\n        "+c.join("\n        ")+"\n        int idx = int(_B(indexDataIdx));\n        inputIdx["+o+"] = idx < 0 ? idx + "+i[o]+" : idx;\n        return _A(inputIdx);\n      }";return r(r({},e),{output:{dims:l,type:n[0].type,textureType:s.TextureType.unpacked},shaderSource:p})}(0,o,e,n.axis)}})},c=function(t,e){if(!t||2!==t.length)throw new Error("Gather requires 2 inputs.");var n=t[0].dims.length;if(n<1)throw new Error("Invalid input shape.");if(e<-n||e>n-1)throw new Error("Invalid axis.");if(-1===i.NUMBER_TYPES.indexOf(t[0].type))throw new Error("Invaid input type.");if("int32"!==t[1].type&&"int16"!==t[1].type)throw new Error("Invaid input type.")}},4776:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.parseGemmAttributesV11=e.parseGemmAttributesV7=e.gemm=void 0;var i=n(246),a=n(2517),s=n(2039);e.gemm=function(t,e,n){return f(e,n),[t.run(l(e,n),e)]};var u=function(t,e){var n=0!==t.attributes.getInt("transA",0),r=0!==t.attributes.getInt("transB",0),o=t.attributes.getFloat("alpha",1),a=t.attributes.getFloat("beta",1);return i.createAttributeWithCacheKey({transA:n,transB:r,alpha:o,beta:a,isOptionalC:e})};e.parseGemmAttributesV7=function(t){return u(t,!1)},e.parseGemmAttributesV11=function(t){return u(t,!0)};var l=function(t,e){var n={name:"Gemm",inputNames:3===t.length?["A","B","C"]:["A","B"],inputTypes:3===t.length?[s.TextureType.unpacked,s.TextureType.unpacked,s.TextureType.unpacked]:[s.TextureType.unpacked,s.TextureType.unpacked],key:e.cacheKey};return r(r({},n),{get:function(){return c(n,t,e)}})},c=function(t,e,n){var i=e[0].dims.slice(),u=e[1].dims.slice(),l=o(a.GemmUtil.getShapeOfGemmResult(i,n.transA,u,n.transB,3===e.length?e[2].dims:void 0),2),c=[l[0],l[1]];if(!c)throw new Error("Can't use gemm on the given tensors");var f=i[i.length-1],p="";n.transA&&(f=i[0]),n.transA&&n.transB?p="value += _A_T(a) * _B_T(b);":n.transA&&!n.transB?p="value += _A_T(a) * _B(b);":!n.transA&&n.transB?p="value += _A(a) * _B_T(b);":n.transA||n.transB||(p="value += _A(a) * _B(b);");var d=c.length,h="\n      float process(int indices["+d+"]) {\n          int a["+d+"];\n          int b["+d+"];\n          "+(3===e.length?"int c["+e[2].dims.length+"];":"")+"\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          "+(3===e.length?"bcastIndices_C(indices, c);":"")+"\n\n          float value = 0.0;\n          for (int k=0; k<"+f+"; ++k) {\n              a["+(d-1)+"] = k;\n              b["+(d-2)+"] = k;\n              "+p+"\n          }\n\n          value = value * alpha;\n          "+(3===e.length?"value += beta * _C(c);":"")+"\n          return value;\n      }";return r(r({},t),{output:{dims:c,type:e[0].type,textureType:s.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:n.alpha},{name:"beta",type:"float",data:n.beta}],shaderSource:h})},f=function(t,e){if(!t)throw new Error("Input is missing");if(e.isOptionalC&&(t.length<2||t.length>3))throw new Error("Invaid input shape.");if(!e.isOptionalC&&3!==t.length)throw new Error("Gemm requires 3 inputs");if(3===t.length&&1!==t[2].dims.length&&2!==t[2].dims.length)throw new Error("Invalid input shape of C");if("float32"!==t[0].type&&"float64"!==t[0].type||"float32"!==t[1].type&&"float64"!==t[1].type||3===t.length&&"float32"!==t[2].type&&"float64"!==t[2].type)throw new Error("Invalid input type.");if(t[0].type!==t[1].type||3===t.length&&t[0].type!==t[2].type)throw new Error("Input types are mismatched")}},8555:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.createPackedIm2ColProgramInfoLoader=void 0;var o=n(5060),i=n(2039),a=n(2827);e.createPackedIm2ColProgramInfoLoader=function(t,e,n,s,u){var l,c=(l=u.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[i.TextureType.packed],cacheHint:l});return r(r({},c),{get:function(){return function(t,e,n,s,u,l){for(var c=n.dims,f=s.dims,p=u.length,d=[f[1]*f[2]*f[3],u[2]*u[3]],h=f[2]*f[3],g=a.unpackFromChannel(),b=o.getGlsl(t.session.backend.glContext.version),y="",m=0;m<=1;m++)for(var v=0;v<=1;v++)y+="\n            blockIndex = rc.x + "+v+";\n            pos = rc.y + "+m+";\n\n            if(blockIndex < "+d[1]+" && pos < "+d[0]+") {\n              offsetY = int(blockIndex / ("+u[p-1]+")) * "+l.strides[0]+" - "+l.pads[0]+";\n              d0 = offsetY + "+l.dilations[0]+" * (imod(pos, "+h+") / "+f[2]+");\n\n              if(d0 < "+c[2]+" && d0 >= 0) {\n                offsetX = imod(blockIndex, "+u[p-1]+") * "+l.strides[1]+" - "+l.pads[1]+";\n                d1 = offsetX + "+l.dilations[1]+" * imod(imod(pos, "+h+"), "+f[2]+");\n\n                if(d1 < "+c[3]+" && d1 >= 0) {\n\n                  ch = int(float(pos)/ "+h+".);\n                    innerDims = vec2(d0, d1);\n                    result["+(2*m+v)+"] = getChannel(\n                      getA(0, ch, int(innerDims.x),\n                      int(innerDims.y)), innerDims);\n                }\n              }\n            }\n\n          ";var _="\n      "+g+"\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n          vec4 result = vec4(0.0);\n          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n          vec2 innerDims;\n          "+y+"\n          "+b.output+" = result;\n      }\n            ";return r(r({},e),{output:{dims:d,type:n.type,textureType:i.TextureType.packed},shaderSource:_,hasMain:!0})}(t,c,e,n,s,u)}})}},3248:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.calculateIm2ColDims=e.createIm2ColProgramInfoLoader=void 0;var o=n(2039);e.createIm2ColProgramInfoLoader=function(t,n,i,a,s){var u,l=(u=s.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[o.TextureType.unpacked],cacheHint:u});return r(r({},l),{get:function(){return function(t,n,i,a,s,u){var l=i.dims,c=a.dims,f=s.length,p=e.calculateIm2ColDims(l,c,s,4),d="\n        const int XC = "+l[1]+";\n        const int XH = "+l[2]+";\n        const int XW = "+l[3]+";\n        const int KH = "+u.kernelShape[0]+";\n        const int KW = "+u.kernelShape[1]+";\n        const int dilationH = "+u.dilations[0]+";\n        const int dilationW = "+u.dilations[1]+";\n        const int strideH = "+u.strides[0]+";\n        const int strideW = "+u.strides[1]+";\n        const int padH = "+u.pads[0]+";\n        const int padW = "+u.pads[1]+";\n        const int KHKW = KH*KW;\n        const int XCKHKW = XC * KHKW;\n        const int outputChannels = 4;\n        vec4 process(int indices["+f+"]) {\n          int b  = indices[0]; // batch size\n          int oh = indices[1] * strideH - padH; //output height\n          int ow = indices[2] * strideW - padW; //output width\n          int p = indices[3] * outputChannels; //patch\n          vec4 value = vec4(0.0);\n          for(int i=0; i < outputChannels; ++i) {\n            if(p < XCKHKW) {\n              int patchC = p / KHKW;\n              int patchH = (p - patchC*KHKW) / KW;\n              int patchW = (p - patchC*KHKW) - patchH * KW;\n              int xh2 = oh + patchH * dilationH;\n              int xw2 = ow + patchW * dilationW;\n              int x["+l.length+"];\n              x[0] = b;\n              x[1] = patchC;\n              x[2] = xh2;\n              x[3] = xw2;\n              if(xh2 >= 0 &&\n                  xh2 < XH &&\n                  xw2 >= 0 &&\n                  xw2 < XW) {\n                value[i] = _X(x);\n              }\n            }\n            ++p;\n          }\n          return value;\n        }\n        ";return r(r({},n),{output:{dims:p,type:i.type,textureType:o.TextureType.packedLastDimension},shaderSource:d})}(0,l,n,i,a,s)}})},e.calculateIm2ColDims=function(t,e,n,r){return void 0===r&&(r=4),[n[0],n[2],n[3],Math.ceil(t[1]*e[2]*e[3]/r)]}},6572:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.parseImageScalerAttributes=e.imageScaler=void 0;var o=n(246),i=n(2039);e.imageScaler=function(t,e,n){return l(e),[t.run(s(t,e,n),e)]},e.parseImageScalerAttributes=function(t){var e=t.attributes.getFloat("scale"),n=t.attributes.getFloats("bias");return o.createAttributeWithCacheKey({scale:e,bias:n})};var a={name:"ImageScaler",inputNames:["X"],inputTypes:[i.TextureType.unpacked]},s=function(t,e,n){var o=r(r({},a),{cacheHint:n.cacheKey});return r(r({},o),{get:function(){return function(t,e,n,o){var a=n[0].dims.slice(),s=a.length,l="\n      "+u(o.bias.length)+"\n      float process(int indices["+s+"]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }";return r(r({},e),{output:{dims:a,type:n[0].type,textureType:i.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:o.bias.length,data:o.bias},{name:"scale",type:"float",data:o.scale}],shaderSource:l})}(0,o,e,n)}})},u=function(t){for(var e=["float getBias(float bias["+t+"], int channel) {"],n=0;n<t;++n)0===n?e.push("\tif (channel == "+n+") { return bias["+n+"]; }"):n===t-1?e.push("\telse { return bias["+n+"]; }"):e.push("\telse if (channel == "+n+") { return bias["+n+"]; }");return e.push("\t}"),e.join("\n")},l=function(t){if(!t||1!==t.length)throw new Error("ImageScaler requires 1 input.");if(4!==t[0].dims.length)throw new Error("Invalid input shape.");if("float32"!==t[0].type&&"float64"!==t[0].type)throw new Error("Invalid input type.")}},3346:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.parseInstanceNormalizationAttributes=e.instanceNormalization=void 0;var i=n(5060),a=n(2039);e.instanceNormalization=function(t,e,n){f(e);var r=t.run(u(e[0]),e);return[t.run(c(t,e[0],n,r.dims),[e[0],r,e[1],e[2]])]},e.parseInstanceNormalizationAttributes=function(t){return t.attributes.getFloat("epsilon",1e-5)};var s={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[a.TextureType.unpacked]},u=function(t){return r(r({},s),{get:function(){return function(t,e){var n=e.dims.slice(),o=n[1],i=n[2]*n[3],s=[n[0],o],u="\n      vec4 process(int[2] indices) {\n        vec4 v = vec4(0.0);\n        int a[4];\n        a[0] = indices[0];\n        a[1] = indices[1];\n        float temp = 0.0;\n        for(int a2=0; a2<"+n[2]+"; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<"+n[3]+"; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += x;\n          }\n        }\n        float mean = temp / float("+i+");\n        temp = 0.0;\n        for(int a2=0; a2<"+n[2]+"; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<"+n[3]+"; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += (x - mean) * (x - mean);\n          }\n        }\n        v.r = mean;\n        v.g = temp / float("+i+");\n\n        return v;\n      }";return r(r({},t),{output:{dims:s,type:e.type,textureType:a.TextureType.packedLastDimension},shaderSource:u})}(s,t)}})},l={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[a.TextureType.unpacked,a.TextureType.packedLastDimension,a.TextureType.unpacked,a.TextureType.unpacked]},c=function(t,e,n,s){var u=r(r({},l),{cacheHint:""+n});return r(r({},u),{get:function(){return function(t,e,n,s,u){var l=i.getGlsl(t.session.backend.glContext.version),c=o(t.calculateTextureWidthAndHeight(u,a.TextureType.packedLastDimension),2),f=c[0],p=c[1],d=o([f/4,p],2),h="\n      vec4 get_MeanAndVariance(int[2] mv) {\n        int offset = indicesToOffset_MeanAndVariance(mv);\n        vec2 coords = offsetToCoords(offset, "+d[0]+", "+d[1]+");\n        return "+l.texture2D+"(MeanAndVariance, coords);\n      }\n\n      float process(int[4] indices) {\n        int mv[2];\n        mv[0] = indices[0];\n        mv[1] = indices[1];\n        vec4 mean_and_variance = get_MeanAndVariance(mv);\n        float mean = mean_and_variance.r;\n        float variance = mean_and_variance.g;\n\n        int sb[1];\n        sb[0] = indices[1];\n        float scale = _Scale(sb);\n        float b = _B(sb);\n\n        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n      }";return r(r({},e),{output:{dims:n.dims,type:n.type,textureType:a.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:s}],shaderSource:h})}(t,u,e,n,s)}})},f=function(t){if(!t||3!==t.length)throw new Error("InstanceNormalization requires 3 inputs.");var e=t[0],n=t[1],r=t[2];if(e.dims.length<3||1!==n.dims.length||1!==r.dims.length)throw new Error("Invalid input shape.");if(n.dims[0]!==e.dims[1]||r.dims[0]!==e.dims[1])throw new Error("Input shapes are mismatched.");if("float32"!==e.type&&"float64"!==e.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type)throw new Error("Invalid input type.");if(4!==t[0].dims.length)throw new Error("Only support 4-D input shape.")}},708:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.createPackedMatmulProgramInfoLoader=void 0;var o=n(2517),i=n(2517),a=n(5060),s=n(2039),u=n(9390),l=n(2823),c=n(5623);e.createPackedMatmulProgramInfoLoader=function(t,e,n){var f,p,d=(f=e.length>2,p=n.activationCacheKey,{name:"MatMul (packed)",inputNames:f?["A","B","Bias"]:["A","B"],inputTypes:f?[s.TextureType.packed,s.TextureType.packed,s.TextureType.packed]:[s.TextureType.packed,s.TextureType.packed],cacheHint:p});return r(r({},d),{get:function(){return function(t,e,n,f){var p=n.length>2,d=p?"value += getBiasForMatmul();":"",h=n[0].dims,g=n[1].dims,b=o.BroadcastUtil.calcShape(h,g,!0),y=!i.ShapeUtil.areEqual(n[0].dims,n[1].dims);if(!b)throw new Error("Can't use matmul on the given tensors");var m=h[h.length-1],v=Math.ceil(m/2),_=h.length,w=g.length,x=a.getGlsl(t.session.backend.glContext.version),T=u.getCoordsDataType(b.length),S=b.length,O=u.getGlChannels(),A=l.getActicationSnippet(f),E=A.activationFunction,P=A.applyActivation,I=p?""+c.getBiasForMatmul(T,O,n[2].dims,b,!0):"",D=y?""+function(t,e,n,r){var i=[],a=[],s=n[0].dims,u=n[1].dims,l=s.length,c=u.length,f=r.length,p=f-l,d=f-c;(i=s.map((function(t,n){return"coords."+e[n+p]})))[l-1]="i*2",i.join(", "),(a=u.map((function(t,n){return"coords."+e[n+d]})))[c-2]="i*2",a.join(", ");var h=o.BroadcastUtil.getBroadcastDims(s,r),g=o.BroadcastUtil.getBroadcastDims(u,r),b=h.map((function(t){return"coords."+e[t+p]+" = 0;"})).join("\n"),y=g.map((function(t){return"coords."+e[t+d]+" = 0;"})).join("\n"),m="int lastDim = coords."+e[f-1]+";\n  coords."+e[f-1]+" = coords."+e[f-2]+";\n  coords."+e[f-2]+" = lastDim;";return"\nvec4 getAAtOutCoordsMatmul(int i) {\n  "+t+" coords = getOutputCoords();\n  "+m+"\n  "+b+"\n  vec4 outputValue = getA("+i+");\n  return outputValue;\n}\n\nvec4 getBAtOutCoordsMatmul(int i) {\n  "+t+" coords = getOutputCoords();\n  "+m+"\n  "+y+"\n  vec4 outputValue = getB("+a+");\n  return outputValue;\n}"}(T,O,n,b):"",k=y?"getAAtOutCoordsMatmul(i)":"getA("+function(t,e){for(var n="",r=0;r<e-2;r++)n+="rc."+t[r]+", ";return n+"rc."+t[e-2]+", i*2"}(O,_)+")",R=y?"getBAtOutCoordsMatmul(i)":"getB("+function(t,e){for(var n="",r=0;r<e-2;r++)n+="rc."+t[r]+", ";return n+"i*2, rc."+t[e-1]}(O,w)+")",C="\n            "+D+"\n            "+I+"\n            "+E+"\n            void main() {\n              "+(y?"":T+" rc =\n          getOutputCoords(); int lastDim = rc."+O[S-1]+"; rc."+O[S-1]+" =\n          rc."+O[S-2]+"; rc."+O[S-2]+" = lastDim;\n      ")+"\n\n              vec4 value = vec4(0);\n              for (int i = 0; i < "+v+"; i++) {\n                vec4 a = "+k+";\n                vec4 b = "+R+";\n\n                value += (a.rrbb * b.rgrg);\n                value += (a.ggaa * b.baba);\n              }\n              "+d+"\n              "+P+"\n              "+x.output+" = value;\n            }";return r(r({},e),{output:{dims:b,type:n[0].type,textureType:s.TextureType.packed},shaderSource:C,hasMain:!0})}(t,d,e,n)}})}},5623:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.getBiasForMatmul=e.createMatmulProgramInfoLoader=e.parseMatMulAttributes=e.matMul=void 0;var o=n(2517),i=n(2039),a=n(9390),s=n(2823),u=n(708);function l(t,e){var n,u,l=(n=t.length>2,u=e.activationCacheKey,{name:"MatMul",inputNames:n?["A","B","Bias"]:["A","B"],inputTypes:n?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],cacheHint:u});return r(r({},l),{get:function(){return function(t,e,n){var u=e[0].dims,l=e[1].dims,c=o.BroadcastUtil.calcShape(u,l,!0);if(!c)throw new Error("Can't use matmul on the given tensors");var p=a.getCoordsDataType(c.length),d=a.getGlChannels(),h=s.getActicationSnippet(n),g=h.activationFunction,b=h.applyActivation,y=e.length>2,m=y?"value += getBiasForMatmul();":"",v=y?""+f(p,d,e[2].dims,c,!1):"",_=c.length,w=u.length,x=l.length,T="\n    "+g+"\n    "+v+"\n    float process(int indices["+_+"]) {\n        int a["+w+"];\n        int b["+x+"];\n        bcastMatmulIndices_A(indices, a);\n        bcastMatmulIndices_B(indices, b);\n\n        float value;\n        for (int k=0; k<"+u[u.length-1]+"; ++k) {\n            a["+(w-1)+"] = k;\n            b["+(x-2)+"] = k;\n            value += _A(a) * _B(b);\n        }\n        "+m+"\n        "+b+"\n        return value;\n    }";return r(r({},t),{output:{dims:c,type:e[0].type,textureType:i.TextureType.unpacked},shaderSource:T})}(l,t,e)}})}e.matMul=function(t,e,n){return c(e),t.session.pack?[t.run(u.createPackedMatmulProgramInfoLoader(t,e,n),e)]:[t.run(l(e,n),e)]},e.parseMatMulAttributes=function(t){return s.parseInternalActivationAttributes(t.attributes)},e.createMatmulProgramInfoLoader=l;var c=function(t){if(!t||2!==t.length)throw new Error("MatMul requires 2 inputs.");if(t[0].dims[t[0].dims.length-1]!==t[1].dims[t[1].dims.length-2])throw new Error("shared dimension does not match.");if("float32"!==t[0].type&&"float64"!==t[0].type||"float32"!==t[1].type&&"float64"!==t[1].type)throw new Error("inputs should be float type");if(t[0].type!==t[1].type)throw new Error("inputs types should match")};function f(t,e,n,r,i){var a,s=n.length,u=r.length,l=u-s;a=u<2&&s>0?"coords":n.map((function(t,n){return"coords."+e[n+l]})).join(", ");var c=o.BroadcastUtil.getBroadcastDims(n,r).map((function(t){return"coords."+e[t+l]+" = 0;"})).join("\n"),f="vec4(outputValue.xx, outputValue.yy)";return 1===o.ShapeUtil.size(n)&&(f="vec4(outputValue.x)"),i?"\nvec4 getBiasForMatmul() {\n  "+t+" coords = getOutputCoords();\n  "+c+"\n  vec4 outputValue = getBias("+a+");\n  return "+f+";\n}":"\nfloat getBiasForMatmul() {\n  "+t+" coords = getOutputCoords();\n  "+c+"\n  return getBias(coords.x);\n}"}e.getBiasForMatmul=f},2403:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.createPackProgramInfoLoader=void 0;var o=n(5060),i=n(2039),a=n(9390),s=n(2827),u={name:"pack",inputNames:["A"],inputTypes:[i.TextureType.unpackedReversed]};e.createPackProgramInfoLoader=function(t,e){return r(r({},u),{get:function(){return function(t,e){var n,l,c,f,p=o.getGlsl(t.session.backend.glContext.version),d=e.dims,h=d.length,g=e.dims.length,b=a.getCoordsDataType(g),y=s.getChannels("rc",g),m=(n=g,l=y,c=d[d.length-2],f=d[d.length-1],0===n||1===n?"":"\n    int r = "+l[n-2]+";\n    int c = "+l[n-1]+";\n    int rp1 = "+l[n-2]+" + 1;\n    int cp1 = "+l[n-1]+" + 1;\n    bool rEdge = rp1 >= "+f+";\n    bool cEdge = cp1 >= "+c+";\n    "),v=function(t,e,n){if(0===t)return"false";if(1===t)return"rc > "+e[0];for(var r="",o=t-2;o<t;o++)r+=n[o]+" >= "+e[o-t+2],o<t-1&&(r+="||");return r}(g,0===h?[1,1]:1===h?[d[0],1]:[d[g-1],d[g-2]],y),_=function(t,e){var n=t.length;if(0===n)return"getA(), 0, 0, 0";if(1===n)return"getA(rc),\n            rc + 1 >= "+t[0]+" ? 0. : getA(rc + 1),\n            0, 0";var r="";if(n>2)for(var o=0;o<n-2;++o)r+=e[o]+",";return"getA("+r+"r, c),\n          rEdge ? 0. : getA("+r+"rp1, c),\n          cEdge ? 0. : getA("+r+"r, cp1),\n          rEdge || cEdge ? 0. : getA("+r+"rp1, cp1)"}(d,y),w="\n        void main() {\n          "+b+" rc = getOutputCoords();\n\n          if("+v+") {\n            "+p.output+" = vec4(0);\n          } else {\n            "+m+"\n\n            "+p.output+" = vec4("+_+");\n          }\n        }\n      ";return r(r({},u),{hasMain:!0,output:{dims:e.dims,type:e.type,textureType:i.TextureType.packed},shaderSource:w})}(t,e)}})}},2827:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unpackFromChannel=e.getChannels=e.getVecChannels=void 0;var r=n(9390);function o(t,e){return r.getGlChannels(e).map((function(e){return t+"."+e}))}e.getVecChannels=o,e.getChannels=function(t,e){return 1===e?[t]:o(t,e)},e.unpackFromChannel=function(){return"\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  "}},2870:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.parsePadAttributes=e.pad=void 0;var i=n(246),a=n(2517),s=n(5060),u=n(2039),l={name:"Pad",inputNames:["A"],inputTypes:[u.TextureType.unpacked]};e.pad=function(t,e,n){return f(e),[t.run(r(r({},l),{cacheHint:n.cacheKey,get:function(){return c(t,e,n)}}),e)]},e.parsePadAttributes=function(t){var e=t.attributes.getString("mode","constant"),n=t.attributes.getFloat("value",0),r=t.attributes.getInts("pads");return i.createAttributeWithCacheKey({mode:e,value:n,pads:r})};var c=function(t,e,n){var r=a.ShapeUtil.padShape(e[0].dims.slice(),n.pads),o=r.length,i="\n      "+p(t,e[0],n)+"\n      float process(int["+o+"] indices) {\n          return padA(indices);\n      }";return{name:"Pad",inputNames:["A"],inputTypes:[u.TextureType.unpacked],output:{dims:r,type:e[0].type,textureType:u.TextureType.unpacked},shaderSource:i}},f=function(t){if(!t||1!==t.length)throw new Error("Pad requires 1 input");if("float32"!==t[0].type&&"float64"!==t[0].type)throw new Error("Invalid input type.")},p=function(t,e,n){var r=s.getGlsl(t.session.backend.glContext.version),i=o(t.calculateTextureWidthAndHeight(e.dims,u.TextureType.unpacked),2),l=i[0],c=i[1],f=a.ShapeUtil.computeStrides(e.dims);switch(n.mode){case"constant":return d(r,e.dims,f,l,c,n.pads,n.value);case"reflect":return h(r,e.dims,f,l,c,n.pads);case"edge":return g(r,e.dims,f,l,c,n.pads);default:throw new Error("Invalid mode")}},d=function(t,e,n,r,o,i,a){for(var s=e.length,u="",l=s-1;l>=0;--l)u+="\n        k = m["+l+"] - "+i[l]+";\n        if (k < 0)  return constant;\n        if (k >= "+e[l]+") return constant;\n        offset += k * "+n[l]+";\n        ";return"\n      float padA(int m["+s+"]) {\n        const float constant = float("+a+");\n        int offset = 0;\n        int k = 0;\n        "+u+"\n        vec2 coords = offsetToCoords(offset, "+r+", "+o+");\n        float value = getColorAsFloat("+t.texture2D+"(A, coords));\n        return value;\n      }\n      "},h=function(t,e,n,r,o,i){for(var a=e.length,s="",u=a-1;u>=0;--u)s+="\n        k = m["+u+"] - "+i[u]+";\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = "+2*(e[u]-1)+";\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= "+e[u]+") { k = _2n_1 - k; }\n        }\n        offset += k * "+n[u]+";\n        ";return"\n      float padA(int m["+a+"]) {\n        int offset = 0;\n        int k = 0;\n        "+s+"\n        vec2 coords = offsetToCoords(offset, "+r+", "+o+");\n        float value = getColorAsFloat("+t.texture2D+"(A, coords));\n        return value;\n      }\n      "},g=function(t,e,n,r,o,i){for(var a=e.length,s="",u=a-1;u>=0;--u)s+="\n        k = m["+u+"] - "+i[u]+";\n        if (k < 0)  k = 0;\n        if (k >= "+e[u]+") k = "+(e[u]-1)+";\n        offset += k * "+n[u]+";\n      ";return"\n      float padA(int m["+a+"]) {\n        int offset = 0;\n        int k = 0;\n        "+s+"\n        vec2 coords = offsetToCoords(offset, "+r+", "+o+");\n        float value = getColorAsFloat("+t.texture2D+"(A, coords));\n        return value;\n      }\n      "}},2143:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.globalMaxPool=e.parseMaxPoolAttributes=e.maxPool=e.parseGlobalAveragePoolAttributes=e.globalAveragePool=e.parseAveragePoolAttributes=e.averagePool=void 0;var o=n(246),i=n(2517),a=n(2039);e.averagePool=function(t,e,n){f(e);var o={name:"AveragePool",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:n.cacheKey};return[t.run(r(r({},o),{get:function(){return s(e,o,!1,n)}}),e)]},e.parseAveragePoolAttributes=function(t){var e=t.attributes.getString("auto_pad","NOTSET"),n=t.attributes.getInt("ceil_mode",0),r=0!==t.attributes.getInt("count_include_pad",0),i=t.attributes.getInts("kernel_shape"),a=t.attributes.getInts("strides",[]),s=t.attributes.getInts("pads",[]);if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return o.createAttributeWithCacheKey({autoPad:e,ceilMode:n,countIncludePad:r,kernelShape:i,strides:a,pads:s})};var s=function(t,e,n,o){var s=t[0].dims.slice();i.PoolConvUtil.adjustPoolAttributes(n,s,o.kernelShape,o.strides,o.pads);var u=i.PoolConvUtil.computePoolOutputShape(n,s,o.strides,o.kernelShape,o.pads,o.autoPad),l=i.ShapeUtil.size(o.kernelShape),c="";o.countIncludePad?c+="value /= float("+l+");":c+="value /= float("+l+" - pad);";var f="\n        "+p(t[0].dims,o,"value += _X(x);",c,"0.0")+"\n      ";return r(r({},e),{output:{dims:u,type:t[0].type,textureType:a.TextureType.unpacked},shaderSource:f})};e.globalAveragePool=function(t,e,n){f(e);var o={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:""+n.countIncludePad};return[t.run(r(r({},o),{get:function(){return s(e,o,!0,n)}}),e)]},e.parseGlobalAveragePoolAttributes=function(t){var e=0!==t.attributes.getInt("count_include_pad",0);return o.createAttributeWithCacheKey({autoPad:"",ceilMode:0,countIncludePad:e,kernelShape:[],strides:[],pads:[]})},e.maxPool=function(t,e,n){f(e);var o={name:"MaxPool",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:n.cacheKey};return[t.run(r(r({},o),{get:function(){return u(e,o,!1,n)}}),e)]},e.parseMaxPoolAttributes=function(t){var e=t.attributes.getString("auto_pad","NOTSET"),n=t.attributes.getInt("ceil_mode",0),r=t.attributes.getInts("kernel_shape"),i=t.attributes.getInts("strides",[]),a=t.attributes.getInts("pads",[]),s=t.attributes.getInt("storage_order",0);if(0!==s)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return o.createAttributeWithCacheKey({autoPad:e,ceilMode:n,countIncludePad:!1,kernelShape:r,strides:i,pads:a,storageOrder:s})};var u=function(t,e,n,o){var s=t[0].dims.slice();i.PoolConvUtil.adjustPoolAttributes(n,s,o.kernelShape,o.strides,o.pads);var u=i.PoolConvUtil.computePoolOutputShape(n,s,o.strides,o.kernelShape,o.pads,o.autoPad),l="\n      "+p(s,o,"\n      value = max(_X(x), value);\n    ","","-1e5")+"\n    ";return r(r({},e),{output:{dims:u,type:t[0].type,textureType:a.TextureType.unpacked},shaderSource:l})},l={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,cacheKey:""},c={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[a.TextureType.unpacked]};e.globalMaxPool=function(t,e){return f(e),[t.run(r(r({},c),{get:function(){return u(e,c,!0,l)}}),e)]};var f=function(t){if(!t||1!==t.length)throw new Error("Pool ops requires 1 input.");if("float32"!==t[0].type&&"float64"!==t[0].type)throw new Error("Invalid input type.")},p=function(t,e,n,r,o){var a=t.length;if(e.kernelShape.length<=2){var s,u=e.kernelShape[e.kernelShape.length-1],l=e.strides[e.strides.length-1],c=e.pads[e.pads.length/2-1],f=e.pads[e.pads.length-1],p=t[a-1],g="",b="";if(s=c+f!==0?"\n          for (int i = 0; i < "+u+"; i++) {\n            x["+a+" - 1] = indices["+a+" - 1] * "+l+" - "+c+" + i;\n            if (x["+a+" - 1] < 0 || x["+a+" - 1] >= "+p+") {\n              pad++;\n              continue;\n            }\n            "+n+"\n          }":"\n          for (int i = 0; i < "+u+"; i++) {\n            x["+a+" - 1] = indices["+a+" - 1] * "+l+" - "+c+" + i;\n            "+n+"\n          }",2===e.kernelShape.length){var y=e.kernelShape[e.kernelShape.length-2],m=e.strides[e.strides.length-2],v=e.pads[e.pads.length/2-2],_=e.pads[e.pads.length-2],w=t[a-2];g=v+_!==0?"\n            for (int j = 0; j < "+y+"; j++) {\n              x["+a+" - 2] = indices["+a+" - 2] * "+m+" - "+v+" + j;\n              if (x["+a+" - 2] < 0 || x["+a+" - 2] >= "+w+") {\n                pad+= "+u+";\n                continue;\n              }\n          ":"\n            for (int j = 0; j < "+y+"; j++) {\n              x["+a+" - 2] = indices["+a+" - 2] * "+m+" - "+v+" + j;\n            ",b="\n          }\n        "}return"\n        float process(int indices["+a+"]) {\n          int x["+a+"];\n          copyVec(indices, x);\n\n          float value = "+o+";\n          int pad = 0;\n          "+g+"\n          "+s+"\n          "+b+"\n          "+r+"\n          return value;\n        }\n      "}var x=i.ShapeUtil.size(e.kernelShape),T=i.ShapeUtil.computeStrides(e.kernelShape),S=T.length,O=e.pads.length,A=h(S),E=d(t,"inputDims"),P=d(e.pads,"pads"),I=d(T,"kernelStrides");return"\n        "+A+"\n        float process(int indices["+a+"]) {\n          int x["+a+"];\n          copyVec(indices, x);\n          int offset["+S+"];\n          int pads["+O+"];\n          int inputDims["+a+"];\n          int kernelStrides["+S+"];\n          int strides["+S+"];\n          "+P+"\n          "+E+"\n          "+d(e.strides,"strides")+"\n          "+I+"\n\n          float value = "+o+";\n          int pad = 0;\n          bool isPad = false;\n          for (int i = 0; i < "+x+"; i++) {\n            offsetToIndices(i, kernelStrides, offset);\n            isPad = false;\n            for (int j = "+a+" - "+S+"; j < "+a+"; j++) {\n              x[j] = indices[j] * strides[j - "+a+" + "+S+"]\n                + offset[j - "+a+" + "+S+"] - pads[j - 2];\n              "+(e.pads.reduce((function(t,e){return t+e}))?"\n            if (x[j] >= inputDims[j] || x[j] < 0) {\n              pad++;\n              isPad = true;\n              break;\n            }\n          }\n          if (!isPad) {\n            "+n+"\n          }":"\n          }\n          "+n+"\n        ")+"\n          }\n          "+r+"\n\n          return value;\n        }\n      "},d=function(t,e){for(var n="",r=0;r<t.length;r++)n+="\n      "+e+"["+r+"] = "+t[r]+";\n    ";return n},h=function(t){return"\n  void offsetToIndices(int offset, int["+t+"] strides, out int["+t+"] indices) {\n    if ("+t+" == 0) {\n      return;\n    }\n    for (int i = 0; i < "+t+" - 1; ++i) {\n      indices[i] = offset / strides[i];\n      offset -= indices[i] * strides[i];\n    }\n    indices["+t+" - 1] = offset;\n  }"}},4939:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.reduceLogSumSquare=e.reduceLogSum=e.reduceProd=e.reduceMin=e.reduceMax=e.reduceMean=e.reduceSum=e.parseReduceAttributes=void 0;var o=n(246),i=n(782),a=n(2517),s=n(2039),u=function(t,e,n,o,i){c(e);var a={name:o,inputNames:["A"],inputTypes:[s.TextureType.unpacked]};return[t.run(r(r({},a),{cacheHint:n.cacheKey,get:function(){return l(t,e,n,o,i,a)}}),e)]};e.parseReduceAttributes=function(t){var e=t.attributes.getInts("axes",[]),n=1===t.attributes.getInt("keepdims",1);return o.createAttributeWithCacheKey({axes:e,keepDims:n})};var l=function(t,e,n,o,i,u){for(var l=[],c=e[0].dims.length||1,f=[],p=a.ShapeUtil.normalizeAxes(n.axes,e[0].dims.length),d=i(e,p),h=d[1],g=0;g<e[0].dims.length;g++)p.indexOf(g)>=0||0===p.length?(n.keepDims&&l.push(1),h="\n          for(int j"+g+" = 0; j"+g+" < "+e[0].dims[g]+"; j"+g+"++) {\n            inputIdx["+g+"] = j"+g+";\n            "+h+"\n          }"):(f.push("inputIdx["+g+"] = outputIdx["+l.length+"];"),l.push(e[0].dims[g]));var b="\n      float process(int outputIdx["+(l.length||1)+"]) {\n        float value;                 // final result\n        int inputIdx["+c+"];      // addressing input data\n        "+f.join("\n")+"\n        "+d[0]+"       // init ops for reduce max/min\n        "+h+"\n        "+d[2]+"       // final computation for reduce mean\n        return value;\n      }";return r(r({},u),{output:{dims:l,type:e[0].type,textureType:s.TextureType.unpacked},shaderSource:b})},c=function(t){if(!t||1!==t.length)throw new Error("Reduce op requires 1 input.");if(-1===i.NUMBER_TYPES.indexOf(t[0].type))throw new Error("Invalid input type.")};e.reduceSum=function(t,e,n){return u(t,e,n,"ReduceSum",(function(){return["value = 0.0;","value += _A(inputIdx);",""]}))},e.reduceMean=function(t,e,n){return u(t,e,n,"ReduceMean",(function(t,e){for(var n=1,r=0;r<t[0].dims.length;r++)(e.indexOf(r)>=0||0===e.length)&&(n*=t[0].dims[r]);return["value = 0.0;","value += _A(inputIdx);","value /= "+n+".;"]}))},e.reduceMax=function(t,e,n){return u(t,e,n,"ReduceMax",(function(t,e){for(var n=[],r=0;r<t[0].dims.length;r++)(e.indexOf(r)>=0||0===e.length)&&n.push("inputIdx["+r+"] = 0;");return[n.join("\n")+"\nvalue = _A(inputIdx);","value = max(value, _A(inputIdx));",""]}))},e.reduceMin=function(t,e,n){return u(t,e,n,"ReduceMin",(function(t,e){for(var n=[],r=0;r<t[0].dims.length;r++)(e.indexOf(r)>=0||0===e.length)&&n.push("inputIdx["+r+"] = 0;");return[n.join("\n")+"\nvalue = _A(inputIdx);","value = min(value, _A(inputIdx));",""]}))},e.reduceProd=function(t,e,n){return u(t,e,n,"ReduceProd",(function(){return["value = 1.0;","value *= _A(inputIdx);",""]}))},e.reduceLogSum=function(t,e,n){return u(t,e,n,"ReduceLogSum",(function(){return["value = 0.0;","value += _A(inputIdx);","value = log(value);"]}))},e.reduceLogSumSquare=function(t,e,n){return u(t,e,n,"ReduceLogSumSquare",(function(){return["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""]}))}},7019:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.isReshapeCheap=e.processDims3D=e.createPackedReshape3DProgramInfoLoader=void 0;var o=n(2517),i=n(5060),a=n(2039),s=n(2827);e.createPackedReshape3DProgramInfoLoader=function(t,e,n){var u=function(t){return{name:"Reshape (packed)",inputTypes:[a.TextureType.packed],inputNames:["A"],cacheHint:""+t}}(n);return r(r({},u),{get:function(){return function(t,e,n,u){for(var l=e.dims,c=u,f="",p=0;p<4;p++){var d="";switch(p){case 0:d="outputCoords = rc;";break;case 1:d="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:d="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:d="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}f+="\n        "+d+"\n        "+(p>0?"if(outputCoords.y < rows && outputCoords.z < cols){":"")+"\n          int flattenedIndex = getFlattenedIndex(outputCoords);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);\n          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+p+"] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);\n\n        "+(p>0?"}":"")+"\n      "}var h,g,b,y=i.getGlsl(t.session.backend.glContext.version),m="\n      "+(h=l,g=o.ShapeUtil.computeStrides(h),b=["b","r","c"],"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+g.map((function(t,e){return"int "+b[e]+" = index / "+t+"; "+(e===g.length-1?"int "+b[e+1]+" = index - "+b[e]+" * "+t:"index -= "+b[e]+" * "+t)+";"})).join("")+"\n      return ivec3(b, r, c);\n    }\n  \n      ")+function(t){var e=o.ShapeUtil.computeStrides(t);return"\n  int getFlattenedIndex(ivec3 coords) {\n    // reverse y, z order\n    return coords.x * "+e[0]+" + coords.z * "+e[1]+" + coords.y;\n  }\n"}(c)+"\n      "+s.unpackFromChannel()+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.0);\n\n        ivec3 outputCoords;\n        int rows = "+c[2]+";\n        int cols = "+c[1]+";\n\n        "+f+"\n        "+y.output+" = result;\n      }\n    ";return r(r({},n),{output:{dims:c,type:e.type,textureType:a.TextureType.packed},shaderSource:m,hasMain:!0})}(t,e,u,n)}})},e.processDims3D=function(t){if(0===t.length)return[1,1,1];for(var e=1,n=0;n<t.length-2;++n)e*=t[n];return[e,t.length>1?t[t.length-2]:1,t[t.length-1]]},e.isReshapeCheap=function(t,e){return 0===t.length||0===e.length||(t.length<2||e.length<2?t[t.length-1]===e[e.length-1]:t[t.length-1]===e[e.length-1]&&t[t.length-2]===e[e.length-2])}},718:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reshape=void 0;var r=n(2517);e.reshape=function(t,e){var n=r.ShapeUtil.calculateReshapedDims(e[0].dims,e[1].integerData);return t.session.pack?[t.reshapePacked(e[0],n)]:[t.reshapeUnpacked(e[0],n)]}},2268:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.parseResizeAttributesV11=e.parseResizeAttributesV10=e.resize=void 0;var i=n(5060),a=n(2039),s=n(9390),u=n(2827),l=n(9793),c={name:"Resize",inputNames:["A"],inputTypes:[a.TextureType.packed]};e.resize=function(t,e,n){return l.validateInputs(e,n),[t.run(r(r({},c),{cacheHint:n.cacheKey,get:function(){return f(t,e,n)}}),e)]},e.parseResizeAttributesV10=function(t){return l.parseUpsampleAttributes(t,10)},e.parseResizeAttributesV11=function(t){return l.parseUpsampleAttributes(t,11)};var f=function(t,e,n){var l=i.getGlsl(t.session.backend.glContext.version),f=o(p(e,n),2),d=f[0],h=f[1];if(d.every((function(t){return 1===t}))&&"tf_crop_and_resize"!==n.coordinateTransformMode)return r(r({},c),{output:{dims:h,type:e[0].type,textureType:a.TextureType.packed},hasMain:!0,shaderSource:"void main() {\n                    vec4 v = "+l.texture2D+"(X, TexCoords);\n                    "+l.output+" = v;\n                }"});var g=h.length;if(g<2)throw new Error("output dimension should be at least 2, but got "+g);var b=h[g-2],y=h[g-1],m=e[0].dims;if(g!==m.length)throw new Error("output dimension should match input "+m.length+", but got "+g);var v=m[g-2],_=m[g-1],w=d[g-2],x=d[g-1],T="";if("linear"!==n.mode)throw new Error("resize (packed) does not support mode: '"+n.mode+"'");switch(n.coordinateTransformMode){case"asymmetric":T="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                ";break;case"half_pixel":T="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                ";break;case"align_corners":T="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 resized = vec4("+y+".0 - 1.0, "+b+".0 - 1.0, "+y+".0 - 1.0,\n                            "+b+".0 - 1.0);\n                        vec4 original = vec4("+_+".0 - 1.0, "+v+".0 - 1.0, "+_+".0 - 1.0,\n                            "+v+".0 - 1.0);\n                        vec4 new_scale = original / resized;\n                        return vec4(coords) * new_scale;\n                    }\n                ";break;default:throw new Error("resize (packed) does not support coordinateTransformMode:                                 '"+n.coordinateTransformMode+"'")}var S=s.getCoordsDataType(g),O="\n            const vec2 inputWH = vec2("+v+".0, "+_+".0);\n            const vec4 scaleWHWH = vec4("+w+".0, "+x+".0, "+w+".0, "+x+".0);\n            "+u.unpackFromChannel()+"\n            "+T+"\n            float getAValue(int x10, int r, int c, int d) {\n                return getChannel(getA(x10, r, c, d), vec2(c, d));\n            }\n            void main() {\n                "+S+" rc = getOutputCoords();\n\n                int batch = rc[0];\n                int depth = rc[1];\n\n                // retrieve the 4 coordinates that is used in the 4 packed output values.\n                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);\n\n                // calculate the source index in fraction\n                vec4 sourceFrac = getSourceFracIndex(coords);\n\n                // get the lower and upper bound of the 4 values that will be packed into one texel.\n                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));\n                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));\n                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));\n                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));\n\n                bool hasNextRow = rc.w < "+(b-1)+";\n                bool hasNextCol = rc.z < "+(y-1)+";\n\n                // pack x00, x01, x10, x11's top-left corner into one vec4 structure\n                vec4 topLeft = vec4(\n                    getAValue(batch, depth, x00.x, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's top-right corner into one vec4 structure\n                vec4 topRight = vec4(\n                    getAValue(batch, depth, x00.x, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure\n                vec4 bottomLeft = vec4(\n                    getAValue(batch, depth, x00.z, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure\n                vec4 bottomRight = vec4(\n                    getAValue(batch, depth, x00.z, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);\n\n                // calculate the interpolation fraction on u and v direction\n                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);\n                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));\n\n                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);\n                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);\n                vec4 newValue = mix(top, bottom, clampFrac.xxzz);\n\n                "+l.output+" = vec4(newValue);\n            }\n        ";return r(r({},c),{output:{dims:h,type:e[0].type,textureType:a.TextureType.packed},hasMain:!0,shaderSource:O})},p=function(t,e){var n,r=t[0].dims,o=e.scales;if(0===o.length){var i=t[e.scalesInputIdx];if(i&&0!==i.size){if(t[e.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");o=d(i,e.mode,e.isResize)}else{var a=t[e.sizesInputIdx];if(!a||0===a.size)throw new Error("Either scales or sizes MUST be provided as input.");n=Array.from(a.integerData),o=h(n,r,e.mode,e.isResize)}}else if(t[e.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");var s=n||r.map((function(t,e){return Math.floor(t*o[e])}));return[o,s]},d=function(t,e,n){var r=Array.from(t.floatData);return l.scalesValidation(r,e,n),r},h=function(t,e,n,r){for(var o=e.length,i=new Array(o),a=0,s=o;a<s;a++)if(0===e[a]){if(0!==t[a])throw new Error("Input dim is zero but required output dim is non-zero.");i[a]=1}else i[a]=t[a]/e[a];return l.scalesValidation(i,n,r),i}},8117:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shape=void 0;var r=n(9162);e.shape=function(t,e){return o(e),[new r.Tensor([e[0].dims.length],"int32",void 0,void 0,new Int32Array(e[0].dims))]};var o=function(t){if(!t||1!==t.length)throw new Error("Shape requires 1 input.")}},2278:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.sliceV10=e.parseSliceAttributes=e.slice=void 0;var o=n(246),i=n(782),a=n(2517),s=n(2039),u={name:"Slice",inputNames:["A"],inputTypes:[s.TextureType.unpacked]};e.slice=function(t,e,n){return c(e),[t.run(r(r({},u),{cacheHint:n.cacheKey,get:function(){return l(t,e[0],n)}}),e)]},e.parseSliceAttributes=function(t){var e=t.attributes.getInts("starts"),n=t.attributes.getInts("ends"),r=t.attributes.getInts("axes",[]);return o.createAttributeWithCacheKey({starts:e,ends:n,axes:r})};var l=function(t,e,n){for(var o=0===n.axes.length?e.dims.slice(0).map((function(t,e){return e})):n.axes,i=a.ShapeUtil.normalizeAxes(o,e.dims.length),l=n.starts.map((function(t,n){return t>e.dims[i[n]]-1?e.dims[i[n]]:a.ShapeUtil.normalizeAxis(t,e.dims[i[n]])})),c=n.ends.map((function(t,n){return t>e.dims[i[n]]-1?e.dims[i[n]]:a.ShapeUtil.normalizeAxis(t,e.dims[i[n]])})),f=e.dims.slice(),p=[],d=0;d<i.length;d++)f[i[d]]=c[d]-l[d],l[d]>0&&p.push("outputIdx["+i[d]+"] += "+l[d]+";");var h="\n      float process(int outputIdx["+f.length+"]) {\n        "+p.join("\n      ")+"\n        return _A(outputIdx);\n      }";return r(r({},u),{output:{dims:f,type:e.type,textureType:s.TextureType.unpacked},shaderSource:h})},c=function(t){if(!t||1!==t.length)throw new Error("Slice requires 1 input.");if(-1===i.NUMBER_TYPES.indexOf(t[0].type))throw new Error("Invalid input type.")};e.sliceV10=function(t,e){p(e);var n=f(t,e);return[t.run(r(r({},u),{cacheHint:n.cacheKey,get:function(){return l(t,e[0],n)}}),[e[0]])]};var f=function(t,e){if(!t.session.isInitializer(e[1].dataId)||!t.session.isInitializer(e[2].dataId)||e.length>=4&&!t.session.isInitializer(e[3].dataId)||e.length>=5&&!t.session.isInitializer(e[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(e.length>=5&&e[4].integerData.some((function(t){return 1!==t})))throw new Error("currently non-1 steps is not supported for Slice");var n=Array.from(e[1].integerData),r=Array.from(e[2].integerData),o=e.length>=4?Array.from(e[3].integerData):[];return{starts:n,ends:r,axes:o,cacheKey:o+";"+n+";"+r}},p=function(t){if(!t||t.length<3||t.length>5)throw new Error("Invalid input number.");if("int32"!==t[1].type||1!==t[1].dims.length)throw new Error("Invalid input type.");if("int32"!==t[2].type||1!==t[2].dims.length)throw new Error("Invalid input type.");if(t.length>=4&&("int32"!==t[3].type||1!==t[3].dims.length))throw new Error("Invalid input type.");if(t.length>=5&&("int32"!==t[4].type||1!==t[4].dims.length))throw new Error("Invalid input type.")}},5524:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.parseSoftmaxAttributes=e.softmax=void 0;var i=n(246),a=n(2517),s=n(5060),u=n(2039),l={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[u.TextureType.unpacked]},c={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[u.TextureType.unpacked,u.TextureType.unpacked]},f={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[u.TextureType.unpacked,u.TextureType.unpacked,u.TextureType.unpacked]};e.softmax=function(t,e,n){g(e);var o=e[0].dims.slice(),i=a.ShapeUtil.normalizeAxis(n.axis,o.length),s=a.ShapeUtil.sizeToDimension(o,i),u=a.ShapeUtil.sizeFromDimension(o,i),b=p(t,e[0],s,u,[s]),y=t.run(r(r({},l),{cacheHint:n.cacheKey,get:function(){return b}}),e),m=d(t,e[0],s,u,b.output.dims,[s]),v=t.run(r(r({},c),{cacheHint:n.cacheKey,get:function(){return m}}),[e[0],y]),_=h(t,e[0],s,u,b.output.dims,m.output.dims);return[t.run(r(r({},f),{cacheHint:n.cacheKey,get:function(){return _}}),[e[0],y,v])]},e.parseSoftmaxAttributes=function(t){return i.createAttributeWithCacheKey({axis:t.attributes.getInt("axis",1)})};var p=function(t,e,n,i,a){var c=o(t.calculateTextureWidthAndHeight(e.dims,u.TextureType.unpacked),2),f=c[0],p=c[1],d=a.length;if(n<1||i<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==a.length)throw new Error("Dimensionality of the output should be 1");if(a[0]!==n)throw new Error("Shape of the output should be equal to logical row count");var h=s.getGlsl(t.session.backend.glContext.version),g="\n      float process(int["+d+"] indices) {\n        int logical_row_start_offset = indices[0] * "+i+";\n\n        float max = getColorAsFloat("+h.texture2D+"(A, offsetToCoords(logical_row_start_offset, "+f+",\n        "+p+" )));\n        for(int i=1; i<"+i+"; ++i)\n        {\n          float current = getColorAsFloat("+h.texture2D+"(A, offsetToCoords(logical_row_start_offset + i,\n            "+f+", "+p+")));\n          if(current > max)\n          max = current;\n        }\n\n        return max;\n      }";return r(r({},l),{output:{dims:a,type:e.type,textureType:u.TextureType.unpacked},shaderSource:g})},d=function(t,e,n,i,a,l){var f=o(t.calculateTextureWidthAndHeight(e.dims,u.TextureType.unpacked),2),p=f[0],d=f[1],h=l.length;if(n<1||i<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==l.length)throw new Error("Dimensionality of the output should be 1");if(l[0]!==n)throw new Error("Shape of the output should be equal to logical row count");if(1!==a.length)throw new Error("Dimensionality of the intermediate results should be 1");if(a[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");var g="\n      float process(int["+h+"] indices) {\n        int logical_row_start_offset = indices[0] * "+i+";\n\n        float norm_factor = 0.0;\n        float max = _Max(indices);\n        for(int i=0; i<"+i+"; ++i)\n        {\n          norm_factor += exp(getColorAsFloat("+s.getGlsl(t.session.backend.glContext.version).texture2D+"(A, offsetToCoords(logical_row_start_offset + i,\n            "+p+", "+d+"))) - max);\n        }\n\n        return norm_factor;\n      }";return r(r({},c),{output:{dims:l,type:e.type,textureType:u.TextureType.unpacked},shaderSource:g})},h=function(t,e,n,i,a,s){var l=o(t.calculateTextureWidthAndHeight(e.dims,u.TextureType.unpacked),2),c=l[0],p=l[1],d=e.dims.length;if(n<1||i<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==a.length||1!==s.length)throw new Error("Dimensionality of the intermediate results should be 1");if(a[0]!==n||s[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");var h="\n      float process(int["+d+"] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, "+c+", "+p+");\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / "+i+";\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }";return r(r({},f),{output:{dims:e.dims,type:e.type,textureType:u.TextureType.unpacked},shaderSource:h})},g=function(t){if(!t||1!==t.length)throw new Error("Softmax requires 1 input.");if("float32"!==t[0].type&&"float64"!==t[0].type)throw new Error("Invalid input type")}},5975:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.parseSplitAttributes=e.split=void 0;var i=n(246),a=n(2517),s=n(2039),u={name:"Split",inputNames:["A"],inputTypes:[s.TextureType.unpacked]};e.split=function(t,e,n){f(e);for(var o=a.ShapeUtil.normalizeAxis(n.axis,e[0].dims.length),i=l(t,e,o,n),s=[],p=function(i){s.push(t.run(r(r({},u),{cacheHint:n.cacheKey+";"+i,get:function(){return c(t,e[0],n,o,i)}}),e))},d=0;d<i;++d)p(d);return s},e.parseSplitAttributes=function(t){var e=t.attributes.getInt("axis",0),n=t.attributes.getInts("split",[]),r=t.outputs.length;return i.createAttributeWithCacheKey({axis:e,split:n,numOutputs:r})};var l=function(t,e,n,r){return o(a.SplitUtil.splitShape(e[0].dims,n,r.split,r.numOutputs),2)[1].length},c=function(t,e,n,i,l){var c=o(a.SplitUtil.splitShape(e.dims,i,n.split,n.numOutputs),2),f=c[0],p=c[1][l],d=f[l],h="\n      float process(int indices["+d.length+"]) {\n        indices["+i+"] += "+p+";\n        return _A(indices);\n      }\n    ";return r(r({},u),{cacheHint:n.cacheKey+":"+l,output:{dims:d,type:e.type,textureType:s.TextureType.unpacked},shaderSource:h})},f=function(t){if(!t||1!==t.length)throw new Error("Split requires one input.");if("int8"!==t[0].type&&"uint8"!==t[0].type&&"int16"!==t[0].type&&"uint16"!==t[0].type&&"int32"!==t[0].type&&"uint32"!==t[0].type&&"float32"!==t[0].type&&"float64"!==t[0].type&&"bool"!==t[0].type)throw new Error("Invalid input type.")}},3933:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseSqueezeAttributes=e.squeeze=void 0;var r=n(2517);e.squeeze=function(t,e,n){o(e);var i=r.ShapeUtil.squeezeShape(e[0].dims,n);return[t.reshapeUnpacked(e[0],i)]},e.parseSqueezeAttributes=function(t){return t.attributes.getInts("axes")};var o=function(t){if(!t||1!==t.length)throw new Error("Squeeze requires 1 input.");if("string"===t[0].type)throw new Error("invalid input tensor types.")}},6558:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.sum=void 0;var o=n(5060),i=n(2039);e.sum=function(t,e){s(e);var n={name:"Sum",inputNames:e.map((function(t,e){return"X"+e})),inputTypes:new Array(e.length).fill(i.TextureType.unpacked)};return[t.run(r(r({},n),{get:function(){return a(t,e,n)}}),e)]};var a=function(t,e,n){var a=o.getGlsl(t.session.backend.glContext.version),s=e[0].dims.slice(),u="\n      void main() {\n        vec4 result = "+e.map((function(t,e){return a.texture2D+"(X"+e+",TexCoords)"})).join(" + ")+";\n        "+a.output+" = result;\n      }\n    ";return r(r({},n),{output:{dims:s,type:e[0].type,textureType:i.TextureType.unpacked},hasMain:!0,shaderSource:u})},s=function(t){if(!t||0===t.length)throw new Error("Sum requires inputs.");for(var e=t[0].dims.length,n=1;n<t.length;n++){if(e!==t[n].dims.length)throw new Error("Input shapes are mismatched.");for(var r=0;r<e;r++)if(t[0].dims[r]!==t[n].dims[r])throw new Error("Input shapes are not matched.")}if("float32"!==t[0].type&&"float64"!==t[0].type)throw new Error("Invalid input type.");for(n=1;n<t.length;n++)if(t[0].type!==t[n].type)throw new Error("Input types are not matched.")}},5723:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.tile=void 0;var o=n(782),i=n(2039);e.tile=function(t,e){s(e);var n={name:"Tile",inputNames:["A"],inputTypes:[i.TextureType.unpacked]};return[t.run(r(r({},n),{get:function(){return a(t,e,n)}}),e)]};var a=function(t,e,n){for(var o=e[0].dims.slice(),a=new Array(o.length),s=[],u=0;u<o.length;u++)a[u]=o[u]*e[1].numberData[u],s.push("inputIdx["+u+"] = int(mod(float(outputIdx["+u+"]), "+o[u]+".));");var l=a.length,c="\n      float process(int outputIdx["+l+"]) {\n        int inputIdx["+l+"];\n        "+s.join("\n")+"\n        return _A(inputIdx);\n      }\n    ";return r(r({},n),{output:{dims:a,type:e[0].type,textureType:i.TextureType.unpacked},shaderSource:c})},s=function(t){if(!t||2!==t.length)throw new Error("Tile requires 2 input.");if(1!==t[1].dims.length)throw new Error("The second input shape must 1 dimension.");if(t[1].dims[0]!==t[0].dims.length)throw new Error("Invalid input shape.");if(-1===o.NUMBER_TYPES.indexOf(t[0].type))throw new Error("Invalid input type.");if("int32"!==t[1].type&&"int16"!==t[1].type)throw new Error("Invalid repeat type.")}},3738:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.parseTransposeAttributes=e.transpose=void 0;var a=n(246),s=n(2517),u=n(2039),l={name:"Transpose",inputNames:["A"],inputTypes:[u.TextureType.unpacked]};e.transpose=function(t,e,n){return h(e),[t.run(r(r({},l),{cacheHint:n.cacheKey,get:function(){return c(t,e[0],n.perm)}}),e)]},e.parseTransposeAttributes=function(t){return a.createAttributeWithCacheKey({perm:t.attributes.getInts("perm",[])})};var c=function(t,e,n){var o=e.dims;n=f(o,n);var i=p(o,n),a=o.length,s="\n      "+d("perm",n,a)+"\n      float process(int indices["+a+"]) {\n        int a["+a+"];\n        perm(a, indices);\n        return _A(a);\n      }";return r(r({},l),{output:{dims:i,type:e.type,textureType:u.TextureType.unpacked},shaderSource:s})},f=function(t,e){return e&&e.length!==t.length&&(e=i([],o(t.keys())).reverse()),e},p=function(t,e){return e=f(t,e),s.ShapeUtil.sortBasedOnPerm(t,e)},d=function(t,e,n){var r=[];r.push("void "+t+"(out int a["+n+"], int src["+n+"]) {");for(var o=0;o<n;++o)r.push("\ta["+e[o]+"]=src["+o+"];");return r.push("\t}"),r.join("\n")},h=function(t){if(!t||1!==t.length)throw new Error("Transpose requires 1 input.");if("float32"!==t[0].type&&"float64"!==t[0].type)throw new Error("input should be float tensor")}},8710:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeAsUint8=void 0;var r=n(5060),o=n(2039);e.encodeAsUint8=function(t,e){var n=e.shape,i=r.getGlsl(t.session.backend.glContext.version),a="\n    const float FLOAT_MAX = 1.70141184e38;\n    const float FLOAT_MIN = 1.17549435e-38;\n\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    highp vec4 encodeAsUint8(highp float v) {\n      if (isNaN(v)) {\n        return vec4(255, 255, 255, 255);\n      }\n\n      highp float av = abs(v);\n\n      if(av < FLOAT_MIN) {\n        return vec4(0.0, 0.0, 0.0, 0.0);\n      } else if(v > FLOAT_MAX) {\n        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n      } else if(v < -FLOAT_MAX) {\n        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n      }\n\n      highp vec4 c = vec4(0,0,0,0);\n\n      highp float e = floor(log2(av));\n      highp float m = exp2(fract(log2(av))) - 1.0;\n\n      c[2] = floor(128.0 * m);\n      m -= c[2] / 128.0;\n      c[1] = floor(32768.0 * m);\n      m -= c[1] / 32768.0;\n      c[0] = floor(8388608.0 * m);\n\n      highp float ebias = e + 127.0;\n      c[3] = floor(ebias / 2.0);\n      ebias -= c[3] * 2.0;\n      c[2] += floor(ebias) * 128.0;\n\n      c[3] += 128.0 * step(0.0, -v);\n\n      return c / 255.0;\n    }\n\n    void main() {\n      float value = "+i.texture2D+"(X,TexCoords).r;\n      "+i.output+" = encodeAsUint8(value);\n    }",s={name:"Uint8Encode",inputTypes:[o.TextureType.unpacked],inputNames:["X"],output:{dims:n,type:e.tensor.type,textureType:o.TextureType.downloadUint8AsFloat},shaderSource:a,hasMain:!0};return t.executeProgram(s,[e.tensor])}},4909:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.tanh=e.tan=e.sqrt=e.sin=e.sigmoid=e.relu=e.not=e.neg=e.log=e.parseLeakyReluAttributes=e.leakyRelu=e.identity=e.floor=e.exp=e.parseEluAttributes=e.elu=e.cos=e.ceil=e.parseClipAttributes=e.clip=e.atan=e.asin=e.acos=e.abs=e.glslTanh=e.glslTan=e.glslSqrt=e.glslSigmoid=e.glslRelu=e.glslSin=e.glslNot=e.glslNeg=e.glslLog=e.glslLeakyRelu=e.glslIdentity=e.glslClip=e.glslFloor=e.glslExp=e.glslElu=e.glslCos=e.glslCeil=e.glslAtan=e.glslAsin=e.glslAcos=e.glslAbs=void 0;var o=n(246),i=n(8520),a=n(5060),s=n(2039);function u(){return I("abs")}function l(){return I("acos")}function c(){return I("asin")}function f(){return I("atan")}function p(){return I("ceil")}function d(){return I("cos")}function h(t){return{body:"\n  const float alpha = float("+t+");\n\n  float elu_(float a) {\n    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;\n  }\n  vec4 elu_(vec4 v) {\n    return vec4(elu_(v.x), elu_(v.y), elu_(v.z), elu_(v.w));\n  }\n  ",name:"elu",type:i.FunctionType.ValueBased}}function g(){return I("exp")}function b(){return I("floor")}function y(t,e){return{body:"\n  const float min = float("+t+");\n  const float max = float("+e+");\n\n  float clip_(float a) {\n    return clamp(a, min, max);\n  }\n  vec4 clip_(vec4 v) {\n    return clamp(v, min, max);\n  }\n  ",name:"clip",type:i.FunctionType.ValueBased}}function m(){return{body:"\n  float indentity_(float a) {\n    return a;\n  }\n  vec4 indentity_(vec4 v) {\n    return v;\n  }\n  ",name:"indentity",type:i.FunctionType.ValueBased}}function v(t){var e="leakyRelu";return{body:"\n  const float alpha = float("+t+");\n\n  float "+e+"_(float a) {\n    return a < 0.0 ? a * alpha : a;\n  }\n  vec4 "+e+"_(vec4 v) {\n    return vec4("+e+"_(v.x), "+e+"_(v.y), "+e+"_(v.z), "+e+"_(v.w));\n  }\n  ",name:e,type:i.FunctionType.ValueBased}}function _(){return I("log")}function w(){return{body:"\n  float neg_(float a) {\n    return -a;\n  }\n  vec4 neg_(vec4 v) {\n    return -v;\n  }\n  ",name:"neg",type:i.FunctionType.ValueBased}}function x(){return{body:"\n  float not_(float a) {\n    return float( ! bool(a) );\n  }\n  bool not_(bool a) {\n    return !a;\n  }\n  vec4 not_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 not_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  ",name:"not",type:i.FunctionType.ValueBased}}function T(){return I("sin")}function S(){return{body:"\n  float relu_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 relu_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  ",name:"relu",type:i.FunctionType.ValueBased}}function O(){return{body:"\n  float sigmoid_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 sigmoid_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  ",name:"sigmoid",type:i.FunctionType.ValueBased}}function A(){return I("sqrt")}function E(){return I("tan")}function P(){return{body:"\n  float tanh_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 tanh_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  ",name:"tanh",type:i.FunctionType.ValueBased}}function I(t){return{body:"\n  float "+t+"_(float a) {\n    return "+t+"(a);\n  }\n  vec4 "+t+"_(vec4 v) {\n    return "+t+"(v);\n  }\n  ",name:t,type:i.FunctionType.ValueBased}}e.glslAbs=u,e.glslAcos=l,e.glslAsin=c,e.glslAtan=f,e.glslCeil=p,e.glslCos=d,e.glslElu=h,e.glslExp=g,e.glslFloor=b,e.glslClip=y,e.glslIdentity=m,e.glslLeakyRelu=v,e.glslLog=_,e.glslNeg=w,e.glslNot=x,e.glslSin=T,e.glslRelu=S,e.glslSigmoid=O,e.glslSqrt=A,e.glslTan=E,e.glslTanh=P;var D=function(t,e,n,o){var i=t.session.pack?s.TextureType.packed:s.TextureType.unpacked,u={name:n.name,inputTypes:[i],inputNames:["A"],cacheHint:o};return r(r({},u),{get:function(){return function(t,e,n,o){var i=t.session.pack?s.TextureType.packed:s.TextureType.unpacked,u=a.getGlsl(t.session.backend.glContext.version);return r(r({},e),{output:{dims:n.dims,type:n.type,textureType:i},shaderSource:"\n     "+o.body+"\n     void main() {\n       vec4 v = "+u.texture2D+"(A, TexCoords);\n       v = "+o.name+"_(v);\n       "+u.output+" = v;\n     }\n     ",hasMain:!0})}(t,u,e,n)}})};e.abs=function(t,e){return[t.run(D(t,e[0],u()),e)]},e.acos=function(t,e){return[t.run(D(t,e[0],l()),e)]},e.asin=function(t,e){return[t.run(D(t,e[0],c()),e)]},e.atan=function(t,e){return[t.run(D(t,e[0],f()),e)]},e.clip=function(t,e,n){return[t.run(D(t,e[0],y(n.min,n.max),n.cacheKey),e)]},e.parseClipAttributes=function(t){return o.createAttributeWithCacheKey({min:t.attributes.getFloat("min",-34028234663852886e22),max:t.attributes.getFloat("max",34028234663852886e22)})},e.ceil=function(t,e){return[t.run(D(t,e[0],p()),e)]},e.cos=function(t,e){return[t.run(D(t,e[0],d()),e)]},e.elu=function(t,e,n){return[t.run(D(t,e[0],h(n.alpha),n.cacheKey),e)]},e.parseEluAttributes=function(t){return o.createAttributeWithCacheKey({alpha:t.attributes.getFloat("alpha",1)})},e.exp=function(t,e){return[t.run(D(t,e[0],g()),e)]},e.floor=function(t,e){return[t.run(D(t,e[0],b()),e)]},e.identity=function(t,e){return[t.run(D(t,e[0],m()),e)]},e.leakyRelu=function(t,e,n){return[t.run(D(t,e[0],v(n.alpha),n.cacheKey),e)]},e.parseLeakyReluAttributes=function(t){return o.createAttributeWithCacheKey({alpha:t.attributes.getFloat("alpha",.01)})},e.log=function(t,e){return[t.run(D(t,e[0],_()),e)]},e.neg=function(t,e){return[t.run(D(t,e[0],w()),e)]},e.not=function(t,e){return[t.run(D(t,e[0],x()),e)]},e.relu=function(t,e){return[t.run(D(t,e[0],S()),e)]},e.sigmoid=function(t,e){return[t.run(D(t,e[0],O()),e)]},e.sin=function(t,e){return[t.run(D(t,e[0],T()),e)]},e.sqrt=function(t,e){return[t.run(D(t,e[0],A()),e)]},e.tan=function(t,e){return[t.run(D(t,e[0],E()),e)]},e.tanh=function(t,e){return[t.run(D(t,e[0],P()),e)]}},5611:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.createUnpackProgramInfoLoader=e.createUnpackProgramInfo=void 0;var o=n(5060),i=n(2039),a=n(9390),s=n(2827),u={name:"unpack",inputNames:["A"],inputTypes:[i.TextureType.packed]};e.createUnpackProgramInfo=function(t,e){var n=e.dims.length,l=s.getChannels("rc",n),c=l.slice(-2),f=a.getCoordsDataType(n),p=s.unpackFromChannel(),d=0===e.dims.length?"":function(t,e){if(1===t)return"rc";for(var n="",r=0;r<t;r++)n+=e[r],r<t-1&&(n+=",");return n}(n,l),h=n<=1?"rc":"vec2("+c.join(",")+")",g="\n    "+p+"\n    void main() {\n      "+f+" rc = getOutputCoords();\n\n       // Sample the texture with the coords to get the rgba channel value.\n       vec4 packedInput = getA("+d+");\n\n       "+o.getGlsl(t.session.backend.glContext.version).output+" = vec4(getChannel(packedInput, "+h+"), 0, 0, 0);\n     }\n   ";return r(r({},u),{hasMain:!0,output:{dims:e.dims,type:e.type,textureType:i.TextureType.unpacked},shaderSource:g})},e.createUnpackProgramInfoLoader=function(t,n){return r(r({},u),{get:function(){return e.createUnpackProgramInfo(t,n)}})}},8428:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseUnsqueezeAttributes=e.unsqueeze=void 0;var r=n(2517);e.unsqueeze=function(t,e,n){o(e);var i=r.ShapeUtil.unsqueezeShape(e[0].dims,n);return[t.reshapeUnpacked(e[0],i)]},e.parseUnsqueezeAttributes=function(t){return t.attributes.getInts("axes")};var o=function(t){if(!t||1!==t.length)throw new Error("Unsqueeze requires 1 input.");if("string"===t[0].type)throw new Error("invalid input tensor types.")}},9793:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.scalesValidation=e.validateInputs=e.parseUpsampleAttributes=e.parseUpsampleAttributesV9=e.parseUpsampleAttributesV7=e.upsample=void 0;var a=n(246),s=n(5060),u=n(2039),l={name:"Upsample",inputNames:["X"],inputTypes:[u.TextureType.unpacked]};e.upsample=function(t,n,o){return e.validateInputs(n,o),[t.run(r(r({},l),{cacheHint:o.cacheKey,get:function(){return c(t,n,o)}}),n)]},e.parseUpsampleAttributesV7=function(t){return e.parseUpsampleAttributes(t,7)},e.parseUpsampleAttributesV9=function(t){return e.parseUpsampleAttributes(t,9)},e.parseUpsampleAttributes=function(t,n){var r=n>=10,o=t.attributes.getString("mode","nearest");if("nearest"!==o&&"linear"!==o&&(n<11||"cubic"!==o))throw new Error("unrecognized mode: "+o);var i=[];n<9&&(i=t.attributes.getFloats("scales"),e.scalesValidation(i,o,r));var s=t.attributes.getFloat("extrapolation_value",0),u=n>10?t.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(-1===["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(u))throw new Error("coordinate_transform_mode '"+u+"' is not supported");var l="tf_crop_and_resize"===u,c=l,f="nearest"===o&&n>=11?t.attributes.getString("nearest_mode","round_prefer_floor"):"";if(-1===["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(f))throw new Error("nearest_mode '"+f+"' is not supported");var p=t.attributes.getFloat("cubic_coeff_a",-.75),d=0!==t.attributes.getInt("exclude_outside",0);if(d&&"cubic"!==o)throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");var h=n<11||"nearest"===o&&"asymmetric"===u&&"floor"===f,g=0,b=0,y=0;return n>10?(g=1,b=2,y=3):9===n&&(b=1),a.createAttributeWithCacheKey({opset:n,isResize:r,mode:o,scales:i,extrapolationValue:s,coordinateTransformMode:u,useExtrapolation:c,needRoiInput:l,nearestMode:f,cubicCoefficientA:p,excludeOutside:d,useNearest2xOptimization:h,roiInputIdx:g,scalesInputIdx:b,sizesInputIdx:y})};var c=function(t,e,n){for(var i=s.getGlsl(t.session.backend.glContext.version),a=o(t.calculateTextureWidthAndHeight(e[0].dims,u.TextureType.unpacked),2),c=a[0],f=a[1],p=e[0].dims.map((function(t,e){return Math.floor(t*n.scales[e])})),d=o(t.calculateTextureWidthAndHeight(p,u.TextureType.unpacked),2),h=d[0],g=d[1],b=p.length,y=new Array(b),m=new Array(b),v="\n      int output_pitches["+b+"];\n      int input_pitches["+b+"];\n      ",_=b-1;_>=0;_--)y[_]=_===b-1?1:y[_+1]*p[_+1],m[_]=_===b-1?1:m[_+1]*e[0].dims[_+1],v+="\n        output_pitches["+_+"] = "+y[_]+";\n        input_pitches["+_+"] = "+m[_]+";\n        ";var w="\n      float getInputFloat(int index) {\n        vec2 coords = offsetToCoords(index, "+c+", "+f+");\n        float value = getColorAsFloat("+i.texture2D+"(X, coords));\n        return value;\n      }\n      ",x="nearest"===n.mode?"\n    "+w+"\n    float process(int indices["+b+"]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, "+h+", "+g+");\n\n      "+v+"\n\n      int d, m;\n      for (int dim = 0; dim < "+b+"; ++dim) {\n        d = output_index / output_pitches[dim];\n        m = output_index - d * output_pitches[dim];\n        output_index = m;\n\n        if (scales[dim] != 1 && d > 0) {\n          int d2 = d / scales[dim];\n          m = d - d2 * scales[dim];\n          d = d2;\n        }\n        input_index += input_pitches[dim] * d;\n      }\n\n      return getInputFloat(input_index);\n    }":4===b?"\n    "+w+"\n    float process(int indices[4]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, "+h+", "+g+");\n\n      "+v+"\n\n      int m;\n      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m / output_pitches[1];\n      m = m - index_of_dim1 * output_pitches[1];\n      index_of_dim2 = m / output_pitches[2];\n      m = m - index_of_dim2 * output_pitches[2];\n      index_of_dim3 = m;\n\n      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n      index_of_input_dim2 = index_of_dim2 / scales[2];\n      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n      index_of_input_dim3 = index_of_dim3 / scales[3];\n      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n      input_index = index_of_dim0 * input_pitches[0] +\n            index_of_dim1 * input_pitches[1] +\n            index_of_input_dim2 * input_pitches[2] +\n            index_of_input_dim3;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim2 = false;\n      if (index_of_input_dim2 == ("+e[0].dims[2]+" - 1)) {\n        // It's the end in dimension 2\n        x01 = x00;\n        end_of_dim2 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[2]);\n      }\n\n      if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n        // It's the end in dimension 3\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n    }":"\n    "+w+"\n    float process(int indices[2]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, "+h+", "+g+");\n\n      "+v+"\n\n      int m;\n      int index_of_dim0, index_of_dim1;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m;\n\n      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n      index_of_input_dim0 = index_of_dim0 / scales[0];\n      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n      index_of_input_dim1 = index_of_dim1 / scales[1];\n      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim0 = false;\n      if (index_of_input_dim0 == ("+e[0].dims[0]+" - 1)) {\n        // It's the end in dimension 0\n        x01 = x00;\n        end_of_dim0 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[0]);\n      }\n\n      if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n        // It's the end in dimension 1\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n    }";return r(r({},l),{output:{dims:p,type:e[0].type,textureType:u.TextureType.unpacked},shaderSource:x,variables:[{name:"scales",type:"int",arrayLength:n.scales.length,data:n.scales.map((function(t){return Math.ceil(t)}))}]})};e.validateInputs=function(t,e){if(!t||e.opset<9&&1!==t.length||e.opset>=9&&e.opset<11&&2!==t.length||e.opset>=11&&3!==t.length&&4!==t.length)throw new Error("invalid inputs.");if(e.scales.length>0&&t[0].dims.length!==e.scales.length)throw new Error("Invalid input shape.");if("string"===t[0].type)throw new Error("Invalid input tensor types.")},e.scalesValidation=function(t,e,n){var r,o,a,s;if(n)try{for(var u=i(t),l=u.next();!l.done;l=u.next())if(l.value<=0)throw new Error("Scale value should be greater than 0.")}catch(t){a={error:t}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}else try{for(var c=i(t),f=c.next();!f.done;f=c.next())if(f.value<1)throw new Error("Scale value should be greater than or equal to 1.")}catch(t){r={error:t}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}if(!("linear"!==e&&"cubic"!==e||2===t.length||4===t.length&&1===t[0]&&1===t[1]))throw new Error("'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the "+(n?"Resize":"Upsample")+" opeartor.")}},1958:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ProgramManager=void 0;var i=n(2174),a=n(6231),s=n(8879),u=n(5060),l=function(){function t(t,e,n){this.profiler=t,this.glContext=e,this.textureLayoutStrategy=n,this.repo=new Map,this.attributesBound=!1}return t.prototype.getArtifact=function(t){return this.repo.get(t)},t.prototype.setArtifact=function(t,e){this.repo.set(t,e)},t.prototype.run=function(t,e,n){var r,o=this;this.profiler.event("op","ProgramManager.run "+(null!==(r=t.programInfo.name)&&void 0!==r?r:"unknown kernel"),(function(){var r,i=o.glContext.gl,s=t.program;i.useProgram(s);try{o.bindOutput(n),o.attributesBound||o.bindAttributes(t.attribLocations),o.bindUniforms(t.uniformLocations,null!==(r=t.programInfo.variables)&&void 0!==r?r:[],e)}catch(e){throw a.Logger.error("ProgramManager",t.programInfo.shaderSource),e}o.profiler.event("backend","GlContext.draw()",(function(){o.glContext.draw()}))}),this.glContext)},t.prototype.dispose=function(){var t=this;this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach((function(e){return t.glContext.deleteProgram(e.program)}))},t.prototype.build=function(t,e,n){var r=this;return this.profiler.event("backend","ProgramManager.build",(function(){var o=new s.GlslPreprocessor(r.glContext,t,e,n),i=o.preprocess(),a=r.compile(i);return{programInfo:t,program:a,uniformLocations:r.getUniformLocations(a,o.context.programInfo.inputNames,o.context.programInfo.variables),attribLocations:r.getAttribLocations(a)}}))},t.prototype.compile=function(t){if(!this.vertexShader){a.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");var e=u.getVertexShaderSource(this.glContext.version);this.vertexShader=this.glContext.compileShader(e,this.glContext.gl.VERTEX_SHADER)}i.env.debug&&a.Logger.verbose("ProrgramManager","FragShader:\n"+t+"\n");var n=this.glContext.compileShader(t,this.glContext.gl.FRAGMENT_SHADER),r=this.glContext.createProgram(this.vertexShader,n);return this.glContext.deleteShader(n),r},t.prototype.bindOutput=function(t){var e=t.width,n=t.height;a.Logger.verbose("ProrgramManager","Binding output texture to Framebuffer: w/h="+e+"/"+n+", shape="+t.shape+", type="+t.tensor.type),this.glContext.attachFramebuffer(t.texture,e,n)},t.prototype.bindAttributes=function(t){var e=t.position,n=t.textureCoord;this.glContext.setVertexAttributes(e,n),this.attributesBound=!0},t.prototype.bindUniforms=function(t,e,n){var r,i,a,s=this.glContext.gl,u=0,l=function(t,r,o,i){var l=null===(a=e.find((function(e){return e.name===t})))||void 0===a?void 0:a.data;if("sampler2D"!==r&&!l)throw new Error("variable '"+t+"' does not have data defined in program info");switch(r){case"sampler2D":c.bindTexture(n[u],o,u),u++;break;case"float":i?s.uniform1fv(o,l):s.uniform1f(o,l);break;case"int":i?s.uniform1iv(o,l):s.uniform1i(o,l);break;default:throw new Error("Uniform not implemented: "+r)}},c=this;try{for(var f=o(t),p=f.next();!p.done;p=f.next()){var d=p.value;l(d.name,d.type,d.location,d.arrayLength)}}catch(t){r={error:t}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}},t.prototype.bindTexture=function(t,e,n){this.glContext.bindTextureToUniform(t.texture,n,e)},t.prototype.getAttribLocations=function(t){return{position:this.getAttribLocation(t,"position"),textureCoord:this.getAttribLocation(t,"textureCoord")}},t.prototype.getUniformLocations=function(t,e,n){var i,a,s,u,l=[];if(e)try{for(var c=o(e),f=c.next();!f.done;f=c.next()){var p=f.value;l.push({name:p,type:"sampler2D",location:this.getUniformLocation(t,p)})}}catch(t){i={error:t}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(n)try{for(var d=o(n),h=d.next();!h.done;h=d.next()){var g=h.value;l.push(r(r({},g),{location:this.getUniformLocation(t,g.name)}))}}catch(t){s={error:t}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(s)throw s.error}}return l},t.prototype.getUniformLocation=function(t,e){var n=this.glContext.gl.getUniformLocation(t,e);if(null===n)throw new Error("Uniform "+e+" not found.");return n},t.prototype.getAttribLocation=function(t,e){return this.glContext.gl.getAttribLocation(t,e)},t}();e.ProgramManager=l},6416:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLSessionHandler=void 0;var r=n(6231),o=n(1047),i=n(8316),a=n(1640),s=n(1958),u=n(7859),l=n(5702),c=function(){function t(t,e){this.backend=t,this.context=e,this.layoutStrategy=new u.PreferLogicalStrategy(t.glContext.maxTextureSize),this.programManager=new s.ProgramManager(this.context.profiler,t.glContext,this.layoutStrategy),this.textureManager=new l.TextureManager(t.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===t.textureCacheMode}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=t.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}return t.prototype.createInferenceHandler=function(){return new i.WebGLInferenceHandler(this)},t.prototype.onGraphInitialized=function(t){var e=t.getValues().filter((function(t){return-1===t.from&&t.tensor})).map((function(t){return t.tensor.dataId}));this.initializers=new Set(e)},t.prototype.isInitializer=function(t){return!!this.initializers&&this.initializers.has(t)},t.prototype.addInitializer=function(t){this.initializers.add(t)},t.prototype.getTextureData=function(t,e){return e?this.packedTextureDataCache.get(t):this.unpackedTextureDataCache.get(t)},t.prototype.setTextureData=function(t,e,n){void 0===n&&(n=!1),r.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),n?this.packedTextureDataCache.set(t,e):this.unpackedTextureDataCache.set(t,e)},t.prototype.dispose=function(){var t=this;this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach((function(e){return t.textureManager.releaseTexture(e,!0)})),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach((function(e){return t.textureManager.releaseTexture(e,!0)})),this.unpackedTextureDataCache=new Map},t.prototype.resolve=function(t,e,n){var r=o.resolveOperator(t,e,a.WEBGL_OP_RESOLVE_RULES);return{impl:r.opImpl,context:r.opInit?r.opInit(t,n):t}},t}();e.WebGLSessionHandler=c},7769:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Uint8DataEncoder=e.RGBAFloatDataEncoder=e.RedFloat32DataEncoder=void 0;var r=n(6231),o=function(){function t(t,e){if(void 0===e&&(e=1),1===e)this.internalFormat=t.R32F,this.format=t.RED,this.textureType=t.FLOAT,this.channelSize=e;else{if(4!==e)throw new Error("Invalid number of channels: "+e);this.internalFormat=t.RGBA32F,this.format=t.RGBA,this.textureType=t.FLOAT,this.channelSize=e}}return t.prototype.encode=function(t,e){var n,o;return t.constructor!==Float32Array&&(r.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),o=new Float32Array(t)),e*this.channelSize>t.length?(r.Logger.warning("Encoder","Source data too small. Allocating larger array"),o=t,n=this.allocate(e*this.channelSize),o.forEach((function(t,e){return n[e]=t}))):n=o=t,n},t.prototype.allocate=function(t){return new Float32Array(4*t)},t.prototype.decode=function(t,e){return 1===this.channelSize?t.filter((function(t,e){return e%4==0})).subarray(0,e):t.subarray(0,e)},t}();e.RedFloat32DataEncoder=o;var i=function(){function t(t,e,n){if(void 0===e&&(e=1),1!==e&&4!==e)throw new Error("Invalid number of channels: "+e);this.internalFormat=t.RGBA,this.format=t.RGBA,this.channelSize=e,this.textureType=n||t.FLOAT}return t.prototype.encode=function(t,e){var n=t;return 1===this.channelSize&&(r.Logger.verbose("Encoder","Exploding into a larger array"),n=this.allocate(e),t.forEach((function(t,e){return n[4*e]=t}))),n},t.prototype.allocate=function(t){return new Float32Array(4*t)},t.prototype.decode=function(t,e){return 1===this.channelSize?t.filter((function(t,e){return e%4==0})).subarray(0,e):t.subarray(0,e)},t}();e.RGBAFloatDataEncoder=i;var a=function(){function t(t,e){if(void 0===e&&(e=1),this.channelSize=4,1===e)this.internalFormat=t.ALPHA,this.format=t.ALPHA,this.textureType=t.UNSIGNED_BYTE,this.channelSize=e;else{if(4!==e)throw new Error("Invalid number of channels: "+e);this.internalFormat=t.RGBA,this.format=t.RGBA,this.textureType=t.UNSIGNED_BYTE,this.channelSize=e}}return t.prototype.encode=function(t,e){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},t.prototype.allocate=function(t){return new Uint8Array(t*this.channelSize)},t.prototype.decode=function(t,e){if(t instanceof Uint8Array)return t.subarray(0,e);throw new Error("Invalid array type: "+t.constructor)},t}();e.Uint8DataEncoder=a},7859:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBatchDim=e.sizeToSquarishShape=e.getRowsCols=e.sizeFromShape=e.isInt=e.parseAxisParam=e.squeezeShape=e.PreferLogicalStrategy=e.AlwaysKeepOriginalSizeStrategy=void 0;var r=n(6231),o=n(2517),i=function(){function t(t){this.maxTextureSize=t}return t.prototype.computeTextureWH=function(t,e){if(0===t.length)return[1,1];var n=this.maxTextureSize;if(e&&void 0!==e.breakAxis){var o=e.breakAxis>=t.length?1:t.slice(e.breakAxis).reduce((function(t,e){return t*e})),i=e.breakAxis<=0?1:t.slice(0,e.breakAxis).reduce((function(t,e){return t*e}));if(!(o>n||i>n))return[o,i];r.Logger.verbose("TextureLayout","Given width/height preferences were unattainable: shape:"+t+", breakAxis:"+e.breakAxis)}for(var a=t.reduce((function(t,e){return t*e})),s=Math.floor(Math.sqrt(a));s<n&&s<a&&a%s!=0;s++);if(s>=n||a%s!=0)throw new Error("The given dimensions are outside this GPU's boundaries: "+t);return[s,a/s]},t}();e.AlwaysKeepOriginalSizeStrategy=i;var a=function(){function t(t){this.maxTextureSize=t}return t.prototype.computeTextureWH=function(t,e){var n=this.computeTexture(t,e);return e&&e.isPacked&&(n[0]/=2,n[1]/=2),e&&e.reverseWH?[n[1],n[0]]:n},t.prototype.computeTexture=function(t,e){var n=e&&e.isPacked;if(0===t.length)return n?[2,2]:[1,1];var o=this.maxTextureSize;if(e&&void 0!==e.breakAxis){var i=e.breakAxis>=t.length?1:t.slice(e.breakAxis).reduce((function(t,e){return t*e})),a=e.breakAxis<=0?1:t.slice(0,e.breakAxis).reduce((function(t,e){return t*e}));if(!(i>o||a>o))return[i,a];r.Logger.verbose("TextureLayout","Given width/height preferences were unattainable: shape:"+t+", breakAxis:"+e.breakAxis)}var u=t.slice(0);if(n&&(o*=2,1===(u=u.map((function(t,e){return e>=u.length-2?u[e]%2==0?u[e]:u[e]+1:u[e]}))).length&&(u=[2,u[0]])),2!==u.length){var l=s(u);u=l.newShape}var p=c(u);return u.length<=1&&p<=o?[1,p]:2===u.length&&u[0]<=o&&u[1]<=o?u:3===u.length&&u[0]*u[1]<=o&&u[2]<=o?[u[0]*u[1],u[2]]:3===u.length&&u[0]<=o&&u[1]*u[2]<=o?[u[0],u[1]*u[2]]:4===u.length&&u[0]*u[1]*u[2]<=o&&u[3]<=o?[u[0]*u[1]*u[2],u[3]]:4===u.length&&u[0]<=o&&u[1]*u[2]*u[3]<=o?[u[0],u[1]*u[2]*u[3]]:n?f(p/4).map((function(t){return 2*t})):f(p)},t}();function s(t,e){for(var n=[],r=[],o=null!=e&&Array.isArray(e)&&0===e.length,i=null==e||o?null:u(e,t).sort(),a=0,s=0;s<t.length;++s){if(null!=i){if(i[a]===s&&1!==t[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+t[s]+"' is not 1");(null==i[a]||i[a]>s)&&1===t[s]&&(n.push(t[s]),r.push(s)),i[a]<=s&&a++}1!==t[s]&&(n.push(t[s]),r.push(s))}return{newShape:n,keptDims:r}}function u(t,e){var n=e.length;return t=null==t?e.map((function(t,e){return e})):[].concat(t),o.assert(t.every((function(t){return t>=-n&&t<n})),(function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+t})),o.assert(t.every(l),(function(){return"All values in axis param must be integers but got axis "+t})),t.map((function(t){return t<0?n+t:t}))}function l(t){return t%1==0}function c(t){if(0===t.length)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e}function f(t){var e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}e.PreferLogicalStrategy=a,e.squeezeShape=s,e.parseAxisParam=u,e.isInt=l,e.sizeFromShape=c,e.getRowsCols=function(t){if(0===t.length)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]},e.sizeToSquarishShape=f,e.getBatchDim=function(t,e){return void 0===e&&(e=2),c(t.slice(0,t.length-e))}},4057:function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.createTextureLayoutFromShape=e.calculateTextureWidthAndHeight=e.createTextureLayoutFromTextureType=void 0;var o=n(2517),i=n(2039);e.createTextureLayoutFromTextureType=function(t,n,r){var o=r===i.TextureType.unpacked||r===i.TextureType.unpackedReversed?1:4,a=r===i.TextureType.packed,s=r===i.TextureType.unpackedReversed||r===i.TextureType.packed,u=r===i.TextureType.packedLastDimension?n.length-1:void 0,l=r===i.TextureType.packedLastDimension?n.map((function(t,e){return e===n.length-1?4*t:t})):void 0;return e.createTextureLayoutFromShape(t,n,o,l,{isPacked:a,reverseWH:s,breakAxis:u})},e.calculateTextureWidthAndHeight=function(t,n,r){var o=e.createTextureLayoutFromTextureType(t,n,r);return[o.width,o.height]},e.createTextureLayoutFromShape=function(t,e,n,i,a){void 0===n&&(n=1);var s=!(!a||!a.isPacked),u=r(t.computeTextureWH(s&&i||e,a),2),l=u[0],c=u[1],f=e.length,p=e.slice(0);if(0===f&&(p=[1]),1===n)i=e;else if(s){if(4!==n)throw new Error("a packed texture must be 4-channel");i=e,f>0&&(p[f-1]=Math.ceil(p[f-1]/2)),f>1&&(p[f-2]=Math.ceil(p[f-2]/2))}else if(!i)throw new Error("Unpacked shape is needed when using channels > 1");return{width:l,height:c,channels:n,isPacked:s,shape:p,strides:o.ShapeUtil.computeStrides(p),unpackedShape:i,reversedWH:a&&a.reverseWH}}},5702:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextureManager=void 0;var i=n(6231),a=function(){function t(t,e,n,r){this.glContext=t,this.layoutStrategy=e,this.profiler=n,this.config=r,this.pendingRead=new Map,r.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}return t.prototype.createTextureFromLayout=function(t,e,n,r){var o=this.toEncoderType(t),a=this.glContext.getEncoder(o,e.channels||1,r);if(e.isPacked&&1===r)throw new Error("not implemented");var s,u,l=e.width,c=e.height;if(this.config.reuseTextures){s=l+"x"+c+"_"+a.format+"_"+a.internalFormat+"_"+a.textureType,(u=this.inUseTextures.get(s))||(u=[],this.inUseTextures.set(s,u));var f=this.idleTextures.get(s);if(f&&f.length>0){var p=f.pop();return u.push(p),1===r&&this.glContext.updateTexture(p,l,c,a,this.toTextureData(t,n)),p}}i.Logger.verbose("TextureManager","Creating new texture of size "+e.width+"x"+e.height);var d=this.glContext.allocateTexture(l,c,a,this.toTextureData(t,n));return this.config.reuseTextures&&(u.push(d),this.textureLookup.set(d,s)),d},t.prototype.readTexture=function(t,e,n){var r=this;return n||(n=1),this.profiler.event("backend","TextureManager.readTexture",(function(){var o=t.shape.reduce((function(t,e){return t*e}))*n,i=r.glContext.readTexture(t.texture,t.width,t.height,o,r.toEncoderType(e),n);return r.toTensorData(e,i)}))},t.prototype.readTextureAsync=function(t,e,n){return r(this,void 0,void 0,(function(){var i,a,s=this;return o(this,(function(u){return i=t.tensor.dataId,n||(n=1),this.pendingRead.has(i)?(a=this.pendingRead.get(i),[2,new Promise((function(t){return null==a?void 0:a.push(t)}))]):[2,this.profiler.event("backend","TextureManager.readTextureAsync",(function(){return r(s,void 0,void 0,(function(){var r,a,s,u;return o(this,(function(o){switch(o.label){case 0:return this.pendingRead.set(i,[]),r=t.shape.reduce((function(t,e){return t*e}))*n,[4,this.glContext.createAndWaitForFence()];case 1:return o.sent(),a=this.glContext.readTexture(t.texture,t.width,t.height,r,this.toEncoderType(e),n),s=this.toTensorData(e,a),u=this.pendingRead.get(i),this.pendingRead.delete(i),null==u||u.forEach((function(t){return t(s)})),[2,s]}}))}))}))]}))}))},t.prototype.readUint8TextureAsFloat=function(t){var e=this;return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",(function(){var n=t.shape.reduce((function(t,e){return t*e})),r=e.glContext.readTexture(t.texture,t.width,t.height,4*n,"byte",4);return new Float32Array(r.buffer,r.byteOffset,n)}))},t.prototype.releaseTexture=function(t,e){var n;if(this.config.reuseTextures&&(n=this.textureLookup.get(t.texture))){e&&this.textureLookup.delete(n);var r=this.inUseTextures.get(n);if(r){var o=r.indexOf(t.texture);if(-1!==o){r.splice(o,1);var a=this.idleTextures.get(n);a||(a=[],this.idleTextures.set(n,a)),a.push(t.texture)}}}n&&!e||(i.Logger.verbose("TextureManager","Deleting texture of size "+t.width+"x"+t.height),this.glContext.deleteTexture(t.texture))},t.prototype.toTensorData=function(t,e){switch(t){case"int16":return e instanceof Int16Array?e:Int16Array.from(e);case"int32":return e instanceof Int32Array?e:Int32Array.from(e);case"int8":return e instanceof Int8Array?e:Int8Array.from(e);case"uint16":return e instanceof Uint16Array?e:Uint16Array.from(e);case"uint32":return e instanceof Uint32Array?e:Uint32Array.from(e);case"uint8":case"bool":return e instanceof Uint8Array?e:Uint8Array.from(e);case"float32":return e instanceof Float32Array?e:Float32Array.from(e);case"float64":return e instanceof Float64Array?e:Float64Array.from(e);default:throw new Error("TensorData type "+t+" is not supported")}},t.prototype.toTextureData=function(t,e){if(e)return e instanceof Float32Array?e:new Float32Array(e)},t.prototype.toEncoderType=function(t){return"float"},t.prototype.clearActiveTextures=function(){this.glContext.clearActiveTextures()},t}();e.TextureManager=a},2039:function(t,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.TextureType=void 0,(n=e.TextureType||(e.TextureType={}))[n.unpacked=0]="unpacked",n[n.unpackedReversed=1]="unpackedReversed",n[n.packed=2]="packed",n[n.downloadUint8AsFloat=3]="downloadUint8AsFloat",n[n.packedLastDimension=4]="packedLastDimension"},9390:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getGlChannels=e.getCoordsDataType=e.getSqueezedParams=e.squeezeInputShape=e.generateShaderFuncNameFromInputSamplerNameAtOutCoords=e.generateShaderFuncNameFromInputSamplerName=e.repeatedTry=e.getPackedShape=void 0;var i=n(2517);e.getPackedShape=function(t){var e=t.length;return t.slice(0,e-1).concat(t[e-1]/4)},e.repeatedTry=function(t,e,n){return void 0===e&&(e=function(t){return 0}),r(this,void 0,void 0,(function(){return o(this,(function(r){return[2,new Promise((function(r,o){var i=0,a=function(){if(t())r();else{i++;var s=e(i);null!=n&&i>=n?o():setTimeout(a,s)}};a()}))]}))}))},e.generateShaderFuncNameFromInputSamplerName=function(t){return i.assert(void 0!==t&&0!==t.length,(function(){return"empty string found for sampler name"})),"get"+t.charAt(0).toUpperCase()+t.slice(1)},e.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(t){return i.assert(void 0!==t&&0!==t.length,(function(){return"empty string found for sampler name"})),"get"+t.charAt(0).toUpperCase()+t.slice(1)+"AtOutCoords"},e.squeezeInputShape=function(t,e){return JSON.parse(JSON.stringify(t)),e},e.getSqueezedParams=function(t,e){return e.map((function(e){return t[e]})).join(", ")},e.getCoordsDataType=function(t){if(t<=1)return"int";if(2===t)return"ivec2";if(3===t)return"ivec3";if(4===t)return"ivec4";if(5===t)return"ivec5";if(6===t)return"ivec6";throw Error("GPU for rank "+t+" is not yet supported")},e.getGlChannels=function(t){return void 0===t&&(t=6),["x","y","z","w","u","v"].slice(0,t)}},7305:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNewWebGLContext=e.createWebGLContext=void 0;var r=n(6231),o=n(1713),i={};function a(t){var e,n=function(){var t=document.createElement("canvas");return t.width=1,t.height=1,t}(),i={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!t||"webgl2"===t)&&(e=n.getContext("webgl2",i)))try{return new o.WebGLContext(e,2)}catch(t){r.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl2'. Error: "+t)}if((!t||"webgl"===t)&&(e=n.getContext("webgl",i)||n.getContext("experimental-webgl",i)))try{return new o.WebGLContext(e,1)}catch(t){r.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: "+t)}throw new Error("WebGL is not supported")}e.createWebGLContext=function t(e){var n;e&&"webgl2"!==e||!("webgl2"in i)?e&&"webgl"!==e||!("webgl"in i)||(n=i.webgl):n=i.webgl2,n=n||a(e),e=e||1===n.version?"webgl":"webgl2";var r=n.gl;return i[e]=n,r.isContextLost()?(delete i[e],t(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),n)},e.createNewWebGLContext=a},1713:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLContext=e.linearSearchLastTrue=void 0;var u=n(2174),l=i(n(7769)),c=n(9390);function f(t){for(var e=0;e<t.length&&t[e]();++e);return e-1}e.linearSearchLastTrue=f;var p=function(){function t(t,e){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=t,this.version=e,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}return t.prototype.allocateTexture=function(t,e,n,r){var o=this.gl,i=o.createTexture();o.bindTexture(o.TEXTURE_2D,i),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);var a=r?n.encode(r,t*e):null;return o.texImage2D(o.TEXTURE_2D,0,n.internalFormat,t,e,0,n.format,n.textureType,a),this.checkError(),i},t.prototype.updateTexture=function(t,e,n,r,o){var i=this.gl;i.bindTexture(i.TEXTURE_2D,t);var a=r.encode(o,e*n);i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,n,r.format,r.textureType,a),this.checkError()},t.prototype.attachFramebuffer=function(t,e,n){var r=this.gl;r.bindTexture(r.TEXTURE_2D,t),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),this.checkError(),r.viewport(0,0,e,n),r.scissor(0,0,e,n)},t.prototype.readTexture=function(t,e,n,r,o,i){var a=this.gl;i||(i=1),this.frameBufferBound||this.attachFramebuffer(t,e,n);var s=this.getEncoder(o,i),u=s.allocate(e*n);return a.bindTexture(a.TEXTURE_2D,t),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,t,0),a.readPixels(0,0,e,n,a.RGBA,s.textureType,u),this.checkError(),s.decode(u,r)},t.prototype.isFramebufferReady=function(){return!0},t.prototype.getActiveTexture=function(){var t=this.gl;return"TEXTURE"+(t.getParameter(this.gl.ACTIVE_TEXTURE)-t.TEXTURE0)},t.prototype.getTextureBinding=function(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)},t.prototype.getFramebufferBinding=function(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)},t.prototype.setVertexAttributes=function(t,e){var n=this.gl;n.vertexAttribPointer(t,3,n.FLOAT,!1,20,0),n.enableVertexAttribArray(t),-1!==e&&(n.vertexAttribPointer(e,2,n.FLOAT,!1,20,12),n.enableVertexAttribArray(e)),this.checkError()},t.prototype.createProgram=function(t,e){var n=this.gl,r=n.createProgram();return n.attachShader(r,t),n.attachShader(r,e),n.linkProgram(r),r},t.prototype.compileShader=function(t,e){var n=this.gl,r=n.createShader(e);if(!r)throw new Error("createShader() returned null with type "+e);if(n.shaderSource(r,t),n.compileShader(r),!1===n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error("Failed to compile shader: "+n.getShaderInfoLog(r)+"\nShader source:\n"+t);return r},t.prototype.deleteShader=function(t){this.gl.deleteShader(t)},t.prototype.bindTextureToUniform=function(t,e,n){var r=this.gl;r.activeTexture(r.TEXTURE0+e),this.checkError(),r.bindTexture(r.TEXTURE_2D,t),this.checkError(),r.uniform1i(n,e),this.checkError()},t.prototype.draw=function(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()},t.prototype.checkError=function(){if(u.env.debug){var t=this.gl,e=t.getError(),n="";switch(e){case t.NO_ERROR:return;case t.INVALID_ENUM:n="INVALID_ENUM";break;case t.INVALID_VALUE:n="INVALID_VALUE";break;case t.INVALID_OPERATION:n="INVALID_OPERATION";break;case t.INVALID_FRAMEBUFFER_OPERATION:n="INVALID_FRAMEBUFFER_OPERATION";break;case t.OUT_OF_MEMORY:n="OUT_OF_MEMORY";break;case t.CONTEXT_LOST_WEBGL:n="CONTEXT_LOST_WEBGL";break;default:n="Unknown WebGL Error: "+e.toString(16)}throw new Error(n)}},t.prototype.deleteTexture=function(t){this.gl.deleteTexture(t)},t.prototype.deleteProgram=function(t){this.gl.deleteProgram(t)},t.prototype.getEncoder=function(t,e,n){if(void 0===n&&(n=0),2===this.version)return new l.RedFloat32DataEncoder(this.gl,e);switch(t){case"float":return 1===n||this.isRenderFloat32Supported?new l.RGBAFloatDataEncoder(this.gl,e):new l.RGBAFloatDataEncoder(this.gl,e,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new l.Uint8DataEncoder(this.gl,e);default:throw new Error("Invalid dataType: "+t)}},t.prototype.clearActiveTextures=function(){for(var t=this.gl,e=0;e<this.maxTextureImageUnits;++e)t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,null)},t.prototype.dispose=function(){if(!this.disposed){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteFramebuffer(this.framebuffer),t.bindBuffer(t.ARRAY_BUFFER,null),t.deleteBuffer(this.vertexbuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.finish(),this.disposed=!0}},t.prototype.createDefaultGeometry=function(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])},t.prototype.createVertexbuffer=function(){var t=this.gl,e=t.createBuffer();if(!e)throw new Error("createBuffer() returned null");var n=this.createDefaultGeometry();return t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW),this.checkError(),e},t.prototype.createFramebuffer=function(){var t=this.gl.createFramebuffer();if(!t)throw new Error("createFramebuffer returned null");return t},t.prototype.queryVitalParameters=function(){var t=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.version},t.prototype.getExtensions=function(){2===this.version?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))},t.prototype.checkFloatTextureAttachableToFrameBuffer=function(){var t=this.gl,e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);var n=2===this.version?t.RGBA32F:t.RGBA;t.texImage2D(t.TEXTURE_2D,0,n,1,1,0,t.RGBA,t.FLOAT,null);var r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0);var o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(e),t.deleteFramebuffer(r),o},t.prototype.checkRenderFloat32=function(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer},t.prototype.checkFloat32Download=function(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else{if(!this.textureFloatExtension)return!1;if(!this.gl.getExtension("WEBGL_color_buffer_float"))return!1}return this.isFloatTextureAttachableToFrameBuffer},t.prototype.checkFloat32Blend=function(){var t,e,n,r,o,i=this.gl;try{t=i.createTexture(),e=i.createFramebuffer(),i.bindTexture(i.TEXTURE_2D,t);var a=2===this.version?i.RGBA32F:i.RGBA;return i.texImage2D(i.TEXTURE_2D,0,a,1,1,0,i.RGBA,i.FLOAT,null),i.bindFramebuffer(i.FRAMEBUFFER,e),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t,0),i.enable(i.BLEND),!!(n=i.createShader(i.VERTEX_SHADER))&&(i.shaderSource(n,"void main(){}"),i.compileShader(n),!!(r=i.createShader(i.FRAGMENT_SHADER))&&(i.shaderSource(r,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),i.compileShader(r),!!(o=i.createProgram())&&(i.attachShader(o,n),i.attachShader(o,r),i.linkProgram(o),i.useProgram(o),i.drawArrays(i.POINTS,0,1),i.getError()===i.NO_ERROR)))}finally{i.disable(i.BLEND),o&&i.deleteProgram(o),n&&i.deleteShader(n),r&&i.deleteShader(r),e&&(i.bindFramebuffer(i.FRAMEBUFFER,null),i.deleteFramebuffer(e)),t&&(i.bindTexture(i.TEXTURE_2D,null),i.deleteTexture(t))}},t.prototype.beginTimer=function(){if(2===this.version&&this.disjointTimerQueryWebgl2Extension){var t=this.gl,e=this.disjointTimerQueryWebgl2Extension,n=t.createQuery();return t.beginQuery(e.TIME_ELAPSED_EXT,n),n}throw new Error("WebGL1 profiling currently not supported.")},t.prototype.endTimer=function(){if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");var t=this.gl,e=this.disjointTimerQueryWebgl2Extension;t.endQuery(e.TIME_ELAPSED_EXT)},t.prototype.isTimerResultAvailable=function(t){var e,n;if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");var r=this.gl,o=this.disjointTimerQueryWebgl2Extension;return e=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE),n=r.getParameter(o.GPU_DISJOINT_EXT),e&&!n},t.prototype.getTimerResult=function(t){var e;if(2!==this.version)throw new Error("WebGL1 profiling currently not supported");var n=this.gl;return e=n.getQueryParameter(t,n.QUERY_RESULT),n.deleteQuery(t),e/1e6},t.prototype.waitForQueryAndGetTime=function(t){return a(this,void 0,void 0,(function(){var e=this;return s(this,(function(n){switch(n.label){case 0:return[4,c.repeatedTry((function(){return e.isTimerResultAvailable(t)}))];case 1:return n.sent(),[2,this.getTimerResult(t)]}}))}))},t.prototype.createAndWaitForFence=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){return t=this.createFence(this.gl),[2,this.pollFence(t)]}))}))},t.prototype.createFence=function(t){var e=t,n=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return t.flush(),{query:n,isFencePassed:null===n?function(){return!0}:function(){var t=e.clientWaitSync(n,0,0);return t===e.ALREADY_SIGNALED||t===e.CONDITION_SATISFIED}}},t.prototype.pollFence=function(t){return a(this,void 0,void 0,(function(){var e=this;return s(this,(function(n){return[2,new Promise((function(n){e.addItemToPoll((function(){return t.isFencePassed()}),(function(){return n()}))}))]}))}))},t.prototype.pollItems=function(){for(var t=f(this.itemsToPoll.map((function(t){return t.isDoneFn}))),e=0;e<=t;++e)(0,this.itemsToPoll[e].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(t+1)},t.prototype.addItemToPoll=function(t,e){return a(this,void 0,void 0,(function(){var n=this;return s(this,(function(r){switch(r.label){case 0:return this.itemsToPoll.push({isDoneFn:t,resolveFn:e}),this.itemsToPoll.length>1?[2]:[4,c.repeatedTry((function(){return n.pollItems(),0===n.itemsToPoll.length}))];case 1:return r.sent(),[2]}}))}))},t}();e.WebGLContext=p},1036:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.ExecutionPlan=void 0;var u=n(6231),l=function(t,e){this.op=t,this.node=e},c=function(){function t(t,e,n){this.graph=t,this.profiler=n,this.initialize(e)}return t.prototype.initialize=function(t){var e=this;this.profiler.event("session","ExecutionPlan.initialize",(function(){var n=e.graph.getNodes();if(n.length!==t.length)throw new Error("The size of nodes and OPs do not match.");e._ops=t.map((function(t,e){return new l(t,n[e])})),e.reset(),e._starter=[],e._ops.forEach((function(t,n){var r,o,a=!0;try{for(var s=i(t.node.inputs),u=s.next();!u.done;u=s.next()){var l=u.value;if(!e._values[l]&&-1===e.graph.getInputIndices().indexOf(l)){a=!1;break}}}catch(t){r={error:t}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}a&&e._starter.push(n)}))}))},t.prototype.reset=function(){this._values=this.graph.getValues().map((function(t){return t.tensor}))},t.prototype.execute=function(t,e){return r(this,void 0,void 0,(function(){var n=this;return o(this,(function(l){return[2,this.profiler.event("session","ExecutionPlan.execute",(function(){return r(n,void 0,void 0,(function(){var n,l,c,f,p,d,h,g,b,y,m,v,_=this;return o(this,(function(w){switch(w.label){case 0:if(this.reset(),n=t.createInferenceHandler(),l=this.graph.getInputIndices(),e.length!==l.length)throw new Error("number of input tensors don't match the number of inputs to the model: actual: "+e.length+" expected: "+l.length);e.forEach((function(t,e){var n=l[e];_._values[n]=t})),c=this._starter.slice(0),f=this.graph.getValues(),p=this.graph.getNodes(),d=0,h=function(){var t,e,l,h,b,y;return o(this,(function(m){switch(m.label){case 0:if(t=c[d++],e=g._ops[t],-1!==(l=e.node.inputs.map((function(t){return _._values[t]}))).indexOf(void 0))throw new Error("unresolved input detected: op: "+e.node);return h=l,u.Logger.verbose("ExecPlan","Runing op:"+e.node.name+" ("+h.map((function(t,n){return"'"+e.node.inputs[n]+"': "+t.type+"["+t.dims.join(",")+"]"})).join(", ")+")"),[4,g.profiler.event("node",e.node.name,(function(){return r(_,void 0,void 0,(function(){return o(this,(function(t){return[2,e.op.impl(n,h,e.op.context)]}))}))}))];case 1:if((b=m.sent()).length!==e.node.outputs.length)throw new Error("the size of output does not match model definition.");return b.forEach((function(t,n){var r=e.node.outputs[n];if(_._values[r])throw new Error("output ["+r+"] already has value: op:"+e.node.name);_._values[r]=t})),y=new Set,b.forEach((function(t,n){var r,o,a,s,u=e.node.outputs[n];try{for(var l=(r=void 0,i(f[u].to)),c=l.next();!c.done;c=l.next()){var d=c.value,h=p[d],g=!0;try{for(var b=(a=void 0,i(h.inputs)),m=b.next();!m.done;m=b.next()){var v=m.value;if(!_._values[v]){g=!1;break}}}catch(t){a={error:t}}finally{try{m&&!m.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}g&&y.add(d)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}})),c.push.apply(c,s([],a(y))),[2]}}))},g=this,w.label=1;case 1:return d<c.length?[5,h()]:[3,3];case 2:return w.sent(),[3,1];case 3:b=[],y=0,w.label=4;case 4:if(!(y<this.graph.getOutputIndices().length))return[3,9];if(m=this.graph.getOutputIndices()[y],void 0===(v=this._values[m]))throw new Error("required output ["+m+"] does not have value");return 0!==m?[3,6]:[4,v.getData()];case 5:return w.sent(),[3,7];case 6:v.data,w.label=7;case 7:b.push(v),w.label=8;case 8:return y++,[3,4];case 9:return u.Logger.verbose("ExecPlan","disposing of inferenceHandler"),n.dispose(),[2,b]}}))}))}))]}))}))},t}();e.ExecutionPlan=c},7070:function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=void 0;var o=n(1446),i=n(7778),a=n(9395).onnxruntime.experimental.fbs,s=n(9162),u=n(2517);e.Graph={from:function(t,e){return new f(t,e)}};var l=function(){function t(t){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,t&&(this.type=u.ProtoUtil.tensorValueTypeFromProto(t.type.tensorType))}return Object.defineProperty(t.prototype,"from",{get:function(){return this._from},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"to",{get:function(){return this._to},enumerable:!1,configurable:!0}),t}(),c=function(t,e){t instanceof o.onnx.NodeProto?(this.name=t.name,this.opType=t.opType,this.attributes=new i.Attribute(t.attribute)):t instanceof a.Node&&(this.name=null!=e?e:t.name(),this.opType=t.opType(),this.attributes=new i.Attribute(u.ProtoUtil.tensorAttributesFromORTFormat(t))),this.inputs=[],this.outputs=[],this.executeNode=!0},f=function(){function t(t,e){if(!t)throw new TypeError("graph is empty");this.buildGraph(t),this.transformGraph(e),this.checkIsAcyclic()}return t.prototype.getInputIndices=function(){return this._allInputIndices},t.prototype.getInputNames=function(){return this._allInputNames},t.prototype.getOutputIndices=function(){return this._allOutputIndices},t.prototype.getOutputNames=function(){return this._allOutputNames},t.prototype.getValues=function(){return this._allData},t.prototype.getNodes=function(){return this._nodes},t.prototype.buildGraph=function(t){if(t instanceof o.onnx.GraphProto)this.buildGraphFromOnnxFormat(t);else{if(!(t instanceof a.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(t)}},t.prototype.buildGraphFromOnnxFormat=function(t){var e,n,o,i,a,f,p,d,h,g,b,y,m=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];var v=new Map;if(!t.input)throw new Error("missing information in graph: input");var _=[];try{for(var w=r(t.input),x=w.next();!x.done;x=w.next()){var T=x.value;if(m.has(T.name))throw new Error("duplicated input name: "+T.name);var S=this._allData.push(new l(T))-1;m.set(T.name,S),_.push(T.name)}}catch(t){e={error:t}}finally{try{x&&!x.done&&(n=w.return)&&n.call(w)}finally{if(e)throw e.error}}if(!t.initializer)throw new Error("missing information in graph: initializer");try{for(var O=r(t.initializer),A=O.next();!A.done;A=O.next()){T=A.value;var E=m.get(T.name);if(void 0===E){var P=new l;P.type={shape:{dims:u.ProtoUtil.tensorDimsFromProto(T.dims)},tensorType:u.ProtoUtil.tensorDataTypeFromProto(T.dataType)},E=this._allData.push(P)-1,m.set(T.name,E)}this._allData[E]._from=-1,this._allData[E].tensor=s.Tensor.fromProto(T)}}catch(t){o={error:t}}finally{try{A&&!A.done&&(i=O.return)&&i.call(O)}finally{if(o)throw o.error}}for(T=0;T<this._allData.length;T++)this._allData[T].tensor||(this._allInputIndices.push(T),this._allInputNames.push(_[T]));if(!t.output)throw new Error("missing information in graph: output");try{for(var I=r(t.output),D=I.next();!D.done;D=I.next()){if(T=D.value,m.has(T.name))throw new Error("duplicated output name: "+T.name);S=this._allData.push(new l(T))-1,m.set(T.name,S),this._allOutputIndices.push(S),this._allOutputNames.push(T.name)}}catch(t){a={error:t}}finally{try{D&&!D.done&&(f=I.return)&&f.call(I)}finally{if(a)throw a.error}}if(!t.node)throw new Error("missing information in graph: node");try{for(var k=r(t.node),R=k.next();!R.done;R=k.next()){if(!(B=R.value).name)for(var C=0;;C++){var N="unnamed_"+B.opType+"_"+C;if(!v.has(N)){B.name=N;break}}if(v.has(B.name))throw new Error("duplicated node name: "+B.name);S=this._nodes.push(new c(B))-1,v.set(B.name,S)}}catch(t){p={error:t}}finally{try{R&&!R.done&&(d=k.return)&&d.call(k)}finally{if(p)throw p.error}}for(T=0;T<this._nodes.length;T++){var F=this._nodes[T];if(!(B=t.node[T]).output)throw new Error("missing output for node: "+B.name);try{for(var L=(h=void 0,r(B.output)),M=L.next();!M.done;M=L.next()){var j=M.value;if(void 0===(z=m.get(j))&&(z=this._allData.push(new l)-1,m.set(j,z)),F.outputs.push(z),void 0!==this._allData[z]._from)throw new Error("multiple nodes output to one data value: "+z);if(this._allData[z]._from=T,"Constant"===B.opType){if(!B.attribute||1!==B.attribute.length||!B.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!B.output||1!==B.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");F.outputs.pop(),F.executeNode=!1,this._allData[z]._from=-1,this._allData[z].tensor=s.Tensor.fromProto(B.attribute[0].t)}}}catch(t){h={error:t}}finally{try{M&&!M.done&&(g=L.return)&&g.call(L)}finally{if(h)throw h.error}}}for(T=0;T<this._nodes.length;T++){var B;if(F=this._nodes[T],!(B=t.node[T]).input)throw new Error("missing input for node: "+B.name);try{for(var U=(b=void 0,r(B.input)),V=U.next();!V.done;V=U.next()){var z,G=V.value;if(void 0===(z=m.get(G)))throw new Error("unrecognized input '"+G+"' for node: "+B.name);F.inputs.push(z),this._allData[z]._to.push(T)}}catch(t){b={error:t}}finally{try{V&&!V.done&&(y=U.return)&&y.call(U)}finally{if(b)throw b.error}}}return!0},t.prototype.buildGraphFromOrtFormat=function(t){var e,n,r,o=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];for(var i=new Map,f=[],p=0;p<t.inputsLength();p++){var d=t.inputs(p);if(o.has(d))throw new Error("duplicated input name: "+d);for(var h=0;h<t.nodeArgsLength();h++)if((null===(e=t.nodeArgs(h))||void 0===e?void 0:e.name())===d){var g=new l;if((null===(r=null===(n=t.nodeArgs(h))||void 0===n?void 0:n.type())||void 0===r?void 0:r.valueType())!==a.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");for(var b=t.nodeArgs(h).type().value(new a.TensorTypeAndShape),y=u.ProtoUtil.tensorDataTypeFromProto(b.elemType()),m=b.shape(),v=[],_=0;_<m.dimLength();_++)v.push(u.LongUtil.longToNumber(m.dim(_).value().dimValue()));g.type={shape:{dims:v},tensorType:y};var w=this._allData.push(g)-1;o.set(d,w),f.push(d)}}for(p=0;p<t.initializersLength();p++){var x=t.initializers(p),T=o.get(x.name());void 0===T&&(g=new l,v=u.ProtoUtil.tensorDimsFromORTFormat(x),y=u.ProtoUtil.tensorDataTypeFromProto(x.dataType()),g.type={shape:{dims:v},tensorType:y},T=this._allData.push(g)-1,o.set(x.name(),T)),this._allData[T]._from=-1,this._allData[T].tensor=s.Tensor.fromOrtTensor(x)}for(p=0;p<this._allData.length;p++)this._allData[p].tensor||(this._allInputIndices.push(p),this._allInputNames.push(f[p]));for(p=0;p<t.outputsLength();p++){var S=t.outputs(p);if(o.has(S))throw new Error("duplicated output name: "+S);w=this._allData.push(new l)-1,o.set(S,w),this._allOutputIndices.push(w),this._allOutputNames.push(S)}if(!t.nodes)throw new Error("missing information in graph: node");for(p=0;p<t.nodesLength();p++){var O=(I=t.nodes(p)).name();if(!O)for(var A=0;O="unnamed_"+I.opType()+"_"+A,i.has(O);A++);if(i.has(O))throw new Error("duplicated node name: "+O);w=this._nodes.push(new c(I,O))-1,i.set(O,w)}for(p=0;p<this._nodes.length;p++){var E=this._nodes[p];if(null==(I=t.nodes(p)))throw new Error("No node exists at index "+p);if(0===(null==I?void 0:I.outputsLength()))throw new Error("missing output for node: "+I.name);for(h=0;h<(null==I?void 0:I.outputsLength());h++){var P=null==I?void 0:I.outputs(h);if(void 0===(D=o.get(P))&&(D=this._allData.push(new l)-1,o.set(P,D)),E.outputs.push(D),void 0!==this._allData[D]._from)throw new Error("multiple nodes output to one data value: "+D);if(this._allData[D]._from=p,"Constant"===I.opType()){if(1!==I.attributesLength()||!I.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(1!==I.outputsLength())throw new Error("missing output or incorrect number of outputs for this Constant operator");E.outputs.pop(),E.executeNode=!1,this._allData[D]._from=-1,this._allData[D].tensor=s.Tensor.fromOrtTensor(I.attributes(0).t())}}}for(p=0;p<this._nodes.length;p++){var I;if(E=this._nodes[p],0===(I=t.nodes(p)).inputsLength())throw new Error("missing input for node: "+I.name);for(h=0;h<I.inputsLength();h++){var D,k=I.inputs(h);if(void 0===(D=o.get(k)))throw new Error("unrecognized input '"+k+"' for node: "+I.name());E.inputs.push(D),this._allData[D]._to.push(p)}}},t.prototype.checkIsAcyclic=function(){var t=this,e=new Set;this._allInputIndices.forEach((function(n){t._allData[n]._to.forEach((function(t){e.add(t)}))}));for(var n=Array.from(e),r=new Array(this._nodes.length).fill("white"),o=function(){var e=n.pop();"gray"===r[e]?r[e]="black":(n.push(e),r[e]="gray",i._nodes[e].outputs.forEach((function(o){var i=t._allData[o];if(void 0!==i.tensor)throw new Error("node outputs should not be initialized");if(i._from!==e)throw new Error("from property of the Value object doesn't match index of Node being processed");i._to.forEach((function(t){if("gray"===r[t])throw new Error("model graph is cyclic");"white"===r[t]&&n.push(t)}))})))},i=this;n.length>0;)o()},t.prototype.transformGraph=function(t){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),t&&t.transformGraph(this),this.finalizeGraph()},t.prototype.finalizeGraph=function(){for(var t,e=this,n=0,r=function(r){if(!o._nodes[r].executeNode)return n++,o._nodes[r].outputs.forEach((function(t){e._allData[t]._from=-2})),o._nodes.splice(r,1),r--,t=r,"continue";n>0&&(o._nodes[r].inputs.forEach((function(t){var o=e._allData[t]._to.indexOf(r+n);-1!==o&&(e._allData[t]._to[o]=r)})),o._nodes[r].outputs.forEach((function(t){e._allData[t]._from&&e._allData[t]._from===r+n&&(e._allData[t]._from=r)}))),t=r},o=this,i=0;i<this._nodes.length;i++)r(i),i=t;n=0;var a,s=function(t){if(-2===u._allData[t].from&&-1===u._allOutputIndices.indexOf(t+n))return n++,u._allData.splice(t,1),t--,a=t,"continue";if(n>0){var r=-1;void 0!==u._allData[t].from&&-1!==u._allData[t].from?-1!==(r=u._nodes[u._allData[t].from].outputs.indexOf(t+n))&&(u._nodes[u._allData[t].from].outputs[r]=t):-1!==(r=u._allInputIndices.indexOf(t+n))&&(u._allInputIndices[r]=t),u._allData[t].to.forEach((function(o){-1!==(r=e._nodes[o].inputs.indexOf(t+n))&&(e._nodes[o].inputs[r]=t)})),0===u._allData[t].to.length&&-1!==(r=u._allOutputIndices.indexOf(t+n))&&(u._allOutputIndices[r]=t)}a=t},u=this;for(i=0;i<this._allData.length;i++)s(i),i=a},t.prototype.deleteNode=function(t){var e,n,o=this._nodes[t];if(o.inputs.length>1)throw new Error("Node deletion with multiple inputs is not supported. ");if(o.outputs.length>1)for(var i=1;i<o.outputs.length;i++)if(this._allData[o.outputs[i]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");o.executeNode=!1;var a=o.inputs[0],s=o.outputs[0],u=this._allData[s].to,l=this._allData[a].to.indexOf(t);if(-1===l)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[a].to.splice(l,1),this._allData[s]._to=[];var c=this._allOutputIndices.indexOf(s);if(-1!==c&&(this._allOutputIndices[c]=a),u&&u.length>0)try{for(var f=r(u),p=f.next();!p.done;p=f.next()){var d=p.value,h=this._nodes[d].inputs.indexOf(s);if(-1===h)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[d].inputs[h]=a,this._allData[a].to.push(d)}}catch(t){e={error:t}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}},t.prototype.removeAllDropoutNodes=function(){var t,e,n=0;try{for(var o=r(this._nodes),i=o.next();!i.done;i=o.next()){var a=i.value;if("Dropout"===a.opType){if(1!==a.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==a.outputs.length&&2!==a.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===a.outputs.length&&0!==this._allData[a.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(n)}n++}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.removeAllIdentityNodes=function(){var t,e,n=0;try{for(var o=r(this._nodes),i=o.next();!i.done;i=o.next())"Identity"===i.value.opType&&this.deleteNode(n),n++}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.isActivation=function(t){switch(t.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}},t.prototype.fuseConvActivationNodes=function(){var t,e;try{for(var n=r(this._nodes),o=n.next();!o.done;o=n.next()){var i=o.value;if("Conv"===i.opType){var a=this._allData[i.outputs[0]]._to;if(1===a.length&&this.isActivation(this._nodes[a[0]])){var s=this._nodes[a[0]];i.attributes.set("__internal_activation","string",s.opType),"Clip"===s.opType&&(i.attributes.set("__clip_min","float",s.attributes.getFloat("min")),i.attributes.set("__clip_max","float",s.attributes.getFloat("max"))),this.deleteNode(a[0])}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t}()},6231:function(t,e){"use strict";var n,r,o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.now=e.Profiler=e.Logger=void 0;var a=function(){function t(){}return t.prototype.log=function(t,e,n){},t}(),s=function(){function t(){}return t.prototype.log=function(t,e,n){console.log(this.color(t)+" "+(n?"[35m"+n+"[0m ":"")+e)},t.prototype.color=function(t){switch(t){case"verbose":return"[34;40mv[0m";case"info":return"[32mi[0m";case"warning":return"[30;43mw[0m";case"error":return"[31;40me[0m";case"fatal":return"[101mf[0m";default:throw new Error("unsupported severity: "+t)}},t}(),u={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},l=((n={}).none=new a,n.console=new s,n),c={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1},f=((r={})[""]=c,r);function p(t,e,n,r){if(void 0===e)return o=t,{verbose:p.verbose.bind(null,o),info:p.info.bind(null,o),warning:p.warning.bind(null,o),error:p.error.bind(null,o),fatal:p.fatal.bind(null,o)};if(void 0===n)d(t,e);else if("number"==typeof n&&void 0===r)d(t,e);else if("string"==typeof n&&void 0===r)d(t,n,0,e);else{if("string"!=typeof n||"number"!=typeof r)throw new TypeError("input is valid");d(t,n,0,e)}var o}function d(t,e,n,r){var o=f[r||""]||f[""];u[t]<u[o.minimalSeverity]||(o.logDateTime&&(e=(new Date).toISOString()+"|"+e),o.logSourceLocation,l[o.provider].log(t,e,r))}!function(t){function e(t){f={},n("",t||{})}function n(t,n){if("*"===t)e(n);else{var r=f[t]||c;f[t]={provider:n.provider||r.provider,minimalSeverity:n.minimalSeverity||r.minimalSeverity,logDateTime:void 0===n.logDateTime?r.logDateTime:n.logDateTime,logSourceLocation:void 0===n.logSourceLocation?r.logSourceLocation:n.logSourceLocation}}}t.verbose=function(e,n){t("verbose",e,n)},t.info=function(e,n){t("info",e,n)},t.warning=function(e,n){t("warning",e,n)},t.error=function(e,n){t("error",e,n)},t.fatal=function(e,n){t("fatal",e,n)},t.reset=e,t.set=n,t.setWithEnv=function(t){var e={};t.logLevel&&(e.minimalSeverity=t.logLevel),n("",e)}}(p||(p={})),e.Logger=p;var h=function(){function t(t,e,n,r,o,i){this.category=t,this.name=e,this.startTime=n,this.endCallback=r,this.timer=o,this.ctx=i}return t.prototype.end=function(){return this.endCallback(this)},t.prototype.checkTimer=function(){return o(this,void 0,void 0,(function(){return i(this,(function(t){if(void 0===this.ctx||void 0===this.timer)throw new Error("No webgl timer found");return this.ctx.endTimer(),[2,this.ctx.waitForQueryAndGetTime(this.timer)]}))}))},t}(),g=function(t,e,n,r){this.category=t,this.name=e,this.startTime=n,this.endTime=r},b=function(){function t(t,e,n){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===t?1e4:t,this._flushBatchSize=void 0===e?10:e,this._flushIntervalInMilliseconds=void 0===n?5e3:n}return t.create=function(t){return void 0===t?new this:new this(t.maxNumberEvents,t.flushBatchSize,t.flushIntervalInMilliseconds)},t.prototype.start=function(){this._started=!0,this._timingEvents=[],this._flushTime=e.now(),this._flushPointer=0},t.prototype.stop=function(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])},t.prototype.event=function(t,e,n,r){var a=this,s=this._started?this.begin(t,e,r):void 0,u=!1,l=n();if(l&&"function"==typeof l.then)return u=!0,new Promise((function(t,e){l.then((function(e){return o(a,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return s?[4,s.end()]:[3,2];case 1:n.sent(),n.label=2;case 2:return t(e),[2]}}))}))}),(function(t){return o(a,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return s?[4,s.end()]:[3,2];case 1:n.sent(),n.label=2;case 2:return e(t),[2]}}))}))}))}));if(!u&&s){var c=s.end();if(c&&"function"==typeof c.then)return new Promise((function(t,e){c.then((function(){t(l)}),(function(t){e(t)}))}))}return l},t.prototype.begin=function(t,n,r){var a=this;if(!this._started)throw new Error("profiler is not started yet");if(void 0===r){var s=e.now();return this.flush(s),new h(t,n,s,(function(t){return a.endSync(t)}))}var u=r.beginTimer();return new h(t,n,0,(function(t){return o(a,void 0,void 0,(function(){return i(this,(function(e){return[2,this.end(t)]}))}))}),u,r)},t.prototype.end=function(t){return o(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return[4,t.checkTimer()];case 1:return e=n.sent(),this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new g(t.category,t.name,t.startTime,e)),this.flush(e)),[2]}}))}))},t.prototype.endSync=function(t){var n=e.now();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new g(t.category,t.name,t.startTime,n)),this.flush(n))},t.prototype.logOneEvent=function(t){e.Logger.verbose("Profiler."+t.category,(t.endTime-t.startTime).toFixed(2)+"ms on event '"+t.name+"' at "+t.endTime.toFixed(2))},t.prototype.flush=function(t){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||t-this._flushTime>=this._flushIntervalInMilliseconds){for(var n=this._flushPointer;this._flushPointer<n+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=e.now()}},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!1,configurable:!0}),t}();e.Profiler=b,e.now="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:Date.now},2644:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;var r=n(4819),o=n(1446),i=n(7070),a=n(9395).onnxruntime.experimental.fbs,s=n(2517),u=function(){function t(){}return t.prototype.load=function(t,e,n){if(!n)try{return void this.loadFromOnnxFormat(t,e)}catch(t){if(void 0!==n)throw t}this.loadFromOrtFormat(t,e)},t.prototype.loadFromOnnxFormat=function(t,e){var n=o.onnx.ModelProto.decode(t);if(s.LongUtil.longToNumber(n.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=n.opsetImport.map((function(t){return{domain:t.domain,version:s.LongUtil.longToNumber(t.version)}})),this._graph=i.Graph.from(n.graph,e)},t.prototype.loadFromOrtFormat=function(t,e){var n=new r.flatbuffers.ByteBuffer(t),o=a.InferenceSession.getRootAsInferenceSession(n).model();if(s.LongUtil.longToNumber(o.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(var u=0;u<o.opsetImportLength();u++){var l=o.opsetImport(u);this._opsets.push({domain:null==l?void 0:l.domain(),version:s.LongUtil.longToNumber(l.version())})}this._graph=i.Graph.from(o.graph(),e)},Object.defineProperty(t.prototype,"graph",{get:function(){return this._graph},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"opsets",{get:function(){return this._opsets},enumerable:!1,configurable:!0}),t}();e.Model=u},782:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FLOAT_TYPES=e.INT_TYPES=e.NUMBER_TYPES=void 0,e.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],e.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],e.FLOAT_TYPES=["float32","float64"]},1047:function(t,e){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function r(t,e){if(e.endsWith("+")){var n=Number.parseInt(e.substring(0,e.length-1),10);return!isNaN(n)&&n<=t}if(2===e.split("-").length){var r=e.split("-"),o=(n=Number.parseInt(r[0],10),Number.parseInt(r[1],10));return!isNaN(n)&&!isNaN(o)&&n<=t&&t<=o}return Number.parseInt(e,10)===t}Object.defineProperty(e,"__esModule",{value:!0}),e.resolveOperator=void 0,e.resolveOperator=function(t,e,o){var i,a,s,u;try{for(var l=n(o),c=l.next();!c.done;c=l.next()){var f=c.value,p=f[0],d=f[1],h=f[2],g=f[3],b=f[4];if(t.opType===p)try{for(var y=(s=void 0,n(e)),m=y.next();!m.done;m=y.next()){var v=m.value;if((v.domain===d||"ai.onnx"===v.domain&&""===d)&&r(v.version,h))return{opImpl:g,opInit:b}}}catch(t){s={error:t}}finally{try{m&&!m.done&&(u=y.return)&&u.call(y)}finally{if(s)throw s.error}}}}catch(t){i={error:t}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}throw new TypeError("cannot resolve operator '"+t.opType+"' with opsets: "+e.map((function(t){return(t.domain||"ai.onnx")+" v"+t.version})).join(", "))}},9395:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onnxruntime=void 0;var r,o,i,a,s=n(4819);(a=(i=(o=(r=e.onnxruntime||(e.onnxruntime={})).experimental||(r.experimental={})).fbs||(o.fbs={})).AttributeType||(i.AttributeType={}))[a.UNDEFINED=0]="UNDEFINED",a[a.FLOAT=1]="FLOAT",a[a.INT=2]="INT",a[a.STRING=3]="STRING",a[a.TENSOR=4]="TENSOR",a[a.GRAPH=5]="GRAPH",a[a.FLOATS=6]="FLOATS",a[a.INTS=7]="INTS",a[a.STRINGS=8]="STRINGS",a[a.TENSORS=9]="TENSORS",a[a.GRAPHS=10]="GRAPHS",a[a.SPARSE_TENSOR=11]="SPARSE_TENSOR",a[a.SPARSE_TENSORS=12]="SPARSE_TENSORS",function(t){!function(t){!function(t){var e;(e=t.DimensionValueType||(t.DimensionValueType={}))[e.UNKNOWN=0]="UNKNOWN",e[e.VALUE=1]="VALUE",e[e.PARAM=2]="PARAM"}(t.fbs||(t.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(t){!function(t){var e;(e=t.TensorDataType||(t.TensorDataType={}))[e.UNDEFINED=0]="UNDEFINED",e[e.FLOAT=1]="FLOAT",e[e.UINT8=2]="UINT8",e[e.INT8=3]="INT8",e[e.UINT16=4]="UINT16",e[e.INT16=5]="INT16",e[e.INT32=6]="INT32",e[e.INT64=7]="INT64",e[e.STRING=8]="STRING",e[e.BOOL=9]="BOOL",e[e.FLOAT16=10]="FLOAT16",e[e.DOUBLE=11]="DOUBLE",e[e.UINT32=12]="UINT32",e[e.UINT64=13]="UINT64",e[e.COMPLEX64=14]="COMPLEX64",e[e.COMPLEX128=15]="COMPLEX128",e[e.BFLOAT16=16]="BFLOAT16"}(t.fbs||(t.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(t){!function(t){var e;(e=t.NodeType||(t.NodeType={}))[e.Primitive=0]="Primitive",e[e.Fused=1]="Fused"}(t.fbs||(t.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(t){!function(t){var e;(e=t.TypeInfoValue||(t.TypeInfoValue={}))[e.NONE=0]="NONE",e[e.tensor_type=1]="tensor_type",e[e.sequence_type=2]="sequence_type",e[e.map_type=3]="map_type"}(t.fbs||(t.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsShape=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsShape=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.dim=function(e,n){var r=this.bb.__offset(this.bb_pos,4);return r?(n||new t.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null},e.prototype.dimLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0},e.startShape=function(t){t.startObject(1)},e.addDim=function(t,e){t.addFieldOffset(0,e,0)},e.createDimVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startDimVector=function(t,e){t.startVector(4,e,4)},e.endShape=function(t){return t.endObject()},e.createShape=function(t,n){return e.startShape(t),e.addDim(t,n),e.endShape(t)},e}();e.Shape=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsDimension=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsDimension=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.value=function(e){var n=this.bb.__offset(this.bb_pos,4);return n?(e||new t.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.prototype.denotation=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null},e.startDimension=function(t){t.startObject(2)},e.addValue=function(t,e){t.addFieldOffset(0,e,0)},e.addDenotation=function(t,e){t.addFieldOffset(1,e,0)},e.endDimension=function(t){return t.endObject()},e.createDimension=function(t,n,r){return e.startDimension(t),e.addValue(t,n),e.addDenotation(t,r),e.endDimension(t)},e}();e.Dimension=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsDimensionValue=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsDimensionValue=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.dimType=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):t.experimental.fbs.DimensionValueType.UNKNOWN},e.prototype.dimValue=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)},e.prototype.dimParam=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null},e.startDimensionValue=function(t){t.startObject(3)},e.addDimType=function(e,n){e.addFieldInt8(0,n,t.experimental.fbs.DimensionValueType.UNKNOWN)},e.addDimValue=function(t,e){t.addFieldInt64(1,e,t.createLong(0,0))},e.addDimParam=function(t,e){t.addFieldOffset(2,e,0)},e.endDimensionValue=function(t){return t.endObject()},e.createDimensionValue=function(t,n,r,o){return e.startDimensionValue(t),e.addDimType(t,n),e.addDimValue(t,r),e.addDimParam(t,o),e.endDimensionValue(t)},e}();e.DimensionValue=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsTensorTypeAndShape=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsTensorTypeAndShape=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.elemType=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.experimental.fbs.TensorDataType.UNDEFINED},e.prototype.shape=function(e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new t.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.startTensorTypeAndShape=function(t){t.startObject(2)},e.addElemType=function(e,n){e.addFieldInt32(0,n,t.experimental.fbs.TensorDataType.UNDEFINED)},e.addShape=function(t,e){t.addFieldOffset(1,e,0)},e.endTensorTypeAndShape=function(t){return t.endObject()},e.createTensorTypeAndShape=function(t,n,r){return e.startTensorTypeAndShape(t),e.addElemType(t,n),e.addShape(t,r),e.endTensorTypeAndShape(t)},e}();e.TensorTypeAndShape=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsMapType=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsMapType=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.keyType=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):t.experimental.fbs.TensorDataType.UNDEFINED},e.prototype.valueType=function(e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new t.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.startMapType=function(t){t.startObject(2)},e.addKeyType=function(e,n){e.addFieldInt32(0,n,t.experimental.fbs.TensorDataType.UNDEFINED)},e.addValueType=function(t,e){t.addFieldOffset(1,e,0)},e.endMapType=function(t){return t.endObject()},e.createMapType=function(t,n,r){return e.startMapType(t),e.addKeyType(t,n),e.addValueType(t,r),e.endMapType(t)},e}();e.MapType=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsSequenceType=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsSequenceType=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.elemType=function(e){var n=this.bb.__offset(this.bb_pos,4);return n?(e||new t.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.startSequenceType=function(t){t.startObject(1)},e.addElemType=function(t,e){t.addFieldOffset(0,e,0)},e.endSequenceType=function(t){return t.endObject()},e.createSequenceType=function(t,n){return e.startSequenceType(t),e.addElemType(t,n),e.endSequenceType(t)},e}();e.SequenceType=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(t){!function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.nodeIndex=function(){return this.bb.readUint32(this.bb_pos)},t.prototype.srcArgIndex=function(){return this.bb.readInt32(this.bb_pos+4)},t.prototype.dstArgIndex=function(){return this.bb.readInt32(this.bb_pos+8)},t.createEdgeEnd=function(t,e,n,r){return t.prep(4,12),t.writeInt32(r),t.writeInt32(n),t.writeInt32(e),t.offset()},t}();t.EdgeEnd=e}(t.fbs||(t.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsNodeEdge=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsNodeEdge=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.nodeIndex=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0},e.prototype.inputEdges=function(e,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new t.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*e,this.bb):null},e.prototype.inputEdgesLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.outputEdges=function(e,n){var r=this.bb.__offset(this.bb_pos,8);return r?(n||new t.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*e,this.bb):null},e.prototype.outputEdgesLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0},e.startNodeEdge=function(t){t.startObject(3)},e.addNodeIndex=function(t,e){t.addFieldInt32(0,e,0)},e.addInputEdges=function(t,e){t.addFieldOffset(1,e,0)},e.startInputEdgesVector=function(t,e){t.startVector(12,e,4)},e.addOutputEdges=function(t,e){t.addFieldOffset(2,e,0)},e.startOutputEdgesVector=function(t,e){t.startVector(12,e,4)},e.endNodeEdge=function(t){return t.endObject()},e.createNodeEdge=function(t,n,r,o){return e.startNodeEdge(t),e.addNodeIndex(t,n),e.addInputEdges(t,r),e.addOutputEdges(t,o),e.endNodeEdge(t)},e}();e.NodeEdge=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsNode=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsNode=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.name=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.docString=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.domain=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.sinceVersion=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):0},e.prototype.index=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint32(this.bb_pos+t):0},e.prototype.opType=function(t){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.type=function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readInt32(this.bb_pos+e):t.experimental.fbs.NodeType.Primitive},e.prototype.executionProviderType=function(t){var e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.inputs=function(t,e){var n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null},e.prototype.inputsLength=function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.outputs=function(t,e){var n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null},e.prototype.outputsLength=function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.attributes=function(e,n){var r=this.bb.__offset(this.bb_pos,24);return r?(n||new t.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null},e.prototype.attributesLength=function(){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.inputArgCounts=function(t){var e=this.bb.__offset(this.bb_pos,26);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0},e.prototype.inputArgCountsLength=function(){var t=this.bb.__offset(this.bb_pos,26);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.inputArgCountsArray=function(){var t=this.bb.__offset(this.bb_pos,26);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null},e.prototype.implicitInputs=function(t,e){var n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null},e.prototype.implicitInputsLength=function(){var t=this.bb.__offset(this.bb_pos,28);return t?this.bb.__vector_len(this.bb_pos+t):0},e.startNode=function(t){t.startObject(13)},e.addName=function(t,e){t.addFieldOffset(0,e,0)},e.addDocString=function(t,e){t.addFieldOffset(1,e,0)},e.addDomain=function(t,e){t.addFieldOffset(2,e,0)},e.addSinceVersion=function(t,e){t.addFieldInt32(3,e,0)},e.addIndex=function(t,e){t.addFieldInt32(4,e,0)},e.addOpType=function(t,e){t.addFieldOffset(5,e,0)},e.addType=function(e,n){e.addFieldInt32(6,n,t.experimental.fbs.NodeType.Primitive)},e.addExecutionProviderType=function(t,e){t.addFieldOffset(7,e,0)},e.addInputs=function(t,e){t.addFieldOffset(8,e,0)},e.createInputsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startInputsVector=function(t,e){t.startVector(4,e,4)},e.addOutputs=function(t,e){t.addFieldOffset(9,e,0)},e.createOutputsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startOutputsVector=function(t,e){t.startVector(4,e,4)},e.addAttributes=function(t,e){t.addFieldOffset(10,e,0)},e.createAttributesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startAttributesVector=function(t,e){t.startVector(4,e,4)},e.addInputArgCounts=function(t,e){t.addFieldOffset(11,e,0)},e.createInputArgCountsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()},e.startInputArgCountsVector=function(t,e){t.startVector(4,e,4)},e.addImplicitInputs=function(t,e){t.addFieldOffset(12,e,0)},e.createImplicitInputsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startImplicitInputsVector=function(t,e){t.startVector(4,e,4)},e.endNode=function(t){return t.endObject()},e.createNode=function(t,n,r,o,i,a,s,u,l,c,f,p,d,h){return e.startNode(t),e.addName(t,n),e.addDocString(t,r),e.addDomain(t,o),e.addSinceVersion(t,i),e.addIndex(t,a),e.addOpType(t,s),e.addType(t,u),e.addExecutionProviderType(t,l),e.addInputs(t,c),e.addOutputs(t,f),e.addAttributes(t,p),e.addInputArgCounts(t,d),e.addImplicitInputs(t,h),e.endNode(t)},e}();e.Node=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsValueInfo=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsValueInfo=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.name=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.docString=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.type=function(e){var n=this.bb.__offset(this.bb_pos,8);return n?(e||new t.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.startValueInfo=function(t){t.startObject(3)},e.addName=function(t,e){t.addFieldOffset(0,e,0)},e.addDocString=function(t,e){t.addFieldOffset(1,e,0)},e.addType=function(t,e){t.addFieldOffset(2,e,0)},e.endValueInfo=function(t){return t.endObject()},e.createValueInfo=function(t,n,r,o){return e.startValueInfo(t),e.addName(t,n),e.addDocString(t,r),e.addType(t,o),e.endValueInfo(t)},e}();e.ValueInfo=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsTypeInfo=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsTypeInfo=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.denotation=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.valueType=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):t.experimental.fbs.TypeInfoValue.NONE},e.prototype.value=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null},e.startTypeInfo=function(t){t.startObject(3)},e.addDenotation=function(t,e){t.addFieldOffset(0,e,0)},e.addValueType=function(e,n){e.addFieldInt8(1,n,t.experimental.fbs.TypeInfoValue.NONE)},e.addValue=function(t,e){t.addFieldOffset(2,e,0)},e.endTypeInfo=function(t){return t.endObject()},e.createTypeInfo=function(t,n,r,o){return e.startTypeInfo(t),e.addDenotation(t,n),e.addValueType(t,r),e.addValue(t,o),e.endTypeInfo(t)},e}();e.TypeInfo=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(t){!function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.getRootAsOperatorSetId=function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)},t.getSizePrefixedRootAsOperatorSetId=function(e,n){return e.setPosition(e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)},t.prototype.domain=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},t.prototype.version=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)},t.startOperatorSetId=function(t){t.startObject(2)},t.addDomain=function(t,e){t.addFieldOffset(0,e,0)},t.addVersion=function(t,e){t.addFieldInt64(1,e,t.createLong(0,0))},t.endOperatorSetId=function(t){return t.endObject()},t.createOperatorSetId=function(e,n,r){return t.startOperatorSetId(e),t.addDomain(e,n),t.addVersion(e,r),t.endOperatorSetId(e)},t}();t.OperatorSetId=e}(t.fbs||(t.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsTensor=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsTensor=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.name=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.docString=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.dims=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)},e.prototype.dimsLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.dataType=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):t.experimental.fbs.TensorDataType.UNDEFINED},e.prototype.rawData=function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0},e.prototype.rawDataLength=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.rawDataArray=function(){var t=this.bb.__offset(this.bb_pos,12);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null},e.prototype.stringData=function(t,e){var n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null},e.prototype.stringDataLength=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0},e.startTensor=function(t){t.startObject(6)},e.addName=function(t,e){t.addFieldOffset(0,e,0)},e.addDocString=function(t,e){t.addFieldOffset(1,e,0)},e.addDims=function(t,e){t.addFieldOffset(2,e,0)},e.createDimsVector=function(t,e){t.startVector(8,e.length,8);for(var n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()},e.startDimsVector=function(t,e){t.startVector(8,e,8)},e.addDataType=function(e,n){e.addFieldInt32(3,n,t.experimental.fbs.TensorDataType.UNDEFINED)},e.addRawData=function(t,e){t.addFieldOffset(4,e,0)},e.createRawDataVector=function(t,e){t.startVector(1,e.length,1);for(var n=e.length-1;n>=0;n--)t.addInt8(e[n]);return t.endVector()},e.startRawDataVector=function(t,e){t.startVector(1,e,1)},e.addStringData=function(t,e){t.addFieldOffset(5,e,0)},e.createStringDataVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startStringDataVector=function(t,e){t.startVector(4,e,4)},e.endTensor=function(t){return t.endObject()},e.createTensor=function(t,n,r,o,i,a,s){return e.startTensor(t),e.addName(t,n),e.addDocString(t,r),e.addDims(t,o),e.addDataType(t,i),e.addRawData(t,a),e.addStringData(t,s),e.endTensor(t)},e}();e.Tensor=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsSparseTensor=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsSparseTensor=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.values=function(e){var n=this.bb.__offset(this.bb_pos,4);return n?(e||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.prototype.indices=function(e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.prototype.dims=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)},e.prototype.dimsLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0},e.startSparseTensor=function(t){t.startObject(3)},e.addValues=function(t,e){t.addFieldOffset(0,e,0)},e.addIndices=function(t,e){t.addFieldOffset(1,e,0)},e.addDims=function(t,e){t.addFieldOffset(2,e,0)},e.createDimsVector=function(t,e){t.startVector(8,e.length,8);for(var n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()},e.startDimsVector=function(t,e){t.startVector(8,e,8)},e.endSparseTensor=function(t){return t.endObject()},e.createSparseTensor=function(t,n,r,o){return e.startSparseTensor(t),e.addValues(t,n),e.addIndices(t,r),e.addDims(t,o),e.endSparseTensor(t)},e}();e.SparseTensor=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsAttribute=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsAttribute=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.name=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.docString=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.type=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):t.experimental.fbs.AttributeType.UNDEFINED},e.prototype.f=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readFloat32(this.bb_pos+t):0},e.prototype.i=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)},e.prototype.s=function(t){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.t=function(e){var n=this.bb.__offset(this.bb_pos,16);return n?(e||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.prototype.g=function(e){var n=this.bb.__offset(this.bb_pos,18);return n?(e||new t.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.prototype.floats=function(t){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0},e.prototype.floatsLength=function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.floatsArray=function(){var t=this.bb.__offset(this.bb_pos,20);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null},e.prototype.ints=function(t){var e=this.bb.__offset(this.bb_pos,22);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)},e.prototype.intsLength=function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.strings=function(t,e){var n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null},e.prototype.stringsLength=function(){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.tensors=function(e,n){var r=this.bb.__offset(this.bb_pos,26);return r?(n||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null},e.prototype.tensorsLength=function(){var t=this.bb.__offset(this.bb_pos,26);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.graphs=function(e,n){var r=this.bb.__offset(this.bb_pos,28);return r?(n||new t.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null},e.prototype.graphsLength=function(){var t=this.bb.__offset(this.bb_pos,28);return t?this.bb.__vector_len(this.bb_pos+t):0},e.startAttribute=function(t){t.startObject(13)},e.addName=function(t,e){t.addFieldOffset(0,e,0)},e.addDocString=function(t,e){t.addFieldOffset(1,e,0)},e.addType=function(e,n){e.addFieldInt32(2,n,t.experimental.fbs.AttributeType.UNDEFINED)},e.addF=function(t,e){t.addFieldFloat32(3,e,0)},e.addI=function(t,e){t.addFieldInt64(4,e,t.createLong(0,0))},e.addS=function(t,e){t.addFieldOffset(5,e,0)},e.addT=function(t,e){t.addFieldOffset(6,e,0)},e.addG=function(t,e){t.addFieldOffset(7,e,0)},e.addFloats=function(t,e){t.addFieldOffset(8,e,0)},e.createFloatsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addFloat32(e[n]);return t.endVector()},e.startFloatsVector=function(t,e){t.startVector(4,e,4)},e.addInts=function(t,e){t.addFieldOffset(9,e,0)},e.createIntsVector=function(t,e){t.startVector(8,e.length,8);for(var n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()},e.startIntsVector=function(t,e){t.startVector(8,e,8)},e.addStrings=function(t,e){t.addFieldOffset(10,e,0)},e.createStringsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startStringsVector=function(t,e){t.startVector(4,e,4)},e.addTensors=function(t,e){t.addFieldOffset(11,e,0)},e.createTensorsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startTensorsVector=function(t,e){t.startVector(4,e,4)},e.addGraphs=function(t,e){t.addFieldOffset(12,e,0)},e.createGraphsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startGraphsVector=function(t,e){t.startVector(4,e,4)},e.endAttribute=function(t){return t.endObject()},e.createAttribute=function(t,n,r,o,i,a,s,u,l,c,f,p,d,h){return e.startAttribute(t),e.addName(t,n),e.addDocString(t,r),e.addType(t,o),e.addF(t,i),e.addI(t,a),e.addS(t,s),e.addT(t,u),e.addG(t,l),e.addFloats(t,c),e.addInts(t,f),e.addStrings(t,p),e.addTensors(t,d),e.addGraphs(t,h),e.endAttribute(t)},e}();e.Attribute=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsGraph=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsGraph=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.initializers=function(e,n){var r=this.bb.__offset(this.bb_pos,4);return r?(n||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null},e.prototype.initializersLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.nodeArgs=function(e,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new t.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null},e.prototype.nodeArgsLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.nodes=function(e,n){var r=this.bb.__offset(this.bb_pos,8);return r?(n||new t.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null},e.prototype.nodesLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.maxNodeIndex=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readUint32(this.bb_pos+t):0},e.prototype.nodeEdges=function(e,n){var r=this.bb.__offset(this.bb_pos,12);return r?(n||new t.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null},e.prototype.nodeEdgesLength=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.inputs=function(t,e){var n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null},e.prototype.inputsLength=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.outputs=function(t,e){var n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null},e.prototype.outputsLength=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.sparseInitializers=function(e,n){var r=this.bb.__offset(this.bb_pos,18);return r?(n||new t.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null},e.prototype.sparseInitializersLength=function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0},e.startGraph=function(t){t.startObject(8)},e.addInitializers=function(t,e){t.addFieldOffset(0,e,0)},e.createInitializersVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startInitializersVector=function(t,e){t.startVector(4,e,4)},e.addNodeArgs=function(t,e){t.addFieldOffset(1,e,0)},e.createNodeArgsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startNodeArgsVector=function(t,e){t.startVector(4,e,4)},e.addNodes=function(t,e){t.addFieldOffset(2,e,0)},e.createNodesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startNodesVector=function(t,e){t.startVector(4,e,4)},e.addMaxNodeIndex=function(t,e){t.addFieldInt32(3,e,0)},e.addNodeEdges=function(t,e){t.addFieldOffset(4,e,0)},e.createNodeEdgesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startNodeEdgesVector=function(t,e){t.startVector(4,e,4)},e.addInputs=function(t,e){t.addFieldOffset(5,e,0)},e.createInputsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startInputsVector=function(t,e){t.startVector(4,e,4)},e.addOutputs=function(t,e){t.addFieldOffset(6,e,0)},e.createOutputsVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startOutputsVector=function(t,e){t.startVector(4,e,4)},e.addSparseInitializers=function(t,e){t.addFieldOffset(7,e,0)},e.createSparseInitializersVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startSparseInitializersVector=function(t,e){t.startVector(4,e,4)},e.endGraph=function(t){return t.endObject()},e.createGraph=function(t,n,r,o,i,a,s,u,l){return e.startGraph(t),e.addInitializers(t,n),e.addNodeArgs(t,r),e.addNodes(t,o),e.addMaxNodeIndex(t,i),e.addNodeEdges(t,a),e.addInputs(t,s),e.addOutputs(t,u),e.addSparseInitializers(t,l),e.endGraph(t)},e}();e.Graph=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsModel=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsModel=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.irVersion=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)},e.prototype.opsetImport=function(e,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new t.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null},e.prototype.opsetImportLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.producerName=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.producerVersion=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.domain=function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.modelVersion=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)},e.prototype.docString=function(t){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.graph=function(e){var n=this.bb.__offset(this.bb_pos,18);return n?(e||new t.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.prototype.graphDocString=function(t){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__string(this.bb_pos+e,t):null},e.startModel=function(t){t.startObject(9)},e.addIrVersion=function(t,e){t.addFieldInt64(0,e,t.createLong(0,0))},e.addOpsetImport=function(t,e){t.addFieldOffset(1,e,0)},e.createOpsetImportVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startOpsetImportVector=function(t,e){t.startVector(4,e,4)},e.addProducerName=function(t,e){t.addFieldOffset(2,e,0)},e.addProducerVersion=function(t,e){t.addFieldOffset(3,e,0)},e.addDomain=function(t,e){t.addFieldOffset(4,e,0)},e.addModelVersion=function(t,e){t.addFieldInt64(5,e,t.createLong(0,0))},e.addDocString=function(t,e){t.addFieldOffset(6,e,0)},e.addGraph=function(t,e){t.addFieldOffset(7,e,0)},e.addGraphDocString=function(t,e){t.addFieldOffset(8,e,0)},e.endModel=function(t){return t.endObject()},e.createModel=function(t,n,r,o,i,a,s,u,l,c){return e.startModel(t),e.addIrVersion(t,n),e.addOpsetImport(t,r),e.addProducerName(t,o),e.addProducerVersion(t,i),e.addDomain(t,a),e.addModelVersion(t,s),e.addDocString(t,u),e.addGraph(t,l),e.addGraphDocString(t,c),e.endModel(t)},e}();e.Model=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(t){!function(t){var e=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.getRootAsKernelCreateInfos=function(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)},t.getSizePrefixedRootAsKernelCreateInfos=function(e,n){return e.setPosition(e.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)},t.prototype.nodeIndices=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+4*t):0},t.prototype.nodeIndicesLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0},t.prototype.nodeIndicesArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null},t.prototype.kernelDefHashes=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)},t.prototype.kernelDefHashesLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},t.startKernelCreateInfos=function(t){t.startObject(2)},t.addNodeIndices=function(t,e){t.addFieldOffset(0,e,0)},t.createNodeIndicesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()},t.startNodeIndicesVector=function(t,e){t.startVector(4,e,4)},t.addKernelDefHashes=function(t,e){t.addFieldOffset(1,e,0)},t.createKernelDefHashesVector=function(t,e){t.startVector(8,e.length,8);for(var n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()},t.startKernelDefHashesVector=function(t,e){t.startVector(8,e,8)},t.endKernelCreateInfos=function(t){return t.endObject()},t.createKernelCreateInfos=function(e,n,r){return t.startKernelCreateInfos(e),t.addNodeIndices(e,n),t.addKernelDefHashes(e,r),t.endKernelCreateInfos(e)},t}();t.KernelCreateInfos=e}(t.fbs||(t.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsSubGraphSessionState=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsSubGraphSessionState=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.graphId=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.sessionState=function(e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new t.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.startSubGraphSessionState=function(t){t.startObject(2)},e.addGraphId=function(t,e){t.addFieldOffset(0,e,0)},e.addSessionState=function(t,e){t.addFieldOffset(1,e,0)},e.endSubGraphSessionState=function(t){var e=t.endObject();return t.requiredField(e,4),e},e.createSubGraphSessionState=function(t,n,r){return e.startSubGraphSessionState(t),e.addGraphId(t,n),e.addSessionState(t,r),e.endSubGraphSessionState(t)},e}();e.SubGraphSessionState=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsSessionState=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsSessionState=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.kernels=function(e){var n=this.bb.__offset(this.bb_pos,4);return n?(e||new t.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.prototype.subGraphSessionStates=function(e,n){var r=this.bb.__offset(this.bb_pos,6);return r?(n||new t.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null},e.prototype.subGraphSessionStatesLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},e.startSessionState=function(t){t.startObject(2)},e.addKernels=function(t,e){t.addFieldOffset(0,e,0)},e.addSubGraphSessionStates=function(t,e){t.addFieldOffset(1,e,0)},e.createSubGraphSessionStatesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},e.startSubGraphSessionStatesVector=function(t,e){t.startVector(4,e,4)},e.endSessionState=function(t){return t.endObject()},e.createSessionState=function(t,n,r){return e.startSessionState(t),e.addKernels(t,n),e.addSubGraphSessionStates(t,r),e.endSessionState(t)},e}();e.SessionState=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={})),function(t){!function(e){!function(e){var n=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsInferenceSession=function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsInferenceSession=function(t,n){return t.setPosition(t.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(n||new e).__init(t.readInt32(t.position())+t.position(),t)},e.bufferHasIdentifier=function(t){return t.__has_identifier("ORTM")},e.prototype.ortVersion=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.model=function(e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new t.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.prototype.sessionState=function(e){var n=this.bb.__offset(this.bb_pos,8);return n?(e||new t.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null},e.startInferenceSession=function(t){t.startObject(3)},e.addOrtVersion=function(t,e){t.addFieldOffset(0,e,0)},e.addModel=function(t,e){t.addFieldOffset(1,e,0)},e.addSessionState=function(t,e){t.addFieldOffset(2,e,0)},e.endInferenceSession=function(t){return t.endObject()},e.finishInferenceSessionBuffer=function(t,e){t.finish(e,"ORTM")},e.finishSizePrefixedInferenceSessionBuffer=function(t,e){t.finish(e,"ORTM",!0)},e.createInferenceSession=function(t,n,r,o){return e.startInferenceSession(t),e.addOrtVersion(t,n),e.addModel(t,r),e.addSessionState(t,o),e.endInferenceSession(t)},e}();e.InferenceSession=n}(e.fbs||(e.fbs={}))}(t.experimental||(t.experimental={}))}(e.onnxruntime||(e.onnxruntime={}))},7448:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.OnnxjsSessionHandler=void 0;var i=n(2174),a=n(9162),s=function(){function t(t){this.session=t,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}return t.prototype.dispose=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2]}))}))},t.prototype.run=function(t,e,n){return r(this,void 0,void 0,(function(){var e,n,r,s,u;return o(this,(function(o){switch(o.label){case 0:for(n in e=new Map,t)Object.hasOwnProperty.call(t,n)&&(r=t[n],e.set(n,new a.Tensor(r.dims,r.type,void 0,void 0,r.data)));return[4,this.session.run(e)];case 1:return s=o.sent(),u={},s.forEach((function(t,e){u[e]=new i.Tensor(t.type,t.data,t.dims)})),[2,u]}}))}))},t.prototype.startProfiling=function(){this.session.startProfiling()},t.prototype.endProfiling=function(){this.session.endProfiling()},t}();e.OnnxjsSessionHandler=s},6919:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Session=void 0;var i=n(7067),a=n(1296),s=n(7091),u=n(1036),l=n(6231),c=n(2644),f=function(){function t(t){void 0===t&&(t={}),this._initialized=!1,this.backendHint=t.backendHint,this.profiler=l.Profiler.create(t.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}return Object.defineProperty(t.prototype,"inputNames",{get:function(){return this._model.graph.getInputNames()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outputNames",{get:function(){return this._model.graph.getOutputNames()},enumerable:!1,configurable:!0}),t.prototype.startProfiling=function(){this.profiler.start()},t.prototype.endProfiling=function(){this.profiler.stop()},t.prototype.loadModel=function(t,e,n){return r(this,void 0,void 0,(function(){var u=this;return o(this,(function(l){switch(l.label){case 0:return[4,this.profiler.event("session","Session.loadModel",(function(){return r(u,void 0,void 0,(function(){var r,u,l,f;return o(this,(function(o){switch(o.label){case 0:return[4,s.resolveBackend(this.backendHint)];case 1:return r=o.sent(),this.sessionHandler=r.createSessionHandler(this.context),this._model=new c.Model,"string"!=typeof t?[3,7]:(u=t.endsWith(".ort"),"undefined"!=typeof fetch?[3,3]:[4,a.promisify(i.readFile)(t)]);case 2:return l=o.sent(),this.initialize(Buffer.from(l),u),[3,6];case 3:return[4,fetch(t)];case 4:return[4,o.sent().arrayBuffer()];case 5:l=o.sent(),this.initialize(new Uint8Array(l),u),o.label=6;case 6:return[3,8];case 7:ArrayBuffer.isView(t)?this.initialize(t):(f=new Uint8Array(t,e||0,n||t.byteLength),this.initialize(f)),o.label=8;case 8:return[2]}}))}))}))];case 1:return l.sent(),[2]}}))}))},t.prototype.initialize=function(t,e){var n=this;if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",(function(){var r=n.sessionHandler.transformGraph?n.sessionHandler:void 0;n._model.load(t,r,e),n.sessionHandler.onGraphInitialized&&n.sessionHandler.onGraphInitialized(n._model.graph),n.initializeOps(n._model.graph),n._executionPlan=new u.ExecutionPlan(n._model.graph,n._ops,n.profiler)})),this._initialized=!0},t.prototype.run=function(t){return r(this,void 0,void 0,(function(){var e=this;return o(this,(function(n){if(!this._initialized)throw new Error("session not initialized yet");return[2,this.profiler.event("session","Session.run",(function(){return r(e,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return e=this.normalizeAndValidateInputs(t),[4,this._executionPlan.execute(this.sessionHandler,e)];case 1:return n=r.sent(),[2,this.createOutput(n)]}}))}))}))]}))}))},t.prototype.normalizeAndValidateInputs=function(t){var e=this._model.graph.getInputNames();if(Array.isArray(t)){if(t.length!==e.length)throw new Error("incorrect input array length: expected "+e.length+" but got "+t.length)}else{if(t.size!==e.length)throw new Error("incorrect input map size: expected "+e.length+" but got "+t.size);for(var n=new Array(t.size),r=0,o=0;o<e.length;++o){var i=t.get(e[o]);if(!i)throw new Error("missing input tensor for: '"+name+"'");n[r++]=i}t=n}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,t,!1);else{var a=this._model.graph.getInputIndices(),s=this._model.graph.getValues(),u=new Array(a.length);for(o=0;o<a.length;++o){var l=s[a[o]];u[o]=l.type.shape.dims,this.context.graphInputTypes.push(l.type.tensorType),this.context.graphInputDims.push(t[o].dims)}this.validateInputTensorDims(u,t,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,t),t},t.prototype.validateInputTensorTypes=function(t,e){for(var n=0;n<e.length;n++){var r=t[n],o=e[n].type;if(r!==o)throw new Error("input tensor["+n+"] check failed: expected type '"+r+"' but got "+o)}},t.prototype.validateInputTensorDims=function(t,e,n){for(var r=0;r<e.length;r++){var o=t[r],i=e[r].dims;if(!this.compareTensorDims(o,i,n))throw new Error("input tensor["+r+"] check failed: expected shape '["+o.join(",")+"]' but got ["+i.join(",")+"]")}},t.prototype.compareTensorDims=function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r]&&(!n||0!==t[r]))return!1;return!0},t.prototype.createOutput=function(t){var e=this._model.graph.getOutputNames();if(t.length!==e.length)throw new Error("expected number of outputs do not match number of generated outputs");for(var n=new Map,r=0;r<e.length;++r)n.set(e[r],t[r]);return n},t.prototype.initializeOps=function(t){var e=t.getNodes();this._ops=new Array(e.length);for(var n=0;n<e.length;n++)this._ops[n]=this.sessionHandler.resolve(e[n],this._model.opsets,t)},t}();e.Session=f},9162:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Tensor=void 0;var a=n(3442),s=i(n(3720)),u=n(1446),l=n(9395).onnxruntime.experimental.fbs,c=n(2517),f=function(){function t(t,e,n,r,o,i){void 0===i&&(i=a.Guid.create()),this.dims=t,this.type=e,this.dataProvider=n,this.asyncDataProvider=r,this.cache=o,this.dataId=i,this.size=c.ShapeUtil.validateDimsAndCalcSize(t);var s=this.size,u=void 0===n&&void 0===r&&void 0===o;if(void 0!==o&&o.length!==s)throw new RangeError("Input dims doesn't match data length.");if("string"===e){if(!(void 0===o||Array.isArray(o)&&o.every((function(t){return"string"==typeof t}))))throw new TypeError("cache should be a string array");u&&(this.cache=new Array(s))}else{if(void 0!==o){var l=d(e);if(!(o instanceof l))throw new TypeError("cache should be type "+l.name)}if(u){var f=new ArrayBuffer(s*function(t){switch(t){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error("cannot calculate sizeof() on type "+t)}}(e));this.cache=function(t,e){return new(d(e))(t)}(f,e)}}}return Object.defineProperty(t.prototype,"data",{get:function(){if(void 0===this.cache){var t=this.dataProvider(this.dataId);if(t.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=t}return this.cache},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stringData",{get:function(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"integerData",{get:function(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"floatData",{get:function(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numberData",{get:function(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")},enumerable:!1,configurable:!0}),t.prototype.get=function(t){return this.data[c.ShapeUtil.indicesToOffset(t,this.strides)]},t.prototype.set=function(t,e){this.data[c.ShapeUtil.indicesToOffset(t,this.strides)]=e},t.prototype.getData=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return void 0!==this.cache?[3,2]:(t=this,[4,this.asyncDataProvider(this.dataId)]);case 1:t.cache=e.sent(),e.label=2;case 2:return[2,this.cache]}}))}))},Object.defineProperty(t.prototype,"strides",{get:function(){return this._strides||(this._strides=c.ShapeUtil.computeStrides(this.dims)),this._strides},enumerable:!1,configurable:!0}),t.fromProto=function(e){if(!e)throw new Error("cannot construct Value from an empty tensor");var n=c.ProtoUtil.tensorDataTypeFromProto(e.dataType),r=new t(c.ProtoUtil.tensorDimsFromProto(e.dims),n);if("string"===n)e.stringData.forEach((function(t,e){var n=Buffer.from(t.buffer,t.byteOffset,t.byteLength);r.data[e]=n.toString()}));else if(e.rawData&&"number"==typeof e.rawData.byteLength&&e.rawData.byteLength>0){var o=r.data,i=new DataView(e.rawData.buffer,e.rawData.byteOffset,e.rawData.byteLength),a=p(e.dataType),l=e.rawData.byteLength/a;if(e.rawData.byteLength%a!=0)throw new Error("invalid buffer length");if(o.length!==l)throw new Error("buffer length mismatch");for(var f=0;f<l;f++){var d=g(i,e.dataType,f*a);o[f]=d}}else{var b=void 0;switch(e.dataType){case u.onnx.TensorProto.DataType.FLOAT:b=e.floatData;break;case u.onnx.TensorProto.DataType.INT32:case u.onnx.TensorProto.DataType.INT16:case u.onnx.TensorProto.DataType.UINT16:case u.onnx.TensorProto.DataType.INT8:case u.onnx.TensorProto.DataType.UINT8:case u.onnx.TensorProto.DataType.BOOL:b=e.int32Data;break;case u.onnx.TensorProto.DataType.INT64:b=e.int64Data;break;case u.onnx.TensorProto.DataType.DOUBLE:b=e.doubleData;break;case u.onnx.TensorProto.DataType.UINT32:case u.onnx.TensorProto.DataType.UINT64:b=e.uint64Data;break;default:throw new Error("unspecific error")}if(null==b)throw new Error("failed to populate data from a tensorproto value");var y=r.data;if(y.length!==b.length)throw new Error("array length mismatch");for(f=0;f<b.length;f++){var m=b[f];s.default.isLong(m)?y[f]=h(m,e.dataType):y[f]=m}}return r},t.fromData=function(e,n,r){return new t(n,r,void 0,void 0,e)},t.fromOrtTensor=function(e){if(!e)throw new Error("cannot construct Value from an empty tensor");var n=c.ProtoUtil.tensorDimsFromORTFormat(e),r=c.ProtoUtil.tensorDataTypeFromProto(e.dataType()),o=new t(n,r);if("string"===r)for(var i=0;i<e.stringDataLength();i++)o.data[i]=e.stringData(i);else if(e.rawDataArray()&&"number"==typeof e.rawDataLength()&&e.rawDataLength()>0){var a=o.data,s=new DataView(e.rawDataArray().buffer,e.rawDataArray().byteOffset,e.rawDataLength()),u=p(e.dataType()),l=e.rawDataLength()/u;if(e.rawDataLength()%u!=0)throw new Error("invalid buffer length");if(a.length!==l)throw new Error("buffer length mismatch");for(i=0;i<l;i++){var f=g(s,e.dataType(),i*u);a[i]=f}}return o},t}();function p(t){switch(t){case u.onnx.TensorProto.DataType.UINT8:case u.onnx.TensorProto.DataType.INT8:case u.onnx.TensorProto.DataType.BOOL:return 1;case u.onnx.TensorProto.DataType.UINT16:case u.onnx.TensorProto.DataType.INT16:return 2;case u.onnx.TensorProto.DataType.FLOAT:case u.onnx.TensorProto.DataType.INT32:case u.onnx.TensorProto.DataType.UINT32:return 4;case u.onnx.TensorProto.DataType.INT64:case u.onnx.TensorProto.DataType.DOUBLE:case u.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error("cannot calculate sizeof() on type "+u.onnx.TensorProto.DataType[t])}}function d(t){switch(t){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function h(t,e){if(e===u.onnx.TensorProto.DataType.INT64||e===l.TensorDataType.INT64){if(t.greaterThanOrEqual(2147483648)||t.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(e!==u.onnx.TensorProto.DataType.UINT32&&e!==l.TensorDataType.UINT32&&e!==u.onnx.TensorProto.DataType.UINT64&&e!==l.TensorDataType.UINT64)throw new TypeError("not a LONG type: "+u.onnx.TensorProto.DataType[e]);if(t.greaterThanOrEqual(4294967296)||t.lessThan(0))throw new TypeError("uint64 is not supported")}return t.toNumber()}function g(t,e,n){switch(e){case u.onnx.TensorProto.DataType.BOOL:case u.onnx.TensorProto.DataType.UINT8:return t.getUint8(n);case u.onnx.TensorProto.DataType.INT8:return t.getInt8(n);case u.onnx.TensorProto.DataType.UINT16:return t.getUint16(n,!0);case u.onnx.TensorProto.DataType.INT16:return t.getInt16(n,!0);case u.onnx.TensorProto.DataType.FLOAT:return t.getFloat32(n,!0);case u.onnx.TensorProto.DataType.INT32:return t.getInt32(n,!0);case u.onnx.TensorProto.DataType.UINT32:return t.getUint32(n,!0);case u.onnx.TensorProto.DataType.INT64:return h(s.default.fromBits(t.getUint32(n,!0),t.getUint32(n+4,!0),!1),e);case u.onnx.TensorProto.DataType.DOUBLE:return t.getFloat64(n,!0);case u.onnx.TensorProto.DataType.UINT64:return h(s.default.fromBits(t.getUint32(n,!0),t.getUint32(n+4,!0),!0),e);default:throw new Error("cannot read from DataView for type "+u.onnx.TensorProto.DataType[e])}}e.Tensor=f},2517:function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PoolConvUtil=e.ReduceUtil=e.SplitUtil=e.MathUtil=e.ShapeUtil=e.LongUtil=e.ProtoUtil=e.GemmUtil=e.arrayCopyHelper=e.BroadcastUtil=e.MatMulUtil=e.ArrayUtil=e.assert=e.checkInputsShape=void 0;var a=n(4819),s=i(n(3720)),u=n(1446),l=n(9162);e.checkInputsShape=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t||t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].dims||t[r].dims.length!==e[r])return!1;return!0},e.assert=function(t,e){if(!t)throw new Error("string"==typeof e?e:e())};var c=function(){function t(){}return t.arraysEqual=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},t}();e.ArrayUtil=c;var f=function(){function t(){}return t.preprocessInputShapes=function(t,e){return[1===t.length?[1,t[0]]:t,1===e.length?[e[0],1]:e]},t.postprocessOutputShape=function(t,e,n){1===e&&t.splice(t.length-2,1),1===n&&t.pop()},t.calcMatMulShape=function(t,e){return t[1]!==e[0]?void 0:[t[0],e[1]]},t}();e.MatMulUtil=f;var p=function(){function t(){}return t.calcShape=function(t,e,n){var o;void 0===n&&(n=!1);var i=t.length,a=e.length;if(0===i)return e;if(0===a)return t;var s=Math.max(t.length,e.length),u=new Array(s);if(n){if(i<2||a<2)return;var l=f.calcMatMulShape([t[i-2],t[i-1]],[e[a-2],e[a-1]]);if(void 0===l)return;o=r(l,2),u[s-2]=o[0],u[s-1]=o[1]}for(var c=n?3:1;c<=s;c++){var p=i-c<0?1:t[i-c],d=a-c<0?1:e[a-c];if(p!==d&&p>1&&d>1)return;u[s-c]=Math.max(p,d)}return u},t.index=function(e,n){var r=new Array(n.length);return t.fillIndex(e,n,r),r},t.fillIndex=function(t,e,n){for(var r=t.length-e.length,o=0;o<e.length;o++)n[o]=t[r+o]%e[o]},t.calc=function(e,n,r,o,i){var a=t.calcShape(e.dims,n.dims);if(a){if(o&&!b.areEqual(a,e.dims))return;var s=b.size(a),u=o?e:new l.Tensor(a,i||e.type);if(0===a.length)u.set([],r(e.get([]),n.get([])));else{var c=new Array(a.length),f=new Array(e.dims.length),p=new Array(n.dims.length),d=0,h=0,g=!1,y=!1;0===e.dims.length&&(d=e.get([]),g=!0),0===n.dims.length&&(h=n.get([]),y=!0);for(var m=void 0,v=0;v<s;v++){m=v;for(var _=a.length-1;_>=0;_--)c[_]=m%a[_],m=Math.floor(m/a[_]);g||(t.fillIndex(c,e.dims,f),d=e.get(f)),y||(t.fillIndex(c,n.dims,p),h=n.get(p)),u.set(c,r(d,h))}}return u}},t.isValidBroadcast=function(t,e){var n=t.length,r=e.length;if(n>r)return!1;for(var o=1;o<=n;o++)if(1!==t[n-o]&&t[n-o]!==e[r-o])return!1;return!0},t.getBroadcastDims=function(t,e){for(var n=t.length,r=[],o=0;o<n;o++){var i=n-1-o,a=t[i]||1;(e[e.length-1-o]||1)>1&&1===a&&r.unshift(i)}return r},t}();e.BroadcastUtil=p,e.arrayCopyHelper=function(t,e,n,r,o){if(r<0||r>=e.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=t.length)throw new Error("targetIndex out of bounds");if(r+o>e.length)throw new Error("source indices to be copied are outside bounds");if(n+o>t.length)throw new Error("target array is too small to hold result");for(var i=0;i<o;i++)t[n+i]=e[r+i]};var d=function(){function t(){}return t.getShapeOfGemmResult=function(t,e,n,r,o){if(2!==t.length||2!==n.length)throw new Error("shape need to be of size 2");var i,a,s;e?(i=t[1],a=t[0]):(i=t[0],a=t[1]);var u=-1;if(r?(s=n[0],u=1):(s=n[1],u=0),n[u]!==a)throw new Error("dimension mismatch");if(i<=0||s<=0||a<=0)throw new Error("invalid shape specified");if(o&&!p.isValidBroadcast(o,[i,s]))throw new Error("gemm: invalid bias shape for broadcast");return[i,s,a]},t}();e.GemmUtil=d;var h=function(){function t(){}return t.tensorDataTypeFromProto=function(t){switch(t){case u.onnx.TensorProto.DataType.INT8:return"int8";case u.onnx.TensorProto.DataType.UINT8:return"uint8";case u.onnx.TensorProto.DataType.BOOL:return"bool";case u.onnx.TensorProto.DataType.INT16:return"int16";case u.onnx.TensorProto.DataType.UINT16:return"uint16";case u.onnx.TensorProto.DataType.INT32:return"int32";case u.onnx.TensorProto.DataType.UINT32:return"uint32";case u.onnx.TensorProto.DataType.FLOAT:return"float32";case u.onnx.TensorProto.DataType.DOUBLE:return"float64";case u.onnx.TensorProto.DataType.STRING:return"string";case u.onnx.TensorProto.DataType.INT64:return"int32";case u.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error("unsupported data type: "+u.onnx.TensorProto.DataType[t])}},t.tensorDataTypeStringToEnum=function(t){switch(t){case"int8":return u.onnx.TensorProto.DataType.INT8;case"uint8":return u.onnx.TensorProto.DataType.UINT8;case"bool":return u.onnx.TensorProto.DataType.BOOL;case"int16":return u.onnx.TensorProto.DataType.INT16;case"uint16":return u.onnx.TensorProto.DataType.UINT16;case"int32":return u.onnx.TensorProto.DataType.INT32;case"uint32":return u.onnx.TensorProto.DataType.UINT32;case"float32":return u.onnx.TensorProto.DataType.FLOAT;case"float64":return u.onnx.TensorProto.DataType.DOUBLE;case"string":return u.onnx.TensorProto.DataType.STRING;case"int64":return u.onnx.TensorProto.DataType.INT64;case"uint64":return u.onnx.TensorProto.DataType.UINT64;default:throw new Error("unsupported data type: "+t)}},t.tensorDimsFromProto=function(t){return t.map((function(t){return s.default.isLong(t)?t.toNumber():t}))},t.tensorValueTypeFromProto=function(e){return{tensorType:t.tensorDataTypeFromProto(e.elemType),shape:{dims:t.tensorDimsFromProto(e.shape.dim.map((function(t){return t.dimValue})))}}},t.tensorDimsFromORTFormat=function(t){for(var e=[],n=0;n<t.dimsLength();n++)e.push(g.longToNumber(t.dims(n)));return e},t.tensorAttributesFromORTFormat=function(t){for(var e=[],n=0;n<t.attributesLength();n++)e.push(t.attributes(n));return e},t}();e.ProtoUtil=h;var g=function(){function t(){}return t.longToNumber=function(t){return s.default.isLong(t)?t.toNumber():t instanceof a.flatbuffers.Long?s.default.fromValue({low:t.low,high:t.high,unsigned:!0}).toNumber():t},t.isLong=function(t){return s.default.isLong(t)||t instanceof a.flatbuffers.Long},t}();e.LongUtil=g;var b=function(){function t(){}return t.size=function(e){return t.getSizeFromDimensionRange(e,0,e.length)},t.sizeFromDimension=function(e,n){if(n<0||n>e.length)throw new Error("invalid dimension of "+n+" for sizeFromDimension as Tensor has "+e.length+" dimensions.");return t.getSizeFromDimensionRange(e,n,e.length)},t.sizeToDimension=function(e,n){if(n<0||n>e.length)throw new Error("invalid dimension of "+n+" for sizeToDimension as Tensor has "+e.length+" dimensions.");return t.getSizeFromDimensionRange(e,0,n)},t.getSizeFromDimensionRange=function(t,e,n){for(var r=1,o=e;o<n;o++){if(t[o]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=t[o]}return r},t.computeStrides=function(t){var e=t.length;if(0===e)return[];if(1===e)return[1];var n=new Array(e);n[e-1]=1,n[e-2]=t[e-1];for(var r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n},t.transpose=function(t){return t.slice().reverse()},t.indicesToOffset=function(t,e,n){void 0===n&&(n=t.length);for(var r=0,o=0;o<n;++o)r+=e[o]*t[o];return r},t.offsetToIndices=function(t,e){var n=e.length;if(0===n)return[];if(1===n)return[t*e[0]];for(var r=new Array(e.length),o=0;o<r.length-1;++o)r[o]=Math.floor(t/e[o]),t-=r[o]*e[o];return r[r.length-1]=t,r},t.normalizeAxis=function(t,e){if(t<-e&&t>=e)throw new Error("unsupported axis for this operation.");return t<0?t+e:t},t.normalizeAxes=function(t,e){var n=this;return t.map((function(t){return n.normalizeAxis(t,e)}))},t.incrementIndex=function(t,e,n){if(0===e.length||0===t.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===n)n=e.length;else if(n<=0||n>e.length)throw new Error("Incorrect axis to increment on");for(var r=n-1;r>=0&&(t[r]++,!(t[r]<e[r]));--r)t[r]=0},t.calculateReshapedDims=function(e,n){if(0===n.length){if(0===e.length||1===t.size(e))return[];throw new Error("cannot reshape to a scalar Tensor")}for(var r=n.length,o=new Array(r),i=-1,a=1,s=0;s<r;s++){if(n[s]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===n[s]){if(-1!==i)throw new Error("at most one dimension in shape hints can be -1");i=s}else{if(0===n[s]){if(s>=e.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");o[s]=e[s]}else o[s]=n[s];a*=o[s]}}var u=t.size(e);if(-1!==i){if(u%a!=0)throw new Error("the input tensor cannot be reshaped to the requested shape. Input shape: ["+e+"] Output shape: ["+n+"]");o[i]=u/a}else if(a!==u)throw new Error("reshapedDims and originalDims don't have matching sizes");return o},t.sortBasedOnPerm=function(t,e){return e?e.map((function(e){return t[e]})):t.slice().reverse()},t.padShape=function(t,e){var n=t.length;return t.map((function(t,r){return t+e[r]+e[r+n]}))},t.areEqual=function(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))},t.validateDimsAndCalcSize=function(t){var e,n;if(t.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");var r=1;try{for(var i=o(t),a=i.next();!a.done;a=i.next()){var s=a.value;if(!Number.isInteger(s))throw new TypeError("Invalid shape: "+s+" is not an integer");if(s<0||s>2147483647)throw new TypeError("Invalid shape: length "+s+" is not allowed");r*=s}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.flattenShape=function(t,e){e<0&&(e+=t.length);var n=t.reduce((function(t,e){return t*e}),1),r=t.slice(e).reduce((function(t,e){return t*e}),1);return[n/r,r]},t.squeezeShape=function(e,n){var r=new Array;n=t.normalizeAxes(n,e.length);for(var o=0;o<e.length;o++){var i=n.indexOf(o)>=0;if(i&&1!==e[o])throw new Error("squeeze an axis of size different than 1");(0===n.length&&e[o]>1||n.length>0&&!i)&&r.push(e[o])}return r},t.unsqueezeShape=function(e,n){var r=new Array(e.length+n.length);r.fill(0);for(var o=0;o<n.length;o++){var i=t.normalizeAxis(n[o],e.length);if(i>=r.length)throw new Error("'axes' has an out of range axis");if(0!==r[i])throw new Error("'axes' has a duplicate axis");r[i]=1}var a=0;for(o=0;o<r.length;o++)0===r[o]&&(r[o]=e[a++]);if(a!==e.length)throw new Error("the unsqueezed dimension could not be established");return r},t}();e.ShapeUtil=b;var y=function(){function t(){}return t.sqr=function(t,e,n,r,o){if(r<0||r>=e.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=t.length)throw new Error("targetIndex out of bounds");if(r+o>e.length)throw new Error("source indices to be copied are outside bounds");if(n+o>t.length)throw new Error("target array is too small to hold result");for(var i=0;i<o;i++)t[n+i]+=Math.pow(e[r+i],2)},t.axpy=function(t,e,n,r,o,i){if(r<0||r>=e.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=t.length)throw new Error("targetIndex out of bounds");if(r+o>e.length)throw new Error("source indices to be copied are outside bounds");if(n+o>t.length)throw new Error("target array is too small to hold result");for(var a=0;a<o;a++)t[n+a]+=i*e[r+a]},t.powx=function(t,e,n,r,o,i){if(r<0||r>=e.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=t.length)throw new Error("targetIndex out of bounds");if(r+o>e.length)throw new Error("source indices to be copied are outside bounds");if(n+o>t.length)throw new Error("target array is too small to hold result");for(var a=0;a<o;a++)t[n+a]=Math.pow(e[r+a],i)},t.mul=function(t,e,n,r,o){if(r<0||r>=e.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=t.length)throw new Error("targetIndex out of bounds");if(r+o>e.length)throw new Error("source indices to be copied are outside bounds");if(n+o>t.length)throw new Error("target array is too small to hold result");for(var i=0;i<o;i++)t[n+i]=e[r+i]*t[n+i]},t}();e.MathUtil=y;var m=function(){function t(){}return t.splitShape=function(e,n,r,o){if(0===r.length){if(!o)throw new Error("need to know number of outputs when the 'split' attribute is not specified");t.determineSplit(e[n],o,r)}for(var i=[],a=[0],s=0;s<r.length;++s){0!==s&&a.push(a[s-1]+r[s-1]);var u=e.slice();u[n]=r[s],i.push(u)}return[i,a]},t.determineSplit=function(t,e,n){if(t%e!=0)throw new Error("cannot split tensor to equal sized parts");for(var r=0;r<e;++r)n.push(t/e)},t}();e.SplitUtil=m;var v=function(){function t(){}return t.calcReduce=function(e,n,r,o,i){var a=e.dims.slice(0);0===n.length&&a.forEach((function(t,e){return n.push(e)}));for(var s=t.calcReduceShape(a,n,!0),u=b.size(s),c=new l.Tensor(s,e.type),f=b.computeStrides(s),d=b.computeStrides(a),h=new Array(a.length),g=0;g<u;g++){var y=b.offsetToIndices(g,f);p.fillIndex(y,a,h),c.set(y,t.calcReduceByAxis(e.numberData,n,a,0,b.indicesToOffset(h,d),o,i))}return r?c:new l.Tensor(t.calcReduceShape(a,n,r),c.type,void 0,void 0,c.data,c.dataId)},t.calcReduceByAxis=function(e,n,r,o,i,a,s){var u=0;if(o>=n.length)return a(e[i]);for(var l=n[o],c=l>=r.length?1:b.size(r.slice(l+1)),f=0;f<r[l];f++)u=0===f?t.calcReduceByAxis(e,n,r,o+1,i,a,s):s(u,t.calcReduceByAxis(e,n,r,o+1,i,a,s)),i+=c;return u},t.calcReduceShape=function(t,e,n){for(var r=t.slice(),o=0;o<e.length;o++)r[e[o]]=n?1:0;return r.filter((function(t){return 0!==t}))},t}();e.ReduceUtil=v;var _=function(){function t(){}return t.adjustPoolAttributes=function(t,e,n,r,o){if(!t&&n.length!==e.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(t)for(var i=0;i<e.length-2;i++)i>=n.length?n.push(e[i+2]):n[i]=e[i+2];for(i=0;i<n.length;i++)if(i<r.length){if(r[i]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(i=0;i<2*n.length;i++)if(i<o.length){if(o[i]<0)throw new Error("pad should be greater than or equal to 1")}else o.push(0);for(i=0;i<n.length;i++){if(n[i]<=0)throw new Error("kernel shapes need to be greater than 0");if(o[i]>=n[i]||o[i+n.length]>=n[i])throw new Error("pads should be smaller than kernel")}},t.adjustPadsBasedOnAutoPad=function(e,n,r,o,i,a){if(a){if(i.length!==2*(e.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(n.length!==e.length-2)throw new Error("length of strides should be the length of data dimensions");if(o.length!==e.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(var s=0;s<e.length-2;s++)t.adjustPadAndReturnShape(e[s+2],n[s],r[s],o[s],i,s,s+e.length-2,a)}},t.computePoolOutputShape=function(e,n,r,o,i,a){if(n.length<=0)throw new Error("input shape must be of size greater than 0");var s=[n[0],n[1]],u=new Array(o.length).fill(1);return t.computeShapeHelper(e,n,s,r,u,o,i,a),s},t.computeConvOutputShape=function(e,n,r,o,i,a,s){if(e.length<=0||n.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");var u=[e[0],n[0]];return t.computeShapeHelper(!1,e,u,r,o,i,a,s),u},t.computeShapeHelper=function(e,n,r,o,i,a,s,u){if(e)for(var l=0;l<n.length-2;l++)r.push(1);else for(l=0;l<n.length-2;l++)r.push(t.adjustPadAndReturnShape(n[l+2],o[l],i[l],a[l],s,l,l+n.length-2,u))},t.adjustPadAndReturnShape=function(t,e,n,r,o,i,a,s){var u=n*(r-1)+1;if(!s||"NOTSET"===s)return Math.floor((t+o[i]+o[a]-u)/e+1);switch(s){case"VALID":return o[i]=0,o[a]=0,Math.floor((t-u)/e+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");var l=((t+e-1)/e-1)*e+r-t;return o[i]="SAME_LOWER"===s?Math.floor((l+1)/2):Math.floor(l/2),o[a]=l-o[i],Math.floor((t+l-r)/e+1);default:throw new Error("Unsupported AutoPad type")}},t}();e.PoolConvUtil=_},7967:function(t,e){"use strict";var n=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=function(t,r,o,i){if("object"==typeof t&&null!==t){if(o.has(t))throw new Error("Circular reference in options");o.add(t)}Object.entries(t).forEach((function(t){var a=n(t,2),s=a[0],u=a[1],l=r?r+s:s;if("object"==typeof u)e.iterateExtraOptions(u,l+".",o,i);else if("string"==typeof u||"number"==typeof u)i(l,u.toString());else{if("boolean"!=typeof u)throw new Error("Can't handle extra config type: "+typeof u);i(l,u?"1":"0")}}))}},2157:function(t,e,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return i(e,t),e},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},u=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.endProfiling=e.run=e.releaseSession=e.createSession=e.initOrt=e.initWasm=void 0;var l,c,f,p=n(2174),d=a(n(349)),h=n(6361),g=function(){return!!p.env.wasm.proxy&&"undefined"!=typeof document},b=!1,y=!1,m=!1,v=[],_=[],w=[],x=[],T=function(){if(b||!y||m||!l)throw new Error("worker not ready")},S=function(t){switch(t.data.type){case"init-wasm":b=!1,t.data.err?(m=!0,c[1](t.data.err)):(y=!0,c[0]());break;case"init-ort":t.data.err?f[1](t.data.err):f[0]();break;case"create":t.data.err?v.shift()[1](t.data.err):v.shift()[0](t.data.out);break;case"release":t.data.err?_.shift()[1](t.data.err):_.shift()[0]();break;case"run":t.data.err?w.shift()[1](t.data.err):w.shift()[0](t.data.out);break;case"end-profiling":t.data.err?x.shift()[1](t.data.err):x.shift()[0]()}},O="undefined"!=typeof document?null===(r=null===document||void 0===document?void 0:document.currentScript)||void 0===r?void 0:r.src:void 0;e.initWasm=function(){return s(void 0,void 0,void 0,(function(){return u(this,(function(t){if(g()){if(y)return[2];if(b)throw new Error("multiple calls to 'initWasm()' detected.");if(m)throw new Error("previous call to 'initWasm()' failed.");return b=!0,void 0===p.env.wasm.wasmPaths&&O&&0!==O.indexOf("blob:")&&(p.env.wasm.wasmPaths=O.substr(0,O.lastIndexOf("/")+1)),[2,new Promise((function(t,e){null==l||l.terminate(),(l=n(9710).Z()).onmessage=S,c=[t,e];var r={type:"init-wasm",in:p.env.wasm};l.postMessage(r)}))]}return[2,h.initializeWebAssembly(p.env.wasm)]}))}))},e.initOrt=function(t,e){return s(void 0,void 0,void 0,(function(){return u(this,(function(n){return g()?(T(),[2,new Promise((function(n,r){f=[n,r];var o={type:"init-ort",in:{numThreads:t,loggingLevel:e}};l.postMessage(o)}))]):(d.initOrt(t,e),[2])}))}))},e.createSession=function(t,e){return s(void 0,void 0,void 0,(function(){return u(this,(function(n){return g()?(T(),[2,new Promise((function(n,r){v.push([n,r]);var o={type:"create",in:{model:t,options:e}};l.postMessage(o,[t.buffer])}))]):[2,d.createSession(t,e)]}))}))},e.releaseSession=function(t){return s(void 0,void 0,void 0,(function(){return u(this,(function(e){return g()?(T(),[2,new Promise((function(e,n){_.push([e,n]);var r={type:"release",in:t};l.postMessage(r)}))]):(d.releaseSession(t),[2])}))}))},e.run=function(t,e,n,r,o){return s(void 0,void 0,void 0,(function(){return u(this,(function(i){return g()?(T(),[2,new Promise((function(i,a){w.push([i,a]);var s={type:"run",in:{sessionId:t,inputIndices:e,inputs:n,outputIndices:r,options:o}};l.postMessage(s,d.extractTransferableBuffers(n))}))]):[2,d.run(t,e,n,r,o)]}))}))},e.endProfiling=function(t){return s(void 0,void 0,void 0,(function(){return u(this,(function(e){return g()?(T(),[2,new Promise((function(e,n){x.push([e,n]);var r={type:"end-profiling",in:t};l.postMessage(r)}))]):(d.endProfiling(t),[2])}))}))}},586:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;var r=n(7967),o=n(4983),i=n(6361);e.setRunOptions=function(t){var e=i.getInstance(),n=0,a=[],s=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error("log serverity level is not valid: "+t.logSeverityLevel);if(void 0===(null==t?void 0:t.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error("log verbosity level is not valid: "+t.logVerbosityLevel);void 0===(null==t?void 0:t.terminate)&&(s.terminate=!1);var u=0;if(void 0!==(null==t?void 0:t.tag)&&(u=o.allocWasmString(t.tag,a)),0===(n=e._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,u)))throw new Error("Can't create run options");return void 0!==(null==t?void 0:t.extra)&&r.iterateExtraOptions(t.extra,"",new WeakSet,(function(t,r){var i=o.allocWasmString(t,a),s=o.allocWasmString(r,a);if(0!==e._OrtAddRunConfigEntry(n,i,s))throw new Error("Can't set a run config entry: "+t+" - "+r)})),[n,a]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),a.forEach(e._free),t}}},2306:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.OnnxruntimeWebAssemblySessionHandler=void 0;var a,s=n(2174),u=n(2157),l=function(t){switch(t){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error("unsupported logging level: "+t)}},c=function(){function t(){}return t.prototype.loadModel=function(t,e){return r(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return a?[3,2]:[4,u.initOrt(s.env.wasm.numThreads,l(s.env.logLevel))];case 1:r.sent(),a=!0,r.label=2;case 2:return[4,u.createSession(t,e)];case 3:return n=i.apply(void 0,[r.sent(),3]),this.sessionId=n[0],this.inputNames=n[1],this.outputNames=n[2],[2]}}))}))},t.prototype.dispose=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){return[2,u.releaseSession(this.sessionId)]}))}))},t.prototype.run=function(t,e,n){return r(this,void 0,void 0,(function(){var r,i,a,l,c,f,p=this;return o(this,(function(o){switch(o.label){case 0:return r=[],i=[],Object.entries(t).forEach((function(t){var e=t[0],n=t[1],o=p.inputNames.indexOf(e);if(-1===o)throw new Error("invalid input '"+e+"'");r.push(n),i.push(o)})),a=[],Object.entries(e).forEach((function(t){var e=t[0],n=p.outputNames.indexOf(e);if(-1===n)throw new Error("invalid output '"+e+"'");a.push(n)})),[4,u.run(this.sessionId,i,r.map((function(t){return[t.type,t.dims,t.data]})),a,n)];case 1:for(l=o.sent(),c={},f=0;f<l.length;f++)c[this.outputNames[a[f]]]=new s.Tensor(l[f][0],l[f][2],l[f][1]);return[2,c]}}))}))},t.prototype.startProfiling=function(){},t.prototype.endProfiling=function(){u.endProfiling(this.sessionId)},t}();e.OnnxruntimeWebAssemblySessionHandler=c},4919:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;var r=n(7967),o=n(4983),i=n(6361);e.setSessionOptions=function(t){var e=i.getInstance(),n=0,a=[],s=t||{};!function(t){t.extra||(t.extra={}),t.extra.session||(t.extra.session={});var e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")}(s);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(s.graphOptimizationLevel="all");var u=function(t){switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error("unsupported graph optimization level: "+t)}}(s.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(s.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(s.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(s.executionMode="sequential");var l=function(t){switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error("unsupported execution mode: "+t)}}(s.executionMode),c=0;if(void 0!==(null==t?void 0:t.logId)&&(c=o.allocWasmString(t.logId,a)),void 0===(null==t?void 0:t.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error("log serverity level is not valid: "+t.logSeverityLevel);if(void 0===(null==t?void 0:t.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error("log verbosity level is not valid: "+t.logVerbosityLevel);if(void 0===(null==t?void 0:t.enableProfiling)&&(s.enableProfiling=!1),0===(n=e._OrtCreateSessionOptions(u,!!s.enableCpuMemArena,!!s.enableMemPattern,l,!!s.enableProfiling,0,c,s.logSeverityLevel,s.logVerbosityLevel)))throw new Error("Can't create session options");return void 0!==(null==t?void 0:t.extra)&&r.iterateExtraOptions(t.extra,"",new WeakSet,(function(t,r){var i=o.allocWasmString(t,a),s=o.allocWasmString(r,a);if(0!==e._OrtAddSessionConfigEntry(n,i,s))throw new Error("Can't set a session config entry: "+t+" - "+r)})),[n,a]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),a.forEach(e._free),t}}},4983:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;var r=n(6361);e.allocWasmString=function(t,e){var n=r.getInstance(),o=n.lengthBytesUTF8(t)+1,i=n._malloc(o);return n.stringToUTF8(t,i,o),e.push(i),i}},349:function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.initOrt=void 0;var i=n(586),a=n(4919),s=n(4983),u=n(6361);e.initOrt=function(t,e){var n=u.getInstance()._OrtInit(t,e);if(0!==n)throw new Error("Can't initialize onnxruntime. error code = "+n)};var l=[];e.createSession=function(t,e){var n,o=u.getInstance(),i=o._malloc(t.byteLength),s=0,c=0,f=[];try{if(c=(n=r(a.setSessionOptions(e),2))[0],f=n[1],o.HEAPU8.set(t,i),0===(s=o._OrtCreateSession(i,t.byteLength,c)))throw new Error("Can't create a session")}finally{o._free(i),o._OrtReleaseSessionOptions(c),f.forEach(o._free)}for(var p=o._OrtGetInputCount(s),d=o._OrtGetOutputCount(s),h=[],g=[],b=[],y=[],m=0;m<p;m++){var v=o._OrtGetInputName(s,m);if(0===v)throw new Error("Can't get an input name");g.push(v),h.push(o.UTF8ToString(v))}for(m=0;m<d;m++){var _=o._OrtGetOutputName(s,m);if(0===_)throw new Error("Can't get an output name");y.push(_),b.push(o.UTF8ToString(_))}return l.push([s,g,y]),[l.length-1,h,b]},e.releaseSession=function(t){var e=u.getInstance(),n=l[t];if(!n)throw new Error("invalid session id");var r=n[0],o=n[1],i=n[2];o.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),l[t]=void 0};var c=function(t){switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:case 7:return"int32";case 12:case 13:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";default:throw new Error("unsupported data type: "+t)}},f=function(t){switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error("unsupported type: "+t)}};e.run=function(t,e,n,o,a){var p,d=u.getInstance(),h=l[t];if(!h)throw new Error("invalid session id");var g=h[0],b=h[1],y=h[2],m=e.length,v=o.length,_=0,w=[],x=[],T=[];try{_=(p=r(i.setRunOptions(a),2))[0],w=p[1];for(var S=function(t){var e=n[t][0],r=n[t][1],o=n[t][2],i=void 0,a=void 0;if(Array.isArray(o)){a=4*o.length,i=d._malloc(a),T.push(i);for(var u=i/4,l=0;l<o.length;l++){if("string"!=typeof o[l])throw new TypeError("tensor data at index "+l+" is not a string");d.HEAPU32[u++]=s.allocWasmString(o[l],T)}}else a=o.byteLength,i=d._malloc(a),T.push(i),d.HEAPU8.set(new Uint8Array(o.buffer,o.byteOffset,a),i);var c=d.stackSave(),f=d.stackAlloc(4*r.length);try{var p=f/4;r.forEach((function(t){return d.HEAP32[p++]=t}));var h=d._OrtCreateTensor(function(t){switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error("unsupported data type: "+t)}}(e),i,a,f,r.length);if(0===h)throw new Error("Can't create a tensor");x.push(h)}finally{d.stackRestore(c)}},O=0;O<m;O++)S(O);var A=d.stackSave(),E=d.stackAlloc(4*m),P=d.stackAlloc(4*m),I=d.stackAlloc(4*v),D=d.stackAlloc(4*v);try{var k=E/4,R=P/4,C=I/4,N=D/4;for(O=0;O<m;O++)d.HEAPU32[k++]=x[O],d.HEAPU32[R++]=b[e[O]];for(O=0;O<v;O++)d.HEAPU32[C++]=0,d.HEAPU32[N++]=y[o[O]];var F=d._OrtRun(g,P,E,m,D,v,I,_),L=[];if(0===F)for(O=0;O<v;O++){var M=d.HEAPU32[I/4+O],j=d.stackSave(),B=d.stackAlloc(16),U=void 0,V=0;try{if(0!==(F=d._OrtGetTensorData(M,B,B+4,B+8,B+12)))throw new Error("Can't get a tensor data. error code = "+F);var z=B/4,G=d.HEAPU32[z++];V=d.HEAPU32[z++];for(var H=d.HEAPU32[z++],W=d.HEAPU32[z++],q=[],Y=0;Y<W;Y++)q.push(d.HEAPU32[H/4+Y]);d._OrtFree(H);var X=0===q.length?1:q.reduce((function(t,e){return t*e}));if("string"===(U=c(G))){for(var K=[],Z=V/4,J=0;J<X;J++){var $=d.HEAPU32[Z++],Q=J===X-1?void 0:d.HEAPU32[Z]-$;K.push(d.UTF8ToString($,Q))}L.push([U,q,K])}else{var tt=new(f(U))(X);new Uint8Array(tt.buffer,tt.byteOffset,tt.byteLength).set(d.HEAPU8.subarray(V,V+tt.byteLength)),L.push([U,q,tt])}}finally{d.stackRestore(j),"string"===U&&V&&d._free(V),d._OrtReleaseTensor(M)}}if(0===F)return L;throw new Error("failed to call OrtRun(). error code = "+F+".")}finally{d.stackRestore(A)}}finally{x.forEach(d._OrtReleaseTensor),T.forEach(d._free),d._OrtReleaseRunOptions(_),w.forEach(d._free)}},e.endProfiling=function(t){var e=u.getInstance(),n=l[t];if(!n)throw new Error("invalid session id");var r=n[0],o=e._OrtEndProfiling(r);if(0===o)throw new Error("Can't get an profile file name");e._OrtFree(o)},e.extractTransferableBuffers=function(t){var e,n,r=[];try{for(var i=o(t),a=i.next();!a.done;a=i.next()){var s=a.value[2];!Array.isArray(s)&&s.buffer&&r.push(s.buffer)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}},6361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;var l,c=i(n(6449)),f=u(n(3474)),p=u(n(932)),d=!1,h=!1,g=!1,b=function(t,e){return e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm"};e.initializeWebAssembly=function(t){return a(void 0,void 0,void 0,(function(){var e,r,o,i,a,u,y,m,v,_,w;return s(this,(function(s){switch(s.label){case 0:if(d)return[2,Promise.resolve()];if(h)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(g)throw new Error("previous call to 'initializeWebAssembly()' failed.");return h=!0,e=t.initTimeout,r=t.numThreads,o=t.simd,i=r>1&&function(){try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}}(),a=o&&function(){try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]))}catch(t){return!1}}(),u="string"==typeof t.wasmPaths?t.wasmPaths:void 0,y=b(!1,i),m=b(a,i),v="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0,_=!1,w=[],e>0&&w.push(new Promise((function(t){setTimeout((function(){_=!0,t()}),e)}))),w.push(new Promise((function(t,e){var r=i?f.default:p.default,o={locateFile:function(t,e){return t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(5118)],{type:"text/javascript"})):t===y?null!=v?v:(null!=u?u:e)+m:e+t}};if(i)if("undefined"==typeof Blob)o.mainScriptUrlOrBlob=c.join("/","ort-wasm-threaded.js");else{var a="var ortWasmThreaded=(function(){var _scriptDir;return "+f.default.toString()+"})();";o.mainScriptUrlOrBlob=new Blob([a],{type:"text/javascript"})}r(o).then((function(e){h=!1,d=!0,l=e,t()}),(function(t){h=!1,g=!0,e(t)}))}))),[4,Promise.race(w)];case 1:if(s.sent(),_)throw new Error("WebAssembly backend initializing failed due to timeout: "+e+"ms");return[2]}}))}))},e.getInstance=function(){if(d&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=function(){var t;!d||h||g||(h=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,h=!1,d=!1,g=!0)}},9710:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(477),o=n.n(r);function i(){return o()('/*!\n* ONNX Runtime Web v1.9.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n!function(){var e={474:function(e,t,n){var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return R.buffer!=j&&Q(R.buffer),L}function r(){return R.buffer!=j&&Q(R.buffer),W}function a(){return R.buffer!=j&&Q(R.buffer),H}function i(){return R.buffer!=j&&Q(R.buffer),Y}function o(){return R.buffer!=j&&Q(R.buffer),z}var u,s,c;e=e||{},u||(u=void 0!==e?e:{}),u.ready=new Promise((function(e,t){s=e,c=t}));var l,f={};for(l in u)u.hasOwnProperty(l)&&(f[l]=u[l]);var p="./this.program";function d(e,t){throw t}var m,h,g,b,y,v="object"==typeof window,_="function"==typeof importScripts,w="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function E(e){return u.locateFile?u.locateFile(e,A):A+e}if(w){var S;A=_?n(908).dirname(A)+"/":"//",m=function(e,t){return b||(b=n(384)),y||(y=n(908)),e=y.normalize(e),b.readFileSync(e,t?null:"utf8")},g=function(e){return(e=m(e,!0)).buffer||(e=new Uint8Array(e)),F(e.buffer),e},h=function(e,t,r){b||(b=n(384)),y||(y=n(908)),e=y.normalize(e),b.readFile(e,(function(e,n){e?r(e):t(n.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof Bt))throw e})),process.on("unhandledRejection",le),d=function(e,t){if(ae())throw process.exitCode=e,t;process.exit(e)},u.inspect=function(){return"[Emscripten Module object]"};try{S=n(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}n.g.Worker=S.Worker}else(v||_)&&(_?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.lastIndexOf("/")+1):"",w?(m=function(e,t){return b||(b=n(384)),y||(y=n(908)),e=y.normalize(e),b.readFileSync(e,t?null:"utf8")},g=function(e){return(e=m(e,!0)).buffer||(e=new Uint8Array(e)),F(e.buffer),e},h=function(e,t,r){b||(b=n(384)),y||(y=n(908)),e=y.normalize(e),b.readFile(e,(function(e,n){e?r(e):t(n.buffer)}))}):(m=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},_&&(g=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),h=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));w&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T,M,k=u.print||console.log.bind(console),x=u.printErr||console.warn.bind(console);for(l in f)f.hasOwnProperty(l)&&(u[l]=f[l]);f=null,u.thisProgram&&(p=u.thisProgram),u.quit&&(d=u.quit),u.wasmBinary&&(M=u.wasmBinary);var D=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&le("no native wasm support detected");var R,C,P,I=!1;function F(e,t){e||le("Assertion failed: "+t)}function U(e){var t=new TextDecoder(e);this.decode=function(e){return e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode.call(t,e)}}var j,L,W,H,Y,z,B="undefined"!=typeof TextDecoder?new U("utf8"):void 0;function G(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&B)return B.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var i=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function N(e,t){return e?G(r(),e,t):""}function q(e,t,n,r){if(!(0<r))return 0;var a=n;r=n+r-1;for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i)),127>=o){if(n>=r)break;t[n++]=o}else{if(2047>=o){if(n+1>=r)break;t[n++]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++]=224|o>>12}else{if(n+3>=r)break;t[n++]=240|o>>18,t[n++]=128|o>>12&63}t[n++]=128|o>>6&63}t[n++]=128|63&o}}return t[n]=0,n-a}function V(e,t,n){return q(e,r(),t,n)}function X(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:t+4}return t}function J(e){var n=X(e)+1,r=bt(n);return r&&q(e,t(),r,n),r}function Q(e){j=e,u.HEAP8=L=new Int8Array(e),u.HEAP16=new Int16Array(e),u.HEAP32=H=new Int32Array(e),u.HEAPU8=W=new Uint8Array(e),u.HEAPU16=new Uint16Array(e),u.HEAPU32=Y=new Uint32Array(e),u.HEAPF32=new Float32Array(e),u.HEAPF64=z=new Float64Array(e)}"undefined"!=typeof TextDecoder&&new U("utf-16le"),O&&(j=u.buffer);var Z=u.INITIAL_MEMORY||16777216;if(O)R=u.wasmMemory,j=u.buffer;else if(u.wasmMemory)R=u.wasmMemory;else if(!((R=new WebAssembly.Memory({initial:Z/65536,maximum:32768,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");R&&(j=R.buffer),Z=j.byteLength,Q(j);var K,$=[],ee=[],te=[],ne=[],re=0;function ae(){return D||0<re}function ie(){var e=u.preRun.shift();$.unshift(e)}var oe,ue=0,se=null,ce=null;function le(e){throw u.onAbort&&u.onAbort(e),F(!O),x(e),I=!0,P=1,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),c(e),e}function fe(){return oe.startsWith("data:application/octet-stream;base64,")}function pe(){var e=oe;try{if(e==oe&&M)return new Uint8Array(M);if(g)return g(e);throw"both async and sync fetching of the wasm failed"}catch(e){le(e)}}u.preloadedImages={},u.preloadedAudios={},oe="ort-wasm-threaded.wasm",fe()||(oe=E(oe));var de={973748:function(){throw"Canceled!"}};function me(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t(u);else{var n=t.Nb;"number"==typeof n?void 0===t.ib?K.get(n)():K.get(n)(t.ib):n(void 0===t.ib?null:t.ib)}}}function he(e,n){if(0>=e||e>t().length||1&e||0>n)return-28;if(0==n)return 0;2147483647<=n&&(n=1/0);var r=Atomics.load(a(),zt>>2),i=0;if(r==e&&Atomics.compareExchange(a(),zt>>2,r,0)==r&&(i=1,0>=--n))return 1;if(0<=(e=Atomics.notify(a(),e>>2,n)))return e+i;throw"Atomics.notify returned an unexpected value "+e}function ge(e){if(O)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in cleanupThread!";var t=ye.cb[e];t&&(a()[e+12>>2]=0,ye.sb(t.worker))}u._emscripten_futex_wake=he;var be,ye={gb:[],fb:[],zb:[],xc:function(){},Rb:function(){for(var e=bt(228),t=0;57>t;++t)i()[e/4+t]=0;a()[e+12>>2]=e,t=e+152,a()[t>>2]=t;var n=bt(512);for(t=0;128>t;++t)i()[n/4+t]=0;Atomics.store(i(),e+100>>2,n),Atomics.store(i(),e+40>>2,e),Dt(e,!_,1),Ot(e)},Sb:function(){ye.receiveObjectTransfer=ye.Xb,ye.threadInit=ye.hc,ye.threadCancel=ye.fc,ye.threadExit=ye.Hb,ye.setExitStatus=ye.Zb},cb:{},yb:[],Eb:function(){for(;0<ye.yb.length;)ye.yb.pop()();Ct()},Fb:function(e,t){Atomics.store(i(),e+56>>2,1),Atomics.store(i(),e+60>>2,0),ye.Eb(),Atomics.store(i(),e+4>>2,t),Atomics.store(i(),e+0>>2,1),he(e+0,2147483647),Dt(0,0,0)},Zb:function(e){P=e},Hb:function(e){var t=_t();t&&(ye.Fb(t,e),O&&postMessage({cmd:"exit"}))},fc:function(){ye.Fb(_t(),-1),postMessage({cmd:"cancelDone"})},Gb:function(){for(var e in ye.cb){var t=ye.cb[e];t&&t.worker&&ye.sb(t.worker)}for(ye.cb={},e=0;e<ye.gb.length;++e){var n=ye.gb[e];n.terminate()}for(ye.gb=[],e=0;e<ye.fb.length;++e)t=(n=ye.fb[e]).bb,ye.xb(t),n.terminate();ye.fb=[]},xb:function(e){if(e){if(e.eb){var t=a()[e.eb+100>>2];a()[e.eb+100>>2]=0,vt(t),vt(e.eb)}e.eb=0,e.wb&&e.hb&&vt(e.hb),e.hb=0,e.worker&&(e.worker.bb=null)}},sb:function(e){ye.Yb((function(){delete ye.cb[e.bb.eb],ye.gb.push(e),ye.fb.splice(ye.fb.indexOf(e),1),ye.xb(e.bb),e.bb=void 0}))},Yb:function(e){a()[Yt>>2]=0;try{e()}finally{a()[Yt>>2]=1}},Xb:function(){},hc:function(){for(var e in ye.zb)ye.zb[e]()},Ub:function(e,t){e.onmessage=function(n){var r=n.data,o=r.cmd;if(e.bb&&(ye.Lb=e.bb.eb),r.targetThread&&r.targetThread!=_t()){var u=ye.cb[r.Dc];u?u.worker.postMessage(n.data,r.transferList):x(\'Internal error! Worker sent a message "\'+o+\'" to target pthread \'+r.targetThread+", but that thread no longer exists!")}else if("processQueuedMainThreadWork"===o)St();else if("spawnThread"===o)Oe(n.data);else if("cleanupThread"===o)ge(r.thread);else if("killThread"===o){if(n=r.thread,O)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!n)throw"Internal Error! Null pthread_ptr in killThread!";a()[n+12>>2]=0,r=ye.cb[n],delete ye.cb[n],r.worker.terminate(),ye.xb(r),ye.fb.splice(ye.fb.indexOf(r.worker),1),r.worker.bb=void 0}else if("cancelThread"===o){if(n=r.thread,O)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!n)throw"Internal Error! Null pthread_ptr in cancelThread!";ye.cb[n].worker.postMessage({cmd:"cancel"})}else if("loaded"===o)e.loaded=!0,t&&t(e),e.mb&&(e.mb(),delete e.mb);else if("print"===o)k("Thread "+r.threadId+": "+r.text);else if("printErr"===o)x("Thread "+r.threadId+": "+r.text);else if("alert"===o)alert("Thread "+r.threadId+": "+r.text);else if("exit"===o)e.bb&&Atomics.load(i(),e.bb.eb+64>>2)&&ye.sb(e);else if("exitProcess"===o)try{Nt(r.returnCode)}catch(e){if(e instanceof Bt)return;throw e}else"cancelDone"===o?ye.sb(e):"objectTransfer"!==o&&("setimmediate"===n.data.target?e.postMessage(n.data):x("worker sent an unknown command "+o));ye.Lb=void 0},e.onerror=function(e){x("pthread sent an error! "+e.filename+":"+e.lineno+": "+e.message)},w&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("exit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:R,wasmModule:C})},Ib:function(){var e=E("ort-wasm-threaded.worker.js");ye.gb.push(new Worker(e))},Ob:function(){return 0==ye.gb.length&&(ye.Ib(),ye.Ub(ye.gb[0])),ye.gb.pop()},nc:function(e){for(e=performance.now()+e;performance.now()<e;);}};function ve(e,t){if(0===e)e=Date.now();else{if(1!==e&&4!==e)return a()[yt()>>2]=28,-1;e=be()}return a()[t>>2]=e/1e3|0,a()[t+4>>2]=e%1e3*1e6|0,0}function _e(e,t){if(O)return Ne(1,1,e,t);te.unshift({Nb:e,ib:t})}function we(e){this.lb=e-16,this.dc=function(e){a()[this.lb+4>>2]=e},this.ac=function(e){a()[this.lb+8>>2]=e},this.bc=function(){a()[this.lb>>2]=0},this.$b=function(){t()[this.lb+12>>0]=0},this.cc=function(){t()[this.lb+13>>0]=0},this.Pb=function(e,t){this.dc(e),this.ac(t),this.bc(),this.$b(),this.cc()}}function Oe(e){if(O)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var t=ye.Ob();if(!t)return 6;if(void 0!==t.bb)throw"Internal error!";if(!e.rb)throw"Internal error, no pthread ptr!";ye.fb.push(t);for(var n=bt(512),r=0;128>r;++r)a()[n+4*r>>2]=0;var o=e.hb+e.jb,u=(r=ye.cb[e.rb]={worker:t,hb:e.hb,jb:e.jb,wb:e.wb,eb:e.rb}).eb>>2;Atomics.store(i(),u+16,e.detached),Atomics.store(i(),u+25,n),Atomics.store(i(),u+10,r.eb),Atomics.store(i(),u+20,e.jb),Atomics.store(i(),u+19,o),Atomics.store(i(),u+26,e.jb),Atomics.store(i(),u+28,o),Atomics.store(i(),u+29,e.detached),n=Rt()+40,Atomics.store(i(),u+43,n),t.bb=r;var s={cmd:"run",start_routine:e.ec,arg:e.ib,threadInfoStruct:e.rb,stackBase:e.hb,stackSize:e.jb};return t.mb=function(){s.time=performance.now(),t.postMessage(s,e.mc)},t.loaded&&(t.mb(),delete t.mb),0}function Ae(e,n,r){if(0>=e||e>t().length||1&e)return-28;if(v){if(Atomics.load(a(),e>>2)!=n)return-6;var i=performance.now();for(r=i+r,Atomics.exchange(a(),zt>>2,e);;){if((i=performance.now())>r)return Atomics.exchange(a(),zt>>2,0),-73;if(0==(i=Atomics.exchange(a(),zt>>2,0)))break;if(St(),Atomics.load(a(),e>>2)!=n)return-6;Atomics.exchange(a(),zt>>2,e)}return 0}if("timed-out"===(e=Atomics.wait(a(),e>>2,n,r)))return-73;if("not-equal"===e)return-6;if("ok"===e)return 0;throw"Atomics.wait returned an unexpected value "+e}function Ee(){w||_||(T||(T={}),T["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]||(T["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]=1,x("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")))}u.establishStackSpace=function(e,t){Wt(e,t),jt(e)},u.invokeEntryPoint=function(e,t){return K.get(e)(t)},be=w?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:O?function(){return performance.now()-u.__performance_now_clock_drift}:function(){return performance.now()};var Se={},Te=[null,[],[]];function Me(e,t){var n=Te[e];0===t||10===t?((1===e?k:x)(G(n,0)),n.length=0):n.push(t)}var ke={};function xe(e,t){return O?Ne(2,1,e,t):(e=N(e),ke.rc(e,t))}function De(e,t,n){return O?Ne(3,1,e,t,n):0}function Re(e,t){if(O)return Ne(4,1,e,t)}function Ce(e,t,n){if(O)return Ne(5,1,e,t,n)}function Pe(e,t,n){return O?Ne(6,1,e,t,n):0}function Ie(e,t){if(O)return Ne(7,1,e,t)}function Fe(e,t){return O?Ne(8,1,e,t):(e=N(e),ke.sc(e,t))}function Ue(e,t,n,a,i,o){if(O)t=Ne(9,1,e,t,n,a,i,o);else if(o<<=12,0!=(16&a)&&0!=e%65536)t=-28;else if(0!=(32&a)){var u=65536*Math.ceil(t/65536);(e=Ht(65536,u))?r().fill(0,e,e+u):e=0,e?(Se[e]={Wb:e,Tb:t,Jb:!0,fd:i,Ac:n,flags:a,offset:o},t=e):t=-48}else t=-52;return t}function je(e,t){if(O)e=Ne(10,1,e,t);else{var n=Se[e];0!==t&&n?(t===n.Tb&&(Se[e]=null,n.Jb&&vt(n.Wb)),e=0):e=-28}return e}function Le(e,t,n){if(O)return Ne(11,1,e,t,n)}function We(e,t,n){return O?Ne(12,1,e,t,n):(e=N(e),ke.tc(e,t,n))}function He(e){if(O)return Ne(13,1,e)}function Ye(e,t){if(O)return Ne(14,1,e,t)}function ze(e){if(O)return Ne(15,1,e)}function Be(){if(O)return Ne(16,1);le()}var Ge=[];function Ne(e,t){for(var n=arguments.length-2,r=Ut(),a=Lt(8*n),i=a>>3,u=0;u<n;u++){var s=arguments[2+u];o()[i+u]=s}return n=Tt(e,n,a,t),jt(r),n}var qe=[],Ve=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function Xe(e){return e=2<e?N(e):e,Ve[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}function Je(e,t,n){var r=Xe(e);if(!r)return-4;if(r.qb&&(a()[r.qb>>2]=t,a()[r.qb+4>>2]=n),!r.Db&&r.pc){if(r.qb){r=a()[r.qb+8>>2],e=e?N(e):"";var i=Ut(),o=Lt(12),u=0;if(e){u=X(e)+1;var s=bt(u);V(e,s,u),u=s}return a()[o>>2]=u,a()[o+4>>2]=t,a()[o+8>>2]=n,Mt(0,r,657457152,0,u,o),jt(i),1}return-4}return r.Db&&(r=r.Db),e=!1,r.pb&&r.pb.ob&&(e=0===(e=r.pb.ob.getParameter(2978))[0]&&0===e[1]&&e[2]===r.width&&e[3]===r.height),r.width=t,r.height=n,e&&r.pb.ob.viewport(0,0,t,n),0}function Qe(e,t,n){return O?Ne(17,1,e,t,n):Je(e,t,n)}var Ze,Ke=["default","low-power","high-performance"],$e={};function et(){if(!Ze){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(e in $e)void 0===$e[e]?delete t[e]:t[e]=$e[e];var n=[];for(e in t)n.push(e+"="+t[e]);Ze=n}return Ze}function tt(e,n){if(O)return Ne(18,1,e,n);var r=0;return et().forEach((function(i,o){var u=n+r;for(o=a()[e+4*o>>2]=u,u=0;u<i.length;++u)t()[o++>>0]=i.charCodeAt(u);t()[o>>0]=0,r+=i.length+1})),0}function nt(e,t){if(O)return Ne(19,1,e,t);var n=et();a()[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),a()[t>>2]=r,0}function rt(e){return O?Ne(20,1,e):0}function at(e,n){return O?Ne(21,1,e,n):(e=1==e||2==e?2:le(),t()[n>>0]=e,0)}function it(e,t,n,r){return O?Ne(22,1,e,t,n,r):(e=ke.vc(e),t=ke.uc(e,t,n),a()[r>>2]=t,0)}function ot(e,t,n,r,a){if(O)return Ne(23,1,e,t,n,r,a)}function ut(e,t,n,i){if(O)return Ne(24,1,e,t,n,i);for(var o=0,u=0;u<n;u++){for(var s=a()[t+8*u>>2],c=a()[t+(8*u+4)>>2],l=0;l<c;l++)Me(e,r()[s+l]);o+=c}return a()[i>>2]=o,0}function st(){function e(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}if(O)return Ne(25,1);if(!st.Kb){st.Kb=!0;var t=(new Date).getFullYear(),n=new Date(t,0,1),r=new Date(t,6,1);t=n.getTimezoneOffset();var i=r.getTimezoneOffset(),o=Math.max(t,i);a()[Ft()>>2]=60*o,a()[It()>>2]=Number(t!=i),n=e(n),r=e(r),n=J(n),r=J(r),i<t?(a()[Pt()>>2]=n,a()[Pt()+4>>2]=r):(a()[Pt()>>2]=r,a()[Pt()+4>>2]=n)}}function ct(e){return 0==e%4&&(0!=e%100||0==e%400)}function lt(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}var ft=[31,29,31,30,31,30,31,31,30,31,30,31],pt=[31,28,31,30,31,30,31,31,30,31,30,31];function dt(e,t){for(e=new Date(e.getTime());0<t;){var n=e.getMonth(),r=(ct(e.getFullYear())?ft:pt)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function mt(e,n,r,i){function o(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function u(e,t){return o(e,t,"0")}function s(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){e=dt(new Date(e.ab+1900,0,1),e.vb);var t=new Date(e.getFullYear()+1,0,4),n=c(new Date(e.getFullYear(),0,4));return t=c(t),0>=s(n,e)?0>=s(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=a()[i+40>>2];for(var p in i={kc:a()[i>>2],jc:a()[i+4>>2],tb:a()[i+8>>2],nb:a()[i+12>>2],kb:a()[i+16>>2],ab:a()[i+20>>2],ub:a()[i+24>>2],vb:a()[i+28>>2],Ec:a()[i+32>>2],ic:a()[i+36>>2],lc:f?N(f):""},r=N(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),m="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(e){return d[e.ub].substring(0,3)},"%A":function(e){return d[e.ub]},"%b":function(e){return m[e.kb].substring(0,3)},"%B":function(e){return m[e.kb]},"%C":function(e){return u((e.ab+1900)/100|0,2)},"%d":function(e){return u(e.nb,2)},"%e":function(e){return o(e.nb,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return u(e.tb,2)},"%I":function(e){return 0==(e=e.tb)?e=12:12<e&&(e-=12),u(e,2)},"%j":function(e){return u(e.nb+lt(ct(e.ab+1900)?ft:pt,e.kb-1),3)},"%m":function(e){return u(e.kb+1,2)},"%M":function(e){return u(e.jc,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.tb&&12>e.tb?"AM":"PM"},"%S":function(e){return u(e.kc,2)},"%t":function(){return"\\t"},"%u":function(e){return e.ub||7},"%U":function(e){var t=new Date(e.ab+1900,0,1),n=0===t.getDay()?t:dt(t,7-t.getDay());return 0>s(n,e=new Date(e.ab+1900,e.kb,e.nb))?u(Math.ceil((31-n.getDate()+(lt(ct(e.getFullYear())?ft:pt,e.getMonth()-1)-31)+e.getDate())/7),2):0===s(n,t)?"01":"00"},"%V":function(e){var t=new Date(e.ab+1901,0,4),n=c(new Date(e.ab+1900,0,4));t=c(t);var r=dt(new Date(e.ab+1900,0,1),e.vb);return 0>s(r,n)?"53":0>=s(t,r)?"01":u(Math.ceil((n.getFullYear()<e.ab+1900?e.vb+32-n.getDate():e.vb+1-n.getDate())/7),2)},"%w":function(e){return e.ub},"%W":function(e){var t=new Date(e.ab,0,1),n=1===t.getDay()?t:dt(t,0===t.getDay()?1:7-t.getDay()+1);return 0>s(n,e=new Date(e.ab+1900,e.kb,e.nb))?u(Math.ceil((31-n.getDate()+(lt(ct(e.getFullYear())?ft:pt,e.getMonth()-1)-31)+e.getDate())/7),2):0===s(n,t)?"01":"00"},"%y":function(e){return(e.ab+1900).toString().substring(2)},"%Y":function(e){return e.ab+1900},"%z":function(e){var t=0<=(e=e.ic);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.lc},"%%":function(){return"%"}})r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return(p=function(e){var t=Array(X(e)+1);return q(e,t,0,t.length),t}(r)).length>n?0:(function(e,n){t().set(e,n)}(p,e),p.length-1)}var ht=[null,_e,xe,De,Re,Ce,Pe,Ie,Fe,Ue,je,Le,We,He,Ye,ze,Be,Qe,tt,nt,rt,at,it,ot,ut,st],gt={h:function(e,t,n,r){le("Assertion failed: "+N(e)+", at: "+[t?N(t):"unknown filename",n,r?N(r):"unknown function"])},M:function(e,t){return ve(e,t)},b:function(e){return bt(e+16)+16},d:function(e,t){return _e(e,t)},e:function(e,t){ye.yb.push((function(){K.get(e)(t)}))},c:function(e,t,n){throw new we(e).Pb(t,n),e},Z:function(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!e)return x("pthread_create called with a null thread pointer!"),28;var o=[];if(O&&0===o.length)return Et(687865856,e,t,n,r);var u=0,s=0;if(t&&-1!=t){var c=a()[t>>2];c+=81920,u=a()[t+8>>2],s=0!==a()[t+12>>2]}else c=2097152;(t=0==u)?u=Ht(16,c):F(0<(u-=c));for(var l=bt(228),f=0;57>f;++f)i()[(l>>2)+f]=0;return a()[e>>2]=l,a()[l+12>>2]=l,e=l+152,a()[e>>2]=e,n={hb:u,jb:c,wb:t,detached:s,ec:n,rb:l,ib:r,mc:o},O?(n.oc="spawnThread",postMessage(n,o),0):Oe(n)},X:function(e){throw O?ye.Hb(e):(ye.Eb(),Nt(e)),"unwind"},Y:function(e,t){return function(e,t){if(!e)return x("pthread_join attempted on a null thread pointer!"),71;if(O&&_t()==e)return x("PThread "+e+" is attempting to join to itself!"),16;if(!O&&At()==e)return x("Main thread "+e+" is attempting to join to itself!"),16;if(a()[e+12>>2]!==e)return x("pthread_join attempted on thread "+e+", which does not point to a valid thread, or does not exist anymore!"),71;if(Atomics.load(i(),e+64>>2))return x("Attempted to join thread "+e+", which was already detached!"),28;for(Ee();;){var n=Atomics.load(i(),e+0>>2);if(1==n)return n=Atomics.load(i(),e+4>>2),t&&(a()[t>>2]=n),Atomics.store(i(),e+64>>2,1),O?postMessage({cmd:"cleanupThread",thread:e}):ge(e),0;kt(),O||St(),Ae(e+0,n,O?100:1)}}(e,t)},L:xe,s:De,S:Re,V:Ce,u:function(){return 42},F:Pe,Q:Ie,P:Fe,U:Ue,T:je,q:Le,K:We,N:He,v:Ye,O:ze,da:function(e,t){if(e==t)postMessage({cmd:"processQueuedMainThreadWork"});else if(O)postMessage({targetThread:e,cmd:"processThreadQueue"});else{if(!(e=(e=ye.cb[e])&&e.worker))return;e.postMessage({cmd:"processThreadQueue"})}return 1},f:Be,w:ve,ga:function(e,t){return e-t},A:function(){le("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){le("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},C:function(){le("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},z:function(){le("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},ea:function(e,t,n){var i;for(Ge.length=0,n>>=2;i=r()[t++];)(i=105>i)&&1&n&&n++,Ge.push(i?o()[n++>>1]:a()[n]),++n;return de[e].apply(null,Ge)},G:Ee,n:function(){},k:Ae,j:he,W:function(){return 2147483648},i:be,D:function(e,t,n){r().copyWithin(e,t,t+n)},o:function(){return w?n(993).cpus().length:navigator.hardwareConcurrency},aa:function(e,t,n){qe.length=t,n>>=3;for(var r=0;r<t;r++)qe[r]=o()[n+r];return(0>e?de[-e-1]:ht[e]).apply(null,qe)},E:function(e){var t=r().length;if((e>>>=0)<=t||2147483648<e)return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296),0<(a=Math.max(e,a))%65536&&(a+=65536-a%65536);e:{try{R.grow(Math.min(2147483648,a)-j.byteLength+65535>>>16),Q(R.buffer);var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},ba:function(e,t,n){return Xe(e)?Je(e,t,n):Qe(e,t,n)},x:function(){},$:function(e,t,n){return re+=1,setTimeout((function(){--re,function(e){if(!I){try{e()}catch(e){if(e instanceof Bt)return;if("unwind"!==e)throw e&&"object"==typeof e&&e.stack&&x("exception thrown: "+[e,e.stack]),e}if(!ae())try{O?xt(P):Nt(P)}catch(e){if(!(e instanceof Bt))throw e}}}((function(){K.get(e)(n)}))}),t)},ca:function(e,t){t>>=2;var n=a()[t+6];return t={alpha:!!a()[t],depth:!!a()[t+1],stencil:!!a()[t+2],antialias:!!a()[t+3],premultipliedAlpha:!!a()[t+4],preserveDrawingBuffer:!!a()[t+5],powerPreference:Ke[n],failIfMajorPerformanceCaveat:!!a()[t+7],Vb:a()[t+8],yc:a()[t+9],Bb:a()[t+10],Mb:a()[t+11],Bc:a()[t+12],Cc:a()[t+13]},!(e=Xe(e))||t.Mb?0:function(e,t){e.Cb||(e.Cb=e.getContext,e.getContext=function(t,n){return"webgl"==t==(n=e.Cb(t,n))instanceof WebGLRenderingContext?n:null});var n=e.getContext("webgl",t);return n?function(e,t){var n=bt(8);a()[n+4>>2]=_t();var r={wc:n,attributes:t,version:t.Vb,ob:e};return e.canvas&&(e.canvas.pb=r),(void 0===t.Bb||t.Bb)&&function(e){if(e||(e=void 0),!e.Qb){e.Qb=!0;var t=e.ob;!function(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(e,n){t.vertexAttribDivisorANGLE(e,n)},e.drawArraysInstanced=function(e,n,r,a){t.drawArraysInstancedANGLE(e,n,r,a)},e.drawElementsInstanced=function(e,n,r,a,i){t.drawElementsInstancedANGLE(e,n,r,a,i)})}(t),function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})}(t),function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,n){t.drawBuffersWEBGL(e,n)})}(t),t.qc=t.getExtension("EXT_disjoint_timer_query"),t.zc=t.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||t.getExtension(e)}))}}(r),n}(n,t):0}(e,t)},I:tt,J:nt,m:rt,H:at,t:it,B:ot,p:ut,R:function(e){var t=Date.now();return a()[e>>2]=t/1e3|0,a()[e+4>>2]=t%1e3*1e3|0,0},ha:function e(t,n){return t=new Date(1e3*a()[t>>2]),a()[n>>2]=t.getUTCSeconds(),a()[n+4>>2]=t.getUTCMinutes(),a()[n+8>>2]=t.getUTCHours(),a()[n+12>>2]=t.getUTCDate(),a()[n+16>>2]=t.getUTCMonth(),a()[n+20>>2]=t.getUTCFullYear()-1900,a()[n+24>>2]=t.getUTCDay(),a()[n+36>>2]=0,a()[n+32>>2]=0,t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[n+28>>2]=t,e.Ab||(e.Ab=J("GMT")),a()[n+40>>2]=e.Ab,n},_:function(){ye.Rb()},r:function(e,t){st(),e=new Date(1e3*a()[e>>2]),a()[t>>2]=e.getSeconds(),a()[t+4>>2]=e.getMinutes(),a()[t+8>>2]=e.getHours(),a()[t+12>>2]=e.getDate(),a()[t+16>>2]=e.getMonth(),a()[t+20>>2]=e.getFullYear()-1900,a()[t+24>>2]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;return a()[t+28>>2]=r,a()[t+36>>2]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),a()[t+32>>2]=e,e=a()[Pt()+(e?4:0)>>2],a()[t+40>>2]=e,t},a:R||u.wasmMemory,y:function(e){st();var t=new Date(a()[e+20>>2]+1900,a()[e+16>>2],a()[e+12>>2],a()[e+8>>2],a()[e+4>>2],a()[e>>2],0),n=a()[e+32>>2],r=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),s=Math.min(u,o);return 0>n?a()[e+32>>2]=Number(o!=u&&s==r):0<n!=(s==r)&&(o=Math.max(u,o),t.setTime(t.getTime()+6e4*((0<n?s:o)-r))),a()[e+24>>2]=t.getDay(),n=(t.getTime()-i.getTime())/864e5|0,a()[e+28>>2]=n,a()[e>>2]=t.getSeconds(),a()[e+4>>2]=t.getMinutes(),a()[e+8>>2]=t.getHours(),a()[e+12>>2]=t.getDate(),a()[e+16>>2]=t.getMonth(),t.getTime()/1e3|0},fa:mt,g:function(e,t,n,r){return mt(e,t,n,r)}};!function(){function e(e,t){u.asm=e.exports,K=u.asm.Ca,ee.unshift(u.asm.ia),ye.zb.push(u.asm.Ha),C=t,O||(ue--,u.monitorRunDependencies&&u.monitorRunDependencies(ue),0==ue&&(null!==se&&(clearInterval(se),se=null),ce&&(e=ce,ce=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!M&&(v||_)){if("function"==typeof fetch&&!oe.startsWith("file://"))return fetch(oe,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+oe+"\'";return e.arrayBuffer()})).catch((function(){return pe()}));if(h)return new Promise((function(e,t){h(oe,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return pe()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then(e,(function(e){x("failed to asynchronously prepare wasm: "+e),le(e)}))}var r={a:gt};if(O||(ue++,u.monitorRunDependencies&&u.monitorRunDependencies(ue)),u.instantiateWasm)try{return u.instantiateWasm(r,e)}catch(e){return x("Module.instantiateWasm callback failed with error: "+e),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||fe()||oe.startsWith("file://")||"function"!=typeof fetch?n(t):fetch(oe,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return x("wasm streaming compile failed: "+e),x("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(c)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.ia).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.ja).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.ka).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.la).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm.ma).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.na).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.oa).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.pa).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.qa).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.ra).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.sa).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.ta).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.ua).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.va).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.wa).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.xa).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.ya).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.za).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.Aa).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.Ba).apply(null,arguments)};var bt=u._malloc=function(){return(bt=u._malloc=u.asm.Da).apply(null,arguments)},yt=u.___errno_location=function(){return(yt=u.___errno_location=u.asm.Ea).apply(null,arguments)},vt=u._free=function(){return(vt=u._free=u.asm.Fa).apply(null,arguments)},_t=u._pthread_self=function(){return(_t=u._pthread_self=u.asm.Ga).apply(null,arguments)};u._emscripten_tls_init=function(){return(u._emscripten_tls_init=u.asm.Ha).apply(null,arguments)},u._emscripten_current_thread_process_queued_calls=function(){return(u._emscripten_current_thread_process_queued_calls=u.asm.Ia).apply(null,arguments)};var wt,Ot=u._emscripten_register_main_browser_thread_id=function(){return(Ot=u._emscripten_register_main_browser_thread_id=u.asm.Ja).apply(null,arguments)},At=u._emscripten_main_browser_thread_id=function(){return(At=u._emscripten_main_browser_thread_id=u.asm.Ka).apply(null,arguments)},Et=u._emscripten_sync_run_in_main_thread_4=function(){return(Et=u._emscripten_sync_run_in_main_thread_4=u.asm.La).apply(null,arguments)},St=u._emscripten_main_thread_process_queued_calls=function(){return(St=u._emscripten_main_thread_process_queued_calls=u.asm.Ma).apply(null,arguments)},Tt=u._emscripten_run_in_main_runtime_thread_js=function(){return(Tt=u._emscripten_run_in_main_runtime_thread_js=u.asm.Na).apply(null,arguments)},Mt=u.__emscripten_call_on_thread=function(){return(Mt=u.__emscripten_call_on_thread=u.asm.Oa).apply(null,arguments)},kt=u._pthread_testcancel=function(){return(kt=u._pthread_testcancel=u.asm.Pa).apply(null,arguments)},xt=u._pthread_exit=function(){return(xt=u._pthread_exit=u.asm.Qa).apply(null,arguments)},Dt=u.__emscripten_thread_init=function(){return(Dt=u.__emscripten_thread_init=u.asm.Ra).apply(null,arguments)},Rt=u._emscripten_get_global_libc=function(){return(Rt=u._emscripten_get_global_libc=u.asm.Sa).apply(null,arguments)},Ct=u.___pthread_tsd_run_dtors=function(){return(Ct=u.___pthread_tsd_run_dtors=u.asm.Ta).apply(null,arguments)},Pt=u.__get_tzname=function(){return(Pt=u.__get_tzname=u.asm.Ua).apply(null,arguments)},It=u.__get_daylight=function(){return(It=u.__get_daylight=u.asm.Va).apply(null,arguments)},Ft=u.__get_timezone=function(){return(Ft=u.__get_timezone=u.asm.Wa).apply(null,arguments)},Ut=u.stackSave=function(){return(Ut=u.stackSave=u.asm.Xa).apply(null,arguments)},jt=u.stackRestore=function(){return(jt=u.stackRestore=u.asm.Ya).apply(null,arguments)},Lt=u.stackAlloc=function(){return(Lt=u.stackAlloc=u.asm.Za).apply(null,arguments)},Wt=u._emscripten_stack_set_limits=function(){return(Wt=u._emscripten_stack_set_limits=u.asm._a).apply(null,arguments)},Ht=u._memalign=function(){return(Ht=u._memalign=u.asm.$a).apply(null,arguments)},Yt=u.__emscripten_allow_main_runtime_queued_calls=973296,zt=u.__emscripten_main_thread_futex=977204;function Bt(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Gt(){function e(){if(!wt&&(wt=!0,u.calledRun=!0,!I)&&(O||me(ee),s(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var e=u.postRun.shift();ne.unshift(e)}me(ne)}}if(!(0<ue))if(O)s(u),O||me(ee),postMessage({cmd:"loaded"});else{if(!O){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)ie();me($)}0<ue||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),e()}),1)):e())}}function Nt(e){if(P=e,O)throw postMessage({cmd:"exitProcess",returnCode:e}),new Bt(e);ae()||(ye.Gb(),O||(me(te),"undefined"!=typeof _fflush&&_fflush(0),Te[1].length&&Me(1,10),Te[2].length&&Me(2,10))),P=e,ae()||(ye.Gb(),u.onExit&&u.onExit(e),I=!0),d(e,new Bt(e))}if(u.UTF8ToString=N,u.stringToUTF8=V,u.lengthBytesUTF8=X,u.keepRuntimeAlive=ae,u.PThread=ye,u.stackSave=Ut,u.stackRestore=jt,u.stackAlloc=Lt,u.PThread=ye,u.wasmMemory=R,u.ExitStatus=Bt,ce=function e(){wt||Gt(),wt||(ce=e)},u.run=Gt,u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return O&&(D=!1,ye.Sb()),Gt(),e.ready});e.exports=r},118:function(e){"use strict";e.exports=\'"use strict";var e={};if("object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node){var a=require("worker_threads"),t=a.parentPort;t.on("message",(function(e){onmessage({data:e})}));var r=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:a.Worker,importScripts:function(e){(0,eval)(r.readFileSync(e,"utf8"))},postMessage:function(e){t.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=function(){var e=Array.prototype.slice.call(arguments).join(" ");console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=function(a,t){var r=new WebAssembly.Instance(e.wasmModule,a);return t(r),e.wasmModule=null,r.exports},self.onmessage=function(a){try{if("load"===a.data.cmd){if(e.wasmModule=a.data.wasmModule,e.wasmMemory=a.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof a.data.urlOrBlob)importScripts(a.data.urlOrBlob);else{var t=URL.createObjectURL(a.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e).then((function(a){e=a}))}else if("objectTransfer"===a.data.cmd)e.PThread.receiveObjectTransfer(a.data);else if("run"===a.data.cmd){e.__performance_now_clock_drift=performance.now()-a.data.time,e.__emscripten_thread_init(a.data.threadInfoStruct,0,0);var r=a.data.stackBase,o=a.data.stackBase+a.data.stackSize;e.establishStackSpace(o,r),e.PThread.receiveObjectTransfer(a.data),e.PThread.threadInit();try{var n=e.invokeEntryPoint(a.data.start_routine,a.data.arg);e.keepRuntimeAlive()?e.PThread.setExitStatus(n):e.PThread.threadExit(n)}catch(a){if("Canceled!"===a)e.PThread.threadCancel();else if("unwind"!=a){if(!(a instanceof e.ExitStatus))throw e.PThread.threadExit(-2),a;e.keepRuntimeAlive()||e.PThread.threadExit(a.status)}}}else"cancel"===a.data.cmd?e._pthread_self()&&e.PThread.threadCancel():"setimmediate"===a.data.target||("processThreadQueue"===a.data.cmd?e._pthread_self()&&e._emscripten_current_thread_process_queued_calls():(s("worker.js received unknown command "+a.data.cmd),s(a.data)))}catch(e){throw s("worker.js onmessage() captured an uncaught exception: "+e),e&&e.stack&&s(e.stack),e}};\\n\'},932:function(e,t,n){var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,r,a;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){r=e,a=t}));var i,o={};for(i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);var u,s,c,l,f,p="./this.program",d="object"==typeof window,m="function"==typeof importScripts,h="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,g="";h?(g=m?n(908).dirname(g)+"/":"//",u=function(e,t){return l||(l=n(384)),f||(f=n(908)),e=f.normalize(e),l.readFileSync(e,t?null:"utf8")},c=function(e){return(e=u(e,!0)).buffer||(e=new Uint8Array(e)),e.buffer||B("Assertion failed: undefined"),e},s=function(e,t,r){l||(l=n(384)),f||(f=n(908)),e=f.normalize(e),l.readFile(e,(function(e,n){e?r(e):t(n.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){throw e})),process.on("unhandledRejection",B),t.inspect=function(){return"[Emscripten Module object]"}):(d||m)&&(m?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),_scriptDir&&(g=_scriptDir),g=0!==g.indexOf("blob:")?g.substr(0,g.lastIndexOf("/")+1):"",u=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(c=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),s=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var b,y=t.print||console.log.bind(console),v=t.printErr||console.warn.bind(console);for(i in o)o.hasOwnProperty(i)&&(t[i]=o[i]);o=null,t.thisProgram&&(p=t.thisProgram),t.wasmBinary&&(b=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&B("no native wasm support detected");var _,w,O,A,E,S=!1,T="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function M(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&T)return T.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var i=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function k(e,t){return e?M(A,e,t):""}function x(e,t,n,r){if(!(0<r))return 0;var a=n;r=n+r-1;for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i)),127>=o){if(n>=r)break;t[n++]=o}else{if(2047>=o){if(n+1>=r)break;t[n++]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++]=224|o>>12}else{if(n+3>=r)break;t[n++]=240|o>>18,t[n++]=128|o>>12&63}t[n++]=128|o>>6&63}t[n++]=128|63&o}}return t[n]=0,n-a}function D(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:t+4}return t}function R(e){var t=D(e)+1,n=pe(t);return n&&x(e,O,n,t),n}function C(){var e=_.buffer;w=e,t.HEAP8=O=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=E=new Int32Array(e),t.HEAPU8=A=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var P,I=[],F=[],U=[],j=[];function L(){var e=t.preRun.shift();I.unshift(e)}var W,H=0,Y=null,z=null;function B(e){throw t.onAbort&&t.onAbort(e),v(e),S=!0,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),a(e),e}function G(){return W.startsWith("data:application/octet-stream;base64,")}if(t.preloadedImages={},t.preloadedAudios={},W="ort-wasm.wasm",!G()){var N=W;W=t.locateFile?t.locateFile(N,g):g+N}function q(){var e=W;try{if(e==W&&b)return new Uint8Array(b);if(c)return c(e);throw"both async and sync fetching of the wasm failed"}catch(e){B(e)}}function V(e){for(;0<e.length;){var n=e.shift();if("function"==typeof n)n(t);else{var r=n.Ea;"number"==typeof r?void 0===n.xa?P.get(r)():P.get(r)(n.xa):r(void 0===n.xa?null:n.xa)}}}function X(e){this.ya=e-16,this.Na=function(e){E[this.ya+4>>2]=e},this.Ka=function(e){E[this.ya+8>>2]=e},this.La=function(){E[this.ya>>2]=0},this.Ja=function(){O[this.ya+12>>0]=0},this.Ma=function(){O[this.ya+13>>0]=0},this.Ga=function(e,t){this.Na(e),this.Ka(t),this.La(),this.Ja(),this.Ma()}}var J,Q={},Z=[null,[],[]],K={};J=h?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:function(){return performance.now()};var $,ee,te={};function ne(){if(!$){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(e in te)void 0===te[e]?delete t[e]:t[e]=te[e];var n=[];for(e in t)n.push(e+"="+t[e]);$=n}return $}function re(){function e(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}if(!ee){ee=!0;var t=(new Date).getFullYear(),n=new Date(t,0,1),r=new Date(t,6,1);t=n.getTimezoneOffset();var a=r.getTimezoneOffset(),i=Math.max(t,a);E[be()>>2]=60*i,E[ge()>>2]=Number(t!=a),n=e(n),r=e(r),n=R(n),r=R(r),a<t?(E[he()>>2]=n,E[he()+4>>2]=r):(E[he()>>2]=r,E[he()+4>>2]=n)}}function ae(e){return 0==e%4&&(0!=e%100||0==e%400)}function ie(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}var oe=[31,29,31,30,31,30,31,31,30,31,30,31],ue=[31,28,31,30,31,30,31,31,30,31,30,31];function se(e,t){for(e=new Date(e.getTime());0<t;){var n=e.getMonth(),r=(ae(e.getFullYear())?oe:ue)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function ce(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function i(e,t){return a(e,t,"0")}function o(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function s(e){e=se(new Date(e.va+1900,0,1),e.Ca);var t=new Date(e.getFullYear()+1,0,4),n=u(new Date(e.getFullYear(),0,4));return t=u(t),0>=o(n,e)?0>=o(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=E[r+40>>2];for(var l in r={Qa:E[r>>2],Pa:E[r+4>>2],Aa:E[r+8>>2],za:E[r+12>>2],wa:E[r+16>>2],va:E[r+20>>2],Ba:E[r+24>>2],Ca:E[r+28>>2],Ya:E[r+32>>2],Oa:E[r+36>>2],Ra:c?k(c):""},n=k(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in c={"%a":function(e){return f[e.Ba].substring(0,3)},"%A":function(e){return f[e.Ba]},"%b":function(e){return p[e.wa].substring(0,3)},"%B":function(e){return p[e.wa]},"%C":function(e){return i((e.va+1900)/100|0,2)},"%d":function(e){return i(e.za,2)},"%e":function(e){return a(e.za,2," ")},"%g":function(e){return s(e).toString().substring(2)},"%G":function(e){return s(e)},"%H":function(e){return i(e.Aa,2)},"%I":function(e){return 0==(e=e.Aa)?e=12:12<e&&(e-=12),i(e,2)},"%j":function(e){return i(e.za+ie(ae(e.va+1900)?oe:ue,e.wa-1),3)},"%m":function(e){return i(e.wa+1,2)},"%M":function(e){return i(e.Pa,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.Aa&&12>e.Aa?"AM":"PM"},"%S":function(e){return i(e.Qa,2)},"%t":function(){return"\\t"},"%u":function(e){return e.Ba||7},"%U":function(e){var t=new Date(e.va+1900,0,1),n=0===t.getDay()?t:se(t,7-t.getDay());return 0>o(n,e=new Date(e.va+1900,e.wa,e.za))?i(Math.ceil((31-n.getDate()+(ie(ae(e.getFullYear())?oe:ue,e.getMonth()-1)-31)+e.getDate())/7),2):0===o(n,t)?"01":"00"},"%V":function(e){var t=new Date(e.va+1901,0,4),n=u(new Date(e.va+1900,0,4));t=u(t);var r=se(new Date(e.va+1900,0,1),e.Ca);return 0>o(r,n)?"53":0>=o(t,r)?"01":i(Math.ceil((n.getFullYear()<e.va+1900?e.Ca+32-n.getDate():e.Ca+1-n.getDate())/7),2)},"%w":function(e){return e.Ba},"%W":function(e){var t=new Date(e.va,0,1),n=1===t.getDay()?t:se(t,0===t.getDay()?1:7-t.getDay()+1);return 0>o(n,e=new Date(e.va+1900,e.wa,e.za))?i(Math.ceil((31-n.getDate()+(ie(ae(e.getFullYear())?oe:ue,e.getMonth()-1)-31)+e.getDate())/7),2):0===o(n,t)?"01":"00"},"%y":function(e){return(e.va+1900).toString().substring(2)},"%Y":function(e){return e.va+1900},"%z":function(e){var t=0<=(e=e.Oa);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Ra},"%%":function(){return"%"}})n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return(l=function(e){var t=Array(D(e)+1);return x(e,t,0,t.length),t}(n)).length>t?0:(O.set(l,e),l.length-1)}var le={a:function(e){return pe(e+16)+16},c:function(e,t){U.unshift({Ea:e,xa:t})},d:function(e,t){U.unshift({Ea:e,xa:t})},b:function(e,t,n){throw new X(e).Ga(t,n),e},D:function(e,t){return e=k(e),K.Sa(e,t)},m:function(){return 0},I:function(){},L:function(){},o:function(){return 42},x:function(){return 0},H:function(){},G:function(e,t){return e=k(e),K.Ta(e,t)},K:function(e,t,n,r,a,i){if(i<<=12,0!=(16&r)&&0!=e%65536)t=-28;else if(0!=(32&r)){e=65536*Math.ceil(t/65536);var o=we(65536,e);o?(A.fill(0,o,o+e),e=o):e=0,e?(Q[e]={Ia:e,Ha:t,Fa:!0,fd:a,Xa:n,flags:r,offset:i},t=e):t=-48}else t=-52;return t},J:function(e,t){var n=Q[e];return 0!==t&&n?(t===n.Ha&&(Q[e]=null,n.Fa&&me(n.Ia)),e=0):e=-28,e},j:function(){},C:function(e,t,n){return e=k(e),K.Ua(e,t,n)},E:function(){},r:function(){},F:function(){},h:function(){B()},p:function(e,t){if(0===e)e=Date.now();else{if(1!==e&&4!==e)return E[de()>>2]=28,-1;e=J()}return E[t>>2]=e/1e3|0,E[t+4>>2]=e%1e3*1e6|0,0},s:function(e,t){return e-t},P:function(){B("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},g:function(){B("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Q:function(){B("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},O:function(){B("To use dlopen, you need to use Emscripten\'s linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},M:function(){return 2147483648},v:function(e,t,n){A.copyWithin(e,t,t+n)},i:function(e){var t=A.length;if(2147483648<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296),0<(r=Math.max(e,r))%65536&&(r+=65536-r%65536);e:{try{_.grow(Math.min(2147483648,r)-w.byteLength+65535>>>16),C();var a=1;break e}catch(e){}a=void 0}if(a)return!0}return!1},B:function(e){for(var t=J();J()-t<e;);},z:function(e,t){var n=0;return ne().forEach((function(r,a){var i=t+n;for(a=E[e+4*a>>2]=i,i=0;i<r.length;++i)O[a++>>0]=r.charCodeAt(i);O[a>>0]=0,n+=r.length+1})),0},A:function(e,t){var n=ne();E[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),E[t>>2]=r,0},f:function(){return 0},y:function(e,t){return e=1==e||2==e?2:B(),O[t>>0]=e,0},n:function(e,t,n,r){return e=K.Wa(e),t=K.Va(e,t,n),E[r>>2]=t,0},u:function(){},q:function(e,t,n,r){for(var a=0,i=0;i<n;i++){for(var o=E[t+8*i>>2],u=E[t+(8*i+4)>>2],s=0;s<u;s++){var c=A[o+s],l=Z[e];0===c||10===c?((1===e?y:v)(M(l,0)),l.length=0):l.push(c)}a+=u}return E[r>>2]=a,0},w:function(e){var t=Date.now();return E[e>>2]=t/1e3|0,E[e+4>>2]=t%1e3*1e3|0,0},t:function e(t,n){return t=new Date(1e3*E[t>>2]),E[n>>2]=t.getUTCSeconds(),E[n+4>>2]=t.getUTCMinutes(),E[n+8>>2]=t.getUTCHours(),E[n+12>>2]=t.getUTCDate(),E[n+16>>2]=t.getUTCMonth(),E[n+20>>2]=t.getUTCFullYear()-1900,E[n+24>>2]=t.getUTCDay(),E[n+36>>2]=0,E[n+32>>2]=0,E[n+28>>2]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,e.Da||(e.Da=R("GMT")),E[n+40>>2]=e.Da,n},l:function(e,t){re(),e=new Date(1e3*E[e>>2]),E[t>>2]=e.getSeconds(),E[t+4>>2]=e.getMinutes(),E[t+8>>2]=e.getHours(),E[t+12>>2]=e.getDate(),E[t+16>>2]=e.getMonth(),E[t+20>>2]=e.getFullYear()-1900,E[t+24>>2]=e.getDay();var n=new Date(e.getFullYear(),0,1);E[t+28>>2]=(e.getTime()-n.getTime())/864e5|0,E[t+36>>2]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();return e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),E[t+32>>2]=e,e=E[he()+(e?4:0)>>2],E[t+40>>2]=e,t},k:function(e){re();var t=new Date(E[e+20>>2]+1900,E[e+16>>2],E[e+12>>2],E[e+8>>2],E[e+4>>2],E[e>>2],0),n=E[e+32>>2],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[e+32>>2]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),t.setTime(t.getTime()+6e4*((0<n?u:i)-r))),E[e+24>>2]=t.getDay(),E[e+28>>2]=(t.getTime()-a.getTime())/864e5|0,E[e>>2]=t.getSeconds(),E[e+4>>2]=t.getMinutes(),E[e+8>>2]=t.getHours(),E[e+12>>2]=t.getDate(),E[e+16>>2]=t.getMonth(),t.getTime()/1e3|0},N:ce,e:function(e,t,n,r){return ce(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,_=t.asm.R,C(),P=t.asm.ua,F.unshift(t.asm.S),H--,t.monitorRunDependencies&&t.monitorRunDependencies(H),0==H&&(null!==Y&&(clearInterval(Y),Y=null),z&&(e=z,z=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!b&&(d||m)){if("function"==typeof fetch&&!W.startsWith("file://"))return fetch(W,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+W+"\'";return e.arrayBuffer()})).catch((function(){return q()}));if(s)return new Promise((function(e,t){s(W,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return q()}))}().then((function(e){return WebAssembly.instantiate(e,i)})).then(e,(function(e){v("failed to asynchronously prepare wasm: "+e),B(e)}))}var i={a:le};if(H++,t.monitorRunDependencies&&t.monitorRunDependencies(H),t.instantiateWasm)try{return t.instantiateWasm(i,e)}catch(e){return v("Module.instantiateWasm callback failed with error: "+e),!1}(b||"function"!=typeof WebAssembly.instantiateStreaming||G()||W.startsWith("file://")||"function"!=typeof fetch?r(n):fetch(W,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,i).then(n,(function(e){return v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.S).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.T).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.U).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.V).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.W).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.X).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.Y).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.Z).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm._).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.$).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.aa).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.ba).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.ca).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.da).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.ea).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.fa).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.ga).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.ha).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.ia).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.ja).apply(null,arguments)};var fe,pe=t._malloc=function(){return(pe=t._malloc=t.asm.ka).apply(null,arguments)},de=t.___errno_location=function(){return(de=t.___errno_location=t.asm.la).apply(null,arguments)},me=t._free=function(){return(me=t._free=t.asm.ma).apply(null,arguments)},he=t.__get_tzname=function(){return(he=t.__get_tzname=t.asm.na).apply(null,arguments)},ge=t.__get_daylight=function(){return(ge=t.__get_daylight=t.asm.oa).apply(null,arguments)},be=t.__get_timezone=function(){return(be=t.__get_timezone=t.asm.pa).apply(null,arguments)},ye=t.stackSave=function(){return(ye=t.stackSave=t.asm.qa).apply(null,arguments)},ve=t.stackRestore=function(){return(ve=t.stackRestore=t.asm.ra).apply(null,arguments)},_e=t.stackAlloc=function(){return(_e=t.stackAlloc=t.asm.sa).apply(null,arguments)},we=t._memalign=function(){return(we=t._memalign=t.asm.ta).apply(null,arguments)};function Oe(){function e(){if(!fe&&(fe=!0,t.calledRun=!0,!S)){if(V(F),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();j.unshift(e)}V(j)}}if(!(0<H)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)L();V(I),0<H||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.UTF8ToString=k,t.stringToUTF8=function(e,t,n){return x(e,A,t,n)},t.lengthBytesUTF8=D,t.stackSave=ye,t.stackRestore=ve,t.stackAlloc=_e,z=function e(){fe||Oe(),fe||(z=e)},t.run=Oe,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return Oe(),e.ready});e.exports=r},967:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o};Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=function(e,r,a,i){if("object"==typeof e&&null!==e){if(a.has(e))throw new Error("Circular reference in options");a.add(e)}Object.entries(e).forEach((function(e){var o=n(e,2),u=o[0],s=o[1],c=r?r+u:u;if("object"==typeof s)t.iterateExtraOptions(s,c+".",a,i);else if("string"==typeof s||"number"==typeof s)i(c,s.toString());else{if("boolean"!=typeof s)throw new Error("Can\'t handle extra config type: "+typeof s);i(c,s?"1":"0")}}))}},586:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;var r=n(967),a=n(983),i=n(361);t.setRunOptions=function(e){var t=i.getInstance(),n=0,o=[],u=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error("log serverity level is not valid: "+e.logSeverityLevel);if(void 0===(null==e?void 0:e.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error("log verbosity level is not valid: "+e.logVerbosityLevel);void 0===(null==e?void 0:e.terminate)&&(u.terminate=!1);var s=0;if(void 0!==(null==e?void 0:e.tag)&&(s=a.allocWasmString(e.tag,o)),0===(n=t._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,s)))throw new Error("Can\'t create run options");return void 0!==(null==e?void 0:e.extra)&&r.iterateExtraOptions(e.extra,"",new WeakSet,(function(e,r){var i=a.allocWasmString(e,o),u=a.allocWasmString(r,o);if(0!==t._OrtAddRunConfigEntry(n,i,u))throw new Error("Can\'t set a run config entry: "+e+" - "+r)})),[n,o]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),o.forEach(t._free),e}}},919:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;var r=n(967),a=n(983),i=n(361);t.setSessionOptions=function(e){var t=i.getInstance(),n=0,o=[],u=e||{};!function(e){e.extra||(e.extra={}),e.extra.session||(e.extra.session={});var t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1")}(u);try{void 0===(null==e?void 0:e.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");var s=function(e){switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error("unsupported graph optimization level: "+e)}}(u.graphOptimizationLevel);void 0===(null==e?void 0:e.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==e?void 0:e.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==e?void 0:e.executionMode)&&(u.executionMode="sequential");var c=function(e){switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error("unsupported execution mode: "+e)}}(u.executionMode),l=0;if(void 0!==(null==e?void 0:e.logId)&&(l=a.allocWasmString(e.logId,o)),void 0===(null==e?void 0:e.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error("log serverity level is not valid: "+e.logSeverityLevel);if(void 0===(null==e?void 0:e.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error("log verbosity level is not valid: "+e.logVerbosityLevel);if(void 0===(null==e?void 0:e.enableProfiling)&&(u.enableProfiling=!1),0===(n=t._OrtCreateSessionOptions(s,!!u.enableCpuMemArena,!!u.enableMemPattern,c,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel)))throw new Error("Can\'t create session options");return void 0!==(null==e?void 0:e.extra)&&r.iterateExtraOptions(e.extra,"",new WeakSet,(function(e,r){var i=a.allocWasmString(e,o),u=a.allocWasmString(r,o);if(0!==t._OrtAddSessionConfigEntry(n,i,u))throw new Error("Can\'t set a session config entry: "+e+" - "+r)})),[n,o]}catch(e){throw 0!==n&&t._OrtReleaseSessionOptions(n),o.forEach(t._free),e}}},983:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;var r=n(361);t.allocWasmString=function(e,t){var n=r.getInstance(),a=n.lengthBytesUTF8(e)+1,i=n._malloc(a);return n.stringToUTF8(e,i,a),t.push(i),i}},349:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.initOrt=void 0;var i=n(586),o=n(919),u=n(983),s=n(361);t.initOrt=function(e,t){var n=s.getInstance()._OrtInit(e,t);if(0!==n)throw new Error("Can\'t initialize onnxruntime. error code = "+n)};var c=[];t.createSession=function(e,t){var n,a=s.getInstance(),i=a._malloc(e.byteLength),u=0,l=0,f=[];try{if(l=(n=r(o.setSessionOptions(t),2))[0],f=n[1],a.HEAPU8.set(e,i),0===(u=a._OrtCreateSession(i,e.byteLength,l)))throw new Error("Can\'t create a session")}finally{a._free(i),a._OrtReleaseSessionOptions(l),f.forEach(a._free)}for(var p=a._OrtGetInputCount(u),d=a._OrtGetOutputCount(u),m=[],h=[],g=[],b=[],y=0;y<p;y++){var v=a._OrtGetInputName(u,y);if(0===v)throw new Error("Can\'t get an input name");h.push(v),m.push(a.UTF8ToString(v))}for(y=0;y<d;y++){var _=a._OrtGetOutputName(u,y);if(0===_)throw new Error("Can\'t get an output name");b.push(_),g.push(a.UTF8ToString(_))}return c.push([u,h,b]),[c.length-1,m,g]},t.releaseSession=function(e){var t=s.getInstance(),n=c[e];if(!n)throw new Error("invalid session id");var r=n[0],a=n[1],i=n[2];a.forEach(t._OrtFree),i.forEach(t._OrtFree),t._OrtReleaseSession(r),c[e]=void 0};var l=function(e){switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int32";case 13:return"uint32";default:throw new Error("unsupported data type: "+e)}},f=function(e){switch(e){case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error("unsupported type: "+e)}};t.run=function(e,t,n,a,o){var p,d=s.getInstance(),m=c[e];if(!m)throw new Error("invalid session id");var h=m[0],g=m[1],b=m[2],y=t.length,v=a.length,_=0,w=[],O=[],A=[];try{_=(p=r(i.setRunOptions(o),2))[0],w=p[1];for(var E=function(e){var t=n[e][0],r=n[e][1],a=n[e][2],i=void 0,o=void 0;if(Array.isArray(a)){o=4*a.length,i=d._malloc(o),A.push(i);for(var s=i/4,c=0;c<a.length;c++){if("string"!=typeof a[c])throw new TypeError("tensor data at index "+c+" is not a string");d.HEAPU32[s++]=u.allocWasmString(a[c],A)}}else o=a.byteLength,i=d._malloc(o),A.push(i),d.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,o),i);var l=d.stackSave(),f=d.stackAlloc(4*r.length);try{var p=f/4;r.forEach((function(e){return d.HEAP32[p++]=e}));var m=d._OrtCreateTensor(function(e){switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error("unsupported data type: "+e)}}(t),i,o,f,r.length);if(0===m)throw new Error("Can\'t create a tensor");O.push(m)}finally{d.stackRestore(l)}},S=0;S<y;S++)E(S);var T=d.stackSave(),M=d.stackAlloc(4*y),k=d.stackAlloc(4*y),x=d.stackAlloc(4*v),D=d.stackAlloc(4*v);try{var R=M/4,C=k/4,P=x/4,I=D/4;for(S=0;S<y;S++)d.HEAPU32[R++]=O[S],d.HEAPU32[C++]=g[t[S]];for(S=0;S<v;S++)d.HEAPU32[P++]=0,d.HEAPU32[I++]=b[a[S]];var F=d._OrtRun(h,k,M,y,D,v,x,_),U=[];if(0===F)for(S=0;S<v;S++){var j=d.HEAPU32[x/4+S],L=d.stackSave(),W=d.stackAlloc(16),H=void 0,Y=0;try{if(0!==(F=d._OrtGetTensorData(j,W,W+4,W+8,W+12)))throw new Error("Can\'t get a tensor data. error code = "+F);var z=W/4,B=d.HEAPU32[z++];Y=d.HEAPU32[z++];for(var G=d.HEAPU32[z++],N=d.HEAPU32[z++],q=[],V=0;V<N;V++)q.push(d.HEAPU32[G/4+V]);d._OrtFree(G);var X=0===q.length?1:q.reduce((function(e,t){return e*t}));if("string"===(H=l(B))){for(var J=[],Q=Y/4,Z=0;Z<X;Z++){var K=d.HEAPU32[Q++],$=Z===X-1?void 0:d.HEAPU32[Q]-K;J.push(d.UTF8ToString(K,$))}U.push([H,q,J])}else{var ee=new(f(H))(X);new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength).set(d.HEAPU8.subarray(Y,Y+ee.byteLength)),U.push([H,q,ee])}}finally{d.stackRestore(L),"string"===H&&Y&&d._free(Y),d._OrtReleaseTensor(j)}}if(0===F)return U;throw new Error("failed to call OrtRun(). error code = "+F+".")}finally{d.stackRestore(T)}}finally{O.forEach(d._OrtReleaseTensor),A.forEach(d._free),d._OrtReleaseRunOptions(_),w.forEach(d._free)}},t.endProfiling=function(e){var t=s.getInstance(),n=c[e];if(!n)throw new Error("invalid session id");var r=n[0],a=t._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");t._OrtFree(a)},t.extractTransferableBuffers=function(e){var t,n,r=[];try{for(var i=a(e),o=i.next();!o.done;o=i.next()){var u=o.value[2];!Array.isArray(u)&&u.buffer&&r.push(u.buffer)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}},361:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;var c,l=i(n(449)),f=s(n(474)),p=s(n(932)),d=!1,m=!1,h=!1,g=function(e,t){return t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm"};t.initializeWebAssembly=function(e){return o(void 0,void 0,void 0,(function(){var t,r,a,i,o,s,b,y,v,_,w;return u(this,(function(u){switch(u.label){case 0:if(d)return[2,Promise.resolve()];if(m)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");return m=!0,t=e.initTimeout,r=e.numThreads,a=e.simd,i=r>1&&function(){try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}}(),o=a&&function(){try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]))}catch(e){return!1}}(),s="string"==typeof e.wasmPaths?e.wasmPaths:void 0,b=g(!1,i),y=g(o,i),v="object"==typeof e.wasmPaths?e.wasmPaths[y]:void 0,_=!1,w=[],t>0&&w.push(new Promise((function(e){setTimeout((function(){_=!0,e()}),t)}))),w.push(new Promise((function(e,t){var r=i?f.default:p.default,a={locateFile:function(e,t){return e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(118)],{type:"text/javascript"})):e===b?null!=v?v:(null!=s?s:t)+y:t+e}};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=l.join("/","ort-wasm-threaded.js");else{var o="var ortWasmThreaded=(function(){var _scriptDir;return "+f.default.toString()+"})();";a.mainScriptUrlOrBlob=new Blob([o],{type:"text/javascript"})}r(a).then((function(t){m=!1,d=!0,c=t,e()}),(function(e){m=!1,h=!0,t(e)}))}))),[4,Promise.race(w)];case 1:if(u.sent(),_)throw new Error("WebAssembly backend initializing failed due to timeout: "+t+"ms");return[2]}}))}))},t.getInstance=function(){if(d&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=function(){var e;!d||m||h||(m=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,m=!1,d=!1,h=!0)}},384:function(){},993:function(){},908:function(){},953:function(){},925:function(){},449:function(){}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){"use strict";var e=n(349),t=n(361);self.onmessage=function(n){switch(n.data.type){case"init-wasm":t.initializeWebAssembly(n.data.in).then((function(){return postMessage({type:"init-wasm"})}),(function(e){return postMessage({type:"init-wasm",err:e})}));break;case"init-ort":try{var r=n.data.in,a=r.numThreads,i=r.loggingLevel;e.initOrt(a,i),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create":try{var o=n.data.in,u=o.model,s=o.options,c=e.createSession(u,s);postMessage({type:"create",out:c})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{var l=n.data.in;e.releaseSession(l),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{var f=n.data.in,p=f.sessionId,d=f.inputIndices,m=f.inputs,h=f.outputIndices,g=(s=f.options,e.run(p,d,m,h,s));postMessage({type:"run",out:g},e.extractTransferableBuffers(g))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{l=n.data.in,e.endProfiling(l),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}}()}();\n',"Worker",void 0,void 0)}},477:function(t){"use strict";t.exports=function(t,e,n,r){var o=self||window;try{try{var i;try{i=new o.Blob([t])}catch(e){(i=new(o.BlobBuilder||o.WebKitBlobBuilder||o.MozBlobBuilder||o.MSBlobBuilder)).append(t),i=i.getBlob()}var a=o.URL||o.webkitURL,s=a.createObjectURL(i),u=new o[e](s,n);return a.revokeObjectURL(s),u}catch(r){return new o[e]("data:application/javascript,".concat(encodeURIComponent(t)),n)}}catch(t){if(!r)throw Error("Inline worker is not supported");return new o[e](r,n)}}},2174:function(t){"use strict";t.exports=__WEBPACK_EXTERNAL_MODULE__2174__},7067:function(){},1296:function(){},1384:function(){},3993:function(){},908:function(){},6953:function(){},9925:function(){},6449:function(){},2203:function(){},5381:function(){},8022:function(){}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=function(t,e){for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(6018);return __webpack_exports__}()},module.exports=t(__webpack_require__(406))}).call(this,__webpack_require__(253),__webpack_require__(447).Buffer)},447:function(t,e,n){"use strict";(function(t){var r=n(448),o=n(449),l=n(450);function c(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(t,e){if(c()<e)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=d.prototype:(null===t&&(t=new d(e)),t.length=e),t}function d(t,e,n){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return m(this,t)}return h(this,t,e,n)}function h(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);d.TYPED_ARRAY_SUPPORT?(t=e).__proto__=d.prototype:t=v(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!d.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|w(e,n),o=(t=f(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(d.isBuffer(e)){var n=0|_(e.length);return 0===(t=f(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?f(t,0):v(t,e);if("Buffer"===e.type&&l(e.data))return v(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function y(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function m(t,e){if(y(e),t=f(t,e<0?0:0|_(e)),!d.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function v(t,e){var n=e.length<0?0:0|_(e.length);t=f(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function _(t){if(t>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|t}function w(t,e){if(d.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(t).length;default:if(r)return K(t).length;e=(""+e).toLowerCase(),r=!0}}function x(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return F(this,e,n);case"latin1":case"binary":return L(this,e,n);case"base64":return R(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function T(b,t,e){var i=b[t];b[t]=b[e],b[e]=i}function S(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=d.from(e,r)),d.isBuffer(e))return 0===e.length?-1:O(t,e,n,r,o);if("number"==typeof e)return e&=255,d.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):O(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function O(t,e,n,r,o){var i,l=1,c=t.length,f=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;l=2,c/=2,f/=2,n/=2}function d(t,i){return 1===l?t[i]:t.readUInt16BE(i*l)}if(o){var h=-1;for(i=n;i<c;i++)if(d(t,i)===d(e,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===f)return h*l}else-1!==h&&(i-=i-h),h=-1}else for(n+f>c&&(n=c-f),i=n;i>=0;i--){for(var y=!0,m=0;m<f;m++)if(d(t,i+m)!==d(e,m)){y=!1;break}if(y)return i}return-1}function A(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var l=e.length;if(l%2!=0)throw new TypeError("Invalid hex string");r>l/2&&(r=l/2);for(var i=0;i<r;++i){var c=parseInt(e.substr(2*i,2),16);if(isNaN(c))return i;t[n+i]=c}return i}function E(t,e,n,r){return J(K(e,t.length-n),t,n,r)}function P(t,e,n,r){return J(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,n,r)}function I(t,e,n,r){return P(t,e,n,r)}function D(t,e,n,r){return J(Z(e),t,n,r)}function k(t,e,n,r){return J(function(t,e){for(var n,r,o,l=[],i=0;i<t.length&&!((e-=2)<0);++i)r=(n=t.charCodeAt(i))>>8,o=n%256,l.push(o),l.push(r);return l}(e,t.length-n),t,n,r)}function R(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,l,c,f,d=t[i],h=null,y=d>239?4:d>223?3:d>191?2:1;if(i+y<=n)switch(y){case 1:d<128&&(h=d);break;case 2:128==(192&(o=t[i+1]))&&(f=(31&d)<<6|63&o)>127&&(h=f);break;case 3:o=t[i+1],l=t[i+2],128==(192&o)&&128==(192&l)&&(f=(15&d)<<12|(63&o)<<6|63&l)>2047&&(f<55296||f>57343)&&(h=f);break;case 4:o=t[i+1],l=t[i+2],c=t[i+3],128==(192&o)&&128==(192&l)&&128==(192&c)&&(f=(15&d)<<18|(63&o)<<12|(63&l)<<6|63&c)>65535&&f<1114112&&(h=f)}null===h?(h=65533,y=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=y}return function(t){var e=t.length;if(e<=N)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=N));return n}(r)}e.Buffer=d,e.SlowBuffer=function(t){+t!=t&&(t=0);return d.alloc(+t)},e.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=c(),d.poolSize=8192,d._augment=function(t){return t.__proto__=d.prototype,t},d.from=function(t,e,n){return h(null,t,e,n)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(t,e,n){return function(t,e,n,r){return y(e),e<=0?f(t,e):void 0!==n?"string"==typeof r?f(t,e).fill(n,r):f(t,e).fill(n):f(t,e)}(null,t,e,n)},d.allocUnsafe=function(t){return m(null,t)},d.allocUnsafeSlow=function(t){return m(null,t)},d.isBuffer=function(b){return!(null==b||!b._isBuffer)},d.compare=function(a,b){if(!d.isBuffer(a)||!d.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var t=a.length,e=b.length,i=0,n=Math.min(t,e);i<n;++i)if(a[i]!==b[i]){t=a[i],e=b[i];break}return t<e?-1:e<t?1:0},d.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(t,e){if(!l(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return d.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=d.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var o=t[i];if(!d.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},d.byteLength=w,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)T(this,i,i+1);return this},d.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)T(this,i,i+3),T(this,i+1,i+2);return this},d.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)T(this,i,i+7),T(this,i+1,i+6),T(this,i+2,i+5),T(this,i+3,i+4);return this},d.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):x.apply(this,arguments)},d.prototype.equals=function(b){if(!d.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===d.compare(this,b)},d.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},d.prototype.compare=function(t,e,n,r,o){if(!d.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var l=(o>>>=0)-(r>>>=0),c=(n>>>=0)-(e>>>=0),f=Math.min(l,c),h=this.slice(r,o),y=t.slice(e,n),i=0;i<f;++i)if(h[i]!==y[i]){l=h[i],c=y[i];break}return l<c?-1:c<l?1:0},d.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},d.prototype.indexOf=function(t,e,n){return S(this,t,e,n,!0)},d.prototype.lastIndexOf=function(t,e,n){return S(this,t,e,n,!1)},d.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var l=!1;;)switch(r){case"hex":return A(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":return P(this,t,e,n);case"latin1":case"binary":return I(this,t,e,n);case"base64":return D(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(l)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),l=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function F(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function L(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function M(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=X(t[i]);return o}function j(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function B(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function U(t,e,n,r,o,l){if(!d.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<l)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function V(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function z(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function G(t,e,n,r,o,l){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(t,e,n,r,l){return l||G(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function W(t,e,n,r,l){return l||G(t,0,n,8),o.write(t,e,n,r,52,8),n+8}d.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),d.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=d.prototype;else{var o=e-t;n=new d(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},d.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},d.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},d.prototype.readUInt8=function(t,e){return e||B(t,1,this.length),this[t]},d.prototype.readUInt16LE=function(t,e){return e||B(t,2,this.length),this[t]|this[t+1]<<8},d.prototype.readUInt16BE=function(t,e){return e||B(t,2,this.length),this[t]<<8|this[t+1]},d.prototype.readUInt32LE=function(t,e){return e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},d.prototype.readUInt32BE=function(t,e){return e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},d.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},d.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},d.prototype.readInt8=function(t,e){return e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},d.prototype.readInt16LE=function(t,e){e||B(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt16BE=function(t,e){e||B(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt32LE=function(t,e){return e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},d.prototype.readInt32BE=function(t,e){return e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},d.prototype.readFloatLE=function(t,e){return e||B(t,4,this.length),o.read(this,t,!0,23,4)},d.prototype.readFloatBE=function(t,e){return e||B(t,4,this.length),o.read(this,t,!1,23,4)},d.prototype.readDoubleLE=function(t,e){return e||B(t,8,this.length),o.read(this,t,!0,52,8)},d.prototype.readDoubleBE=function(t,e){return e||B(t,8,this.length),o.read(this,t,!1,52,8)},d.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||U(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},d.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||U(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},d.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,1,255,0),d.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},d.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},d.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},d.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):z(this,t,e,!0),e+4},d.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},d.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);U(this,t,e,n,o-1,-o)}var i=0,l=1,sub=0;for(this[e]=255&t;++i<n&&(l*=256);)t<0&&0===sub&&0!==this[e+i-1]&&(sub=1),this[e+i]=(t/l>>0)-sub&255;return e+n},d.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);U(this,t,e,n,o-1,-o)}var i=n-1,l=1,sub=0;for(this[e+i]=255&t;--i>=0&&(l*=256);)t<0&&0===sub&&0!==this[e+i+1]&&(sub=1),this[e+i]=(t/l>>0)-sub&255;return e+n},d.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,1,127,-128),d.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},d.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},d.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},d.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):z(this,t,e,!0),e+4},d.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},d.prototype.writeFloatLE=function(t,e,n){return H(this,t,e,!0,n)},d.prototype.writeFloatBE=function(t,e,n){return H(this,t,e,!1,n)},d.prototype.writeDoubleLE=function(t,e,n){return W(this,t,e,!0,n)},d.prototype.writeDoubleBE=function(t,e,n){return W(this,t,e,!1,n)},d.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!d.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},d.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var code=t.charCodeAt(0);code<256&&(t=code)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!d.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var o=d.isBuffer(t)?t:K(new d(t,r).toString()),l=o.length;for(i=0;i<n-e;++i)this[i+e]=o[i%l]}return this};var Y=/[^+\/0-9A-Za-z-_]/g;function X(t){return t<16?"0"+t.toString(16):t.toString(16)}function K(t,e){var n;e=e||1/0;for(var r=t.length,o=null,l=[],i=0;i<r;++i){if((n=t.charCodeAt(i))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&l.push(239,191,189);continue}if(i+1===r){(e-=3)>-1&&l.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&l.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&l.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;l.push(n)}else if(n<2048){if((e-=2)<0)break;l.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;l.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;l.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return l}function Z(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(Y,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function J(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(84))},448:function(t,e,n){"use strict";e.byteLength=function(t){var e=f(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,i,n=f(t),r=n[0],c=n[1],d=new l(function(t,e,n){return 3*(e+n)/4-n}(0,r,c)),h=0,y=c>0?r-4:r;for(i=0;i<y;i+=4)e=o[t.charCodeAt(i)]<<18|o[t.charCodeAt(i+1)]<<12|o[t.charCodeAt(i+2)]<<6|o[t.charCodeAt(i+3)],d[h++]=e>>16&255,d[h++]=e>>8&255,d[h++]=255&e;2===c&&(e=o[t.charCodeAt(i)]<<2|o[t.charCodeAt(i+1)]>>4,d[h++]=255&e);1===c&&(e=o[t.charCodeAt(i)]<<10|o[t.charCodeAt(i+1)]<<4|o[t.charCodeAt(i+2)]>>2,d[h++]=e>>8&255,d[h++]=255&e);return d},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,l=[],c=16383,i=0,f=n-o;i<f;i+=c)l.push(d(t,i,i+c>f?f:i+c));1===o?(e=t[n-1],l.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],l.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return l.join("")};for(var r=[],o=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,c=code.length;i<c;++i)r[i]=code[i],o[code.charCodeAt(i)]=i;function f(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function d(t,e,n){for(var o,l,output=[],i=e;i<n;i+=3)o=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),output.push(r[(l=o)>>18&63]+r[l>>12&63]+r[l>>6&63]+r[63&l]);return output.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},449:function(t,e){e.read=function(t,e,n,r,o){var l,c,f=8*o-r-1,d=(1<<f)-1,h=d>>1,y=-7,i=n?o-1:0,m=n?-1:1,s=t[e+i];for(i+=m,l=s&(1<<-y)-1,s>>=-y,y+=f;y>0;l=256*l+t[e+i],i+=m,y-=8);for(c=l&(1<<-y)-1,l>>=-y,y+=r;y>0;c=256*c+t[e+i],i+=m,y-=8);if(0===l)l=1-h;else{if(l===d)return c?NaN:1/0*(s?-1:1);c+=Math.pow(2,r),l-=h}return(s?-1:1)*c*Math.pow(2,l-r)},e.write=function(t,e,n,r,o,l){var c,f,d,h=8*l-o-1,y=(1<<h)-1,m=y>>1,rt=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,i=r?0:l-1,v=r?1:-1,s=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,c=y):(c=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-c))<1&&(c--,d*=2),(e+=c+m>=1?rt/d:rt*Math.pow(2,1-m))*d>=2&&(c++,d/=2),c+m>=y?(f=0,c=y):c+m>=1?(f=(e*d-1)*Math.pow(2,o),c+=m):(f=e*Math.pow(2,m-1)*Math.pow(2,o),c=0));o>=8;t[n+i]=255&f,i+=v,f/=256,o-=8);for(c=c<<o|f,h+=o;h>0;t[n+i]=255&c,i+=v,c/=256,h-=8);t[n+i-v]|=128*s}},450:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}}}]);